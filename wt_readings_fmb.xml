<?xml version = '1.0' encoding = 'UTF-8'?>
<Module version="111020200" xmlns="http://xmlns.oracle.com/Forms">
   <FormModule Name="WT_READINGS" DirtyInfo="true" Title="Application_Template" LanguageDirection="Right To Left" MenuModule="" ConsoleWindow="WINDOW1">
      <Coordinate CharacterCellWidth="176" DefaultFontScaling="false" CoordinateSystem="Real" CharacterCellHeight="494" RealUnit="Centimeter"/>
      <Alert Name="DYNAMIC_STOP" SubclassObjectGroup="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <Alert Name="T_DEBUG" SubclassObjectGroup="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <Alert Name="WEBUTIL_ERROR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="webutil.olb" ParentModule="WEBUTIL" ParentModuleType="25" ParentName="WEBUTIL"/>
      <Alert Name="ALERT376" DirtyInfo="true"/>
      <Alert Name="GENERAL" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="STOP_1" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="STOP_2" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="STOP_3" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="CAUTION_1" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="CAUTION_2" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="CAUTION_3" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="NOTE_1" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="NOTE_2" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <Alert Name="NOTE_3" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS"/>
      <AttachedLibrary Name="FILEWORKS" LibrarySource="File" LibraryLocation="fileworks"/>
      <AttachedLibrary Name="LOGIN_UTIL" LibrarySource="File" LibraryLocation="LOGIN_UTIL"/>
      <AttachedLibrary Name="WEBUTIL" LibrarySource="File" LibraryLocation="webutil"/>
      <AttachedLibrary Name="FORM_UTILS" LibrarySource="File" LibraryLocation="FORM_UTILS"/>
      <AttachedLibrary Name="RUN_REPORT" LibrarySource="File" LibraryLocation="run_report"/>
      <AttachedLibrary Name="APP_UTIL" LibrarySource="File" LibraryLocation="app_util"/>
      <AttachedLibrary Name="FUNCTIONS" LibrarySource="File" LibraryLocation="FUNCTIONS"/>
      <AttachedLibrary Name="D2KWUTIL" LibrarySource="File" LibraryLocation="d2kwutil"/>
      <Block Name="QUERY" DirtyInfo="true" NavigationStyle="Change Data Block" ScrollbarWidth="318" ScrollbarLength="4763" DatabaseBlock="false">
         <Item Name="EDITOR_COMMENTS" YPosition="4413" XPosition="19849" IconFilename="afedit" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LARGE_PC" TabPageName="" DirtyInfo="true" Width="660" CanvasName="MAIN_CV_4" ParentType="29">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="/*BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN&amp;#10; IF :system.block_status &lt;> 'NEW' THEN -- if help button not active&amp;#10;   CALL_HISTORY;&amp;#10; END IF;&amp;#10;END IF; &amp;#10;END;*/&amp;#10;edit_textitem;" DirtyInfo="true"/>
         </Item>
         <Item Name="UPDATE" Enabled="false" YPosition="10926" XPosition="24369" Iconic="false" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_UPDATE_PC" BackColor="metrogray1" FontWeight="Bold" Label="עדכון" TabPageName="" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="1429" FontSize="1100" FontName="Arial" ParentType="29" CanvasName="MAIN_CV_4" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARe&amp;#10;&#x9;v_start_period VARCHAR2(6);&amp;#10;&#x9;p_fiscal_year VARCHAR2(10);&amp;#10;&#x9;p_period_num VARCHAR2(6);&amp;#10;&#x9;p_status VARCHAR2(6);&amp;#10;&#x9;v_alert&#x9;number;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;if :system.current_block &lt;> 'WT_READINGS_BLK' then&amp;#10;  &#x9;go_block('WT_READINGS_BLK');&amp;#10;&#x9;end if;&amp;#10;--&#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_STATUS_CODE',enabled,PROPERTY_TRUE);&amp;#10;--   P_SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_LIST',enabled,PROPERTY_TRUE);&amp;#10;&#x9;  --&#x9;message('8888:wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&amp;#10;&#x9;if :WT_READINGS_BLK.WATER_ID is not null then&amp;#10;&#x9;&#x9;&amp;#10;&#x9;/*&#x9;if :WT_READINGS_BLK.allow_to_update_yn = 'Y' then*/&amp;#10;&#x9;&amp;#10;  &#x9;:parameter.curr_rec  := get_block_property('WT_READINGS_BLK',CURRENT_RECORD);&amp;#10;   &#x9;/******:WT_READINGS_UPD_BLK.ESTIMATED_YN:='N';&amp;#10;   &#x9;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.CODE_LIST',ENABLED,PROPERTY_false);&amp;#10;&#x9;&#x9;&amp;#10;   &#x9;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.ESTIMATED_CODE',ENABLED,PROPERTY_false);*****/&amp;#10;   --add by rachel 15/10&amp;#10;   /*v_start_period:=sr_code_values_pkg.get_varchar_value('WT_CALC_BY_DATES_START_PERIOD');&amp;#10;   IF v_start_period=0 OR&amp;#10;   &#x9;  v_start_period > :wt_readings_blk.fiscal_year||lpad(:wt_readings_blk.period_num, 2, '0')&amp;#10;   THEN&amp;#10;    &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',enabled,PROPERTY_FALSE);&amp;#10;    &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',visible,PROPERTY_FALSE);&amp;#10;    &#x9; &amp;#10;    &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',enabled,PROPERTY_FALSE);&amp;#10;    &#x9;P_SET_ITEM_PROPERTY('CONTROL.add_reading',ENABLED, PROPERTY_FALSE);&amp;#10;   &amp;#10;   else&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',enabled,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',update_allowed,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',navigable,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',visible,PROPERTY_TRUE);&amp;#10;       &#x9;  P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',enabled,PROPERTY_TRUE);&amp;#10;       &#x9;&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',enabled,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',update_allowed,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',navigable,PROPERTY_TRUE);&amp;#10;       &#x9;    P_SET_ITEM_PROPERTY('CONTROL.add_reading',ENABLED, PROPERTY_TRUE);&amp;#10;   &amp;#10;   end if;*/&amp;#10;       --end rachel&amp;#10;  /*brachi by ofer 022015*/&amp;#10;   --wt_run_retro_pkg.GET_YEAR_PERIOD(3,4,:WT_READINGS_BLK.water_id,p_fiscal_year,p_period_num,p_status);&amp;#10;   &#x9;begin&amp;#10;        select fiscal_year||period_num&amp;#10;        into p_fiscal_year  &amp;#10;        from(&amp;#10;        select * &amp;#10;        from wt_readings&amp;#10;        where water_id=:WT_READINGS_BLK.water_id&amp;#10;      order by fiscal_year||period_num desc)where rownum=1;&amp;#10;   &#x9;end;&amp;#10;   &#x9;IF :wt_readings_blk.reading_Type = 2 THEN &amp;#10;&#x9; &#x9;&#x9;:UPD_READINGS.fiscal_year:= :wt_readings_blk.fiscal_year;&amp;#10;&#x9;  &#x9;:UPD_READINGS.period_num := :wt_readings_blk.period_num;&amp;#10;&#x9;  &#x9;:UPD_READINGS.QTY_ADD    := :wt_readings_blk.QTY;&amp;#10;&#x9;  &#x9;--Miri added 13/02/18&amp;#10;&#x9;  &#x9;:UPD_READINGS.REPAIR_REASON_UPD := NVL(:wt_readings_blk.REPAIR_REASON_CODE,'');&amp;#10;&#x9;  &#x9;:UPD_READINGS.DISP_REPAIR_REASON_UPD := :WT_READINGS_BLK.REPAIR_REASON_NAME;&amp;#10;&#x9;  &#x9;--End Miri&amp;#10;&#x9;  &#x9;show_view('UPD_READINGS_CV');&amp;#10;&#x9;  &#x9;show_window('UPD_READINGS_WIN');&amp;#10;&#x9;  &#x9;go_item('UPD_READINGS.QTY_ADD');&amp;#10;&#x9; &#x9;else&amp;#10;&#x9;   &#x9;if to_number(:WT_READINGS_BLK.fiscal_year||:WT_READINGS_BLK.period_num)= p_fiscal_year then&amp;#10;&#x9;   &#x9;&#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.reading_date',enabled,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;  P_SET_ITEM_PROPERTY('wt_readings_upd_blk.reading_date',navigable,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;  &#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.reading_date',update_allowed,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;   &#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',visible,PROPERTY_true);&amp;#10;&#x9;&#x9;   &#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',enabled,PROPERTY_true);&amp;#10;&#x9;&#x9;&#x9;end if;&amp;#10;   &#x9;&#x9;GO_BLOCK('WT_READINGS_UPD_BLK');&amp;#10;   &#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;   &#x9;&#x9;EXECUTE_QUERY;&amp;#10;   &#x9;end if;&amp;#10;   &#x9; -- &#x9;message('0000:wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&amp;#10; &amp;#10;   /*&amp;#10;   &#x9;elsif :WT_READINGS_BLK.allow_to_update_yn = 'T' then&amp;#10;   &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לא ניתן לעדכן קריאה עד שירוץ תהליך תקופתי על תקופה זו',NULL,NULL);&amp;#10;   &#x9;elsif :WT_READINGS_BLK.allow_to_update_yn = 'N' then&amp;#10;   &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'שלא ניתן לעדכן קריאה שהתבררה בדיעבד ככוללת תקופתית',NULL,NULL);&amp;#10;   &#x9;end if;&amp;#10;   &#x9;*/&amp;#10;   &#x9;&amp;#10;else&amp;#10;   null;&amp;#10;end if;&amp;#10;/*if sr_code_values_pkg.get_varchar_value('UPDATE_READING_DATE')='N' THEN&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE_BUT',enabled,PROPERTY_FALSE);&amp;#10;    --&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',update_allowed,PROPERTY_FALSE);&amp;#10;    &#x9;--&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',insert_allowed,PROPERTY_FALSE);&amp;#10;else&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE_BUT',enabled,PROPERTY_true);&amp;#10;   -- &#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',update_allowed,PROPERTY_true);&amp;#10;    --&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',insert_allowed,PROPERTY_truE);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',navigable,PROPERTY_truE);&amp;#10;    &#x9;&#x9;&amp;#10;&#x9;END IF;*/&amp;#10;end;&amp;#10;&amp;#10;"/>
         </Item>
         <Item Name="READING_READY_YN_RB" MaximumLength="1" TabPageName="" DirtyInfo="true" Width="2381" ParentType="29" CanvasName="MAIN_CV_4" InitializeValue="A" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="RADIO_PC">
            <RadioButton Name="YES" BackColor="white" YPosition="3599" Label="כן" XPosition="2244" DirtyInfo="true" Width="900" Height="476" RadioButtonValue="N"/>
            <RadioButton Name="NO" BackColor="white" YPosition="3599" Label="לא" XPosition="3248" DirtyInfo="true" Width="900" Height="476" RadioButtonValue="Y"/>
            <RadioButton Name="ALL" BackColor="white" YPosition="3599" Label="הכל" XPosition="4415" DirtyInfo="true" Width="1100" Height="476" RadioButtonValue="A"/>
         </Item>
         <Item Name="HISTORY" YPosition="13041" XPosition="15802" IconFilename="convert_history" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="היסטוריה מהסבה" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" Width="3701" FontSize="1100" FontName="Arial" ParentType="29" CanvasName="MAIN_CV_4" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText=":global.water_id:=:query.water_id;&amp;#10;&amp;#10;CALL_FORM('WT_HISTORY'); -- היסטוריה הסבה של מים" DirtyInfo="true"/>
         </Item>
         <Item Name="PRINT_BTN" YPosition="12352" XPosition="24369" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray" FontWeight="Bold" Label="הדפסה" TabPageName="" FontStyle="Plain" DirtyInfo="true" Width="1429" CanvasName="MAIN_CV_4" ParentType="29" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="print_rep_2;" DirtyInfo="true"/>
         </Item>
         <Item Name="WATER_ID" MaximumLength="12" RecordVisualAttributeGroupName="" Enabled="true" YPosition="940" XPosition="2748" Tooltip="" AutoHint="true" ItemsDisplay="1" AutoSkip="true" DirtyInfo="true" DatabaseItem="false" Width="2600" CanvasName="MAIN_CV_4" PromptFontName="Arial" Required="false" PromptFontSize="1100" DataType="Char" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_ITEM_HEB_PC" Prompt="זיהוי מים " TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentOffset="819" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;&#x9;v_check number(1);&amp;#10;&#x9;&#x9;v_arad_alert_seq number;&amp;#10;BEGIN&amp;#10;&#x9;IF :query.water_id IS NOT NULL THEN&amp;#10;&#x9;&#x9;:global.water_id := :query.water_id;&amp;#10;&amp;#10;&#x9;&#x9;&amp;#10;&amp;#10;&amp;#10;begin&amp;#10;&amp;#10;select max(arad_alert_seq)&amp;#10;into v_arad_alert_seq&amp;#10;from wt_karam_alerts &amp;#10;where  water_id=:query.water_id;&amp;#10;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;select ' שים לב! לזיהוי זה קיים התראת ' || get_desc_query_pkg.get_code_desc_query(7033,g.ALERT_TYPE) &amp;#10;into :QUERY.KARAM_ALERT&amp;#10;from wt_karam_alerts g &amp;#10;where g.water_id=:query.water_id&amp;#10;and g.alert_type is not null&amp;#10;and g.arad_alert_status =1&amp;#10;and 0=(select count(1) from wt_karam_alerts a where a.water_id=:query.water_id and  (a.arad_alert_status =100 or a.arad_alert_status =2)&amp;#10;and arad_alert_seq=v_arad_alert_seq)&amp;#10;and rownum=1;&amp;#10;&amp;#10;&#x9;exception when others then &amp;#10;&#x9;&#x9;:QUERY.KARAM_ALERT:=null;&amp;#10;&#x9;&#x9;end;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;--chani_h 03-2018&amp;#10;&#x9;&#x9;:QUERY.EXTRA_GAUGES:='';&amp;#10;&#x9;&#x9;begin&amp;#10;&#x9;&#x9;select 1 &amp;#10;&#x9;&#x9;into v_check&amp;#10;&#x9;&#x9;from wt_net t &amp;#10;&#x9;&#x9;where exists(select c.combined_water_id from wt_net c where c.combined_water_id =t.water_id)&amp;#10;    and t.water_id=:query.water_id;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;if v_check =1 then&amp;#10;&#x9;:QUERY.EXTRA_GAUGES:='*';&amp;#10;&#x9;&#x9;else&amp;#10;&#x9;:QUERY.EXTRA_GAUGES:='';&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;end if;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;exception when others then&amp;#10;&#x9;&#x9;&#x9;&#x9;:QUERY.EXTRA_GAUGES:='';&amp;#10;&#x9;&#x9;&#x9;end;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;--end chani_h 03-2018&amp;#10;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:global.water_id := NULL;&amp;#10;&#x9;END IF;&amp;#10;END;&amp;#10;"/>
         </Item>
         <Item Name="PREV_WATER_ID" YPosition="863" XPosition="2246" IconFilename="detail_r" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" TabPageName="" DirtyInfo="true" Width="480" CanvasName="MAIN_CV_4" ParentType="29" Height="609">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;   v_out_water_id   wt_net.water_id%TYPE;&amp;#10;BEGIN&amp;#10;   IF :query.water_id IS NOT NULL THEN&amp;#10;      get_prev_water_id(:query.water_id,&amp;#10;                        v_out_water_id); &amp;#10;      :query.water_id := v_out_water_id;&amp;#10;      GO_ITEM('query.QUERY_BUTTON');&amp;#10;      EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="NEXT_WATER_ID" YPosition="863" XPosition="5409" IconFilename="detail" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" TabPageName="" DirtyInfo="true" Width="480" CanvasName="MAIN_CV_4" ParentType="29" Height="609">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;   v_out_water_id   wt_net.water_id%TYPE;&amp;#10;BEGIN&amp;#10;   IF :query.water_id IS NOT NULL THEN&amp;#10;      get_next_water_id(:query.water_id,&amp;#10;                        v_out_water_id); &amp;#10;      :query.water_id := v_out_water_id;&amp;#10;      &amp;#10;:QUERY.READING_READY_YN_RB :='A';--Miri 04/03/18&amp;#10;      &amp;#10;      GO_ITEM('query.QUERY_BUTTON');&amp;#10;      EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="WATER_ID_CLASS_NAME" MaximumLength="40" YPosition="1683" XPosition="2223" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="סוג זיהוי" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptAttachmentOffset="452" Width="2624" PromptAlignOffset="-13" PromptFontWeight="Medium" CanvasName="MAIN_CV_4" ParentType="29"/>
         <Item Name="CARD_NUM" MaximumLength="7" DirtyInfo="true" DatabaseItem="false" Width="1588" AutoHint="true" LowestAllowedValue="0"/>
         <Item Name="OBJ_NAME" MaximumLength="85" YPosition="2151" XPosition="20457" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="כתובת נכס" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="5233" PromptAttachmentOffset="982" PromptFontWeight="Medium" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" Height="524"/>
         <Item Name="GAUGE_DESC" MaximumLength="85" YPosition="2337" XPosition="2223" Justification="Right" AutoHint="true" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="2624" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="סוג מד" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="584" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="KARAM_TYPE" MaximumLength="85" YPosition="2418" XPosition="3488" Justification="Right" AutoHint="true" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="921" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="סוג מד" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1133" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="GAUGE_DIAMETER" MaximumLength="85" YPosition="3027" XPosition="2272" Justification="Right" AutoHint="true" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="2570" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="קוטר" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="902" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="INSTALL_DATE" MaximumLength="85" YPosition="3529" XPosition="8281" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISPLAY_DATE_COLOR_PC" Prompt="תאריך התקנה" TabPageName="" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" PromptFontSpacing="Normal" PromptAttachmentOffset="133" Width="4816" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" MouseNavigate="false"/>
         <Item Name="CHANGE_DATE" MaximumLength="85" YPosition="2869" XPosition="8268" Justification="Center" AutoHint="true" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="4816" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" CaseRestriction="Upper" FormatMask="DD/MM/YYYY" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה  לתאריך" DataType="Date" ItemType="Display Item" Prompt="סיום תוקף" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="659" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="OBJ_ID" UpdateAllowed="false" MaximumLength="15" YPosition="803" XPosition="20480" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="SB_TEXT_ITEM_HEB_PC" BackColor="gray4" Prompt="מס' נכס" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptAttachmentOffset="1430" Width="5233" CanvasName="MAIN_CV_4" ParentType="29" Height="524"/>
         <Item Name="CLIENT_ID" MaximumLength="15" YPosition="1488" XPosition="20480" AutoHint="true" ItemsDisplay="1" BackColor="gray4" DatabaseItem="false" DirtyInfo="true" Width="5233" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" UpdateAllowed="false" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="SB_TEXT_ITEM_HEB_PC" Prompt="מס' לקוח(משלם)" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="112" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="CLIENT_TYPE" DirtyInfo="true" Width="2381" Height="476"/>
         <Item Name="HIST_BTN" YPosition="11614" XPosition="19693" IconFilename="convert_history" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="הסבת היסטוריית קריאות" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="4475" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText=":global.water_id:=:query.water_id;&amp;#10;:global.fiscal_year:=:WT_READINGS_BLK.fiscal_year;&amp;#10;:global.period_num:=:WT_READINGS_BLK.period_num;&amp;#10;&amp;#10;--הוספה להסטורית הסבות קריאות&amp;#10;--חני הבלין&amp;#10;--05/02/2017&amp;#10;if sr_code_values_pkg.get_varchar_value('WT_READINGS_HASAVA_HIST_MEITAV')='Y'&#x9;then&amp;#10;:global.water_id:=:query.water_id;&amp;#10;CALL_FORM('WT_READINGS_HASAVA_HIST_MEITAV'); --  היסטוריה הסבה של קריאות של מיתב&#x9;&amp;#10;&amp;#10;else&amp;#10;CALL_FORM('WT_READINGS_HASAVA_HISt'); -- היסטוריה הסבה של קריאות&amp;#10;&amp;#10;&amp;#10;end if;" DirtyInfo="true"/>
         </Item>
         <Item Name="ITEM418" YPosition="10895" XPosition="15777" IconFilename="convert_history" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="סגירת חשבון מים" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="3702" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText=":global.water_id:=:query.water_id;&amp;#10;&amp;#10;CALL_FORM('wt_client_modify'); -- היסטוריה הסבה של מים" DirtyInfo="true"/>
         </Item>
         <Item Name="INSERT_IMAGE" YPosition="12330" XPosition="12941" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="הוספת תמונה" FontStyle="Plain" DirtyInfo="true" KeyboardNavigable="false" Width="2746" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="--by Nechama_A 07.2018&amp;#10;DECLARE&amp;#10; v_alert  NUMBER;&amp;#10; v_file_end VARCHAR2(50);&amp;#10; v_javabean varchar2(50);&amp;#10; v_file_location VARCHAR2(5000):=null;  &amp;#10; v_bool boolean;&amp;#10; v_readings_Images_Seq number;&amp;#10; v_check boolean;&amp;#10; v_send_file varchar2(500);&amp;#10; v_Full_Path     VARCHAR2(300) := Get_Desc_Pkg.get_global_value ('READINGS_IMAGES_PATH');&amp;#10;BEGIN&amp;#10; &#x9;  v_javabean := 'WT_READINGS_BLK.IMAGEPICKER'; &#x9;  &amp;#10;    v_file_location:=choose_file(v_javabean,'c:\');&amp;#10;    v_file_end := substr(v_file_location,instr(v_file_location,'.',-1)+1);&amp;#10;    IF v_file_location IS NOT NULL THEN&amp;#10;   &#x9;v_bool:=WebUtil_File.FILE_EXISTS (v_file_location);&amp;#10;&#x9;     IF NOT WebUtil_File.FILE_EXISTS (v_file_location) THEN&amp;#10;&#x9;        v_alert := DISPLAY_COMMENT('APP',702,NULL,v_file_location,NULL,NULL);&#x9;&amp;#10;&#x9;        v_file_location:=NULL;&amp;#10;&#x9;        Raise FORM_TRIGGER_FAILURE;&amp;#10;&#x9;     ELSIF WebUtil_File.file_size(v_file_location) = 0 THEN&amp;#10;&#x9;     &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',1013,NULL,' לא ניתן לקלוט קובץ תמונה בגודל אפס',NULL,NULL);&#x9;&amp;#10;&#x9;        v_file_location:=NULL;&amp;#10;&#x9;        Raise FORM_TRIGGER_FAILURE;&amp;#10;&#x9;     elsif v_file_end&lt;>'jpg' and v_file_end&lt;>'JPG'  then&amp;#10;&#x9;     &#x9;v_alert := DISPLAY_COMMENT('APP',50975,NULL,null,NULL,NULL);&#x9;&#x9;&amp;#10;&#x9;        v_file_location:=NULL;&amp;#10;&#x9;        Raise FORM_TRIGGER_FAILURE;&amp;#10;&#x9;     ELSE&amp;#10;&#x9;        v_alert := DISPLAY_COMMENT('APP',701,NULL,NULL,NULL,NULL);&amp;#10;&#x9;        select Wt_reading_image_m_seq.Nextval into v_readings_Images_Seq from dual;&amp;#10;           INSERT INTO WT_READING_IMAGES (READING_SEQ,&amp;#10;                                        IMAGE_SEQ,&amp;#10;                                        STAMP_ACTION,&amp;#10;                                        STAMP_CDATE,&amp;#10;                                        STAMP_DATE,&amp;#10;                                        STAMP_USER)&amp;#10;           VALUES   (:WT_READINGS_blk.READING_SEQ,&amp;#10;                     v_readings_Images_Seq,&amp;#10;                     'I',&amp;#10;                     sysdate,&amp;#10;                     sysdate,&amp;#10;                     :global.user_name);&amp;#10;        COMMIT;&amp;#10;        v_send_file:=v_Full_Path||to_char(:wt_readings_blk.stamp_cdate,'YYYY')||'/'||v_READINGS_Images_Seq||'.jpg';&amp;#10;        &amp;#10;&#x9;       v_check:=webutil_file_transfer.Client_To_AS_With_Progress&amp;#10;                       ( clientFile       =>v_file_location, &amp;#10;                         serverFile       =>v_send_file, &amp;#10;                         progressTitle    =>'העברת קובץ לשרת',&amp;#10;                         progressSubTitle =>'נא המתן',&amp;#10;                         asynchronous     =>FALSE,&amp;#10;                         callbackTrigger  =>NULL) ; &amp;#10;&#x9;    go_block('WT_READINGS_BLK');&amp;#10;&#x9;    execute_query;&amp;#10;&#x9;     END IF;&amp;#10;    END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;   when no_data_found THEN&amp;#10;      v_file_location:=NULL;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="WT_KARAM_ALERT" YPosition="12326" XPosition="19693" IconFilename="" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="התראות קר&quot;מ" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="4475" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText=":global.water_id:=:query.water_id;&amp;#10;:global.gauge_id:=:WT_READINGS_BLK.gauge_id;&amp;#10;--chani_h 24/6/2020&amp;#10; &amp;#10;&amp;#10; call_form('WT_KARAM_ALERTS',no_hide);" DirtyInfo="true"/>
         </Item>
         <Item Name="WT_PERIODIC_CALC_BUILDING" YPosition="13015" XPosition="12941" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="עץ צריכה" FontStyle="Plain" DirtyInfo="true" KeyboardNavigable="false" Width="2746" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_alert   NUMBER;&amp;#10;    v_date    DATE := general_pkg.get_sysdate;&amp;#10;BEGIN&amp;#10;  set_global_water_id;&amp;#10;  call_form('wt_periodic_calc_building');&amp;#10;EXCEPTION&amp;#10;  WHEN OTHERS THEN&amp;#10;    Message('OTHERS -'||SQLERRM);&amp;#10;    Message('OTHERS -'||SQLERRM);&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="CLIENT_NAME" MaximumLength="40" YPosition="2810" XPosition="20457" AutoHint="true" PromptFontSize="1100" ItemsDisplay="1" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="שם לקוח (משלם)" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="5233" PromptAttachmentOffset="29" PromptFontWeight="Medium" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="524"/>
         <Item Name="DEBIT_NAME" MaximumLength="300" YPosition="3490" XPosition="20457" AutoHint="true" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="מהות שימוש" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="5233" PromptAttachmentOffset="797" PromptFontWeight="Medium" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="524"/>
         <Item Name="QUERY_BUTTON" YPosition="902" XPosition="10348" Tooltip="בלחיצה על הצג,יישלפו הקריאות לזיהוי" Iconic="true" AutoHint="true" Hint="בלחיצה על הצג,יישלפו הקריאות לזיהוי" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SHOW_PC" Label="הצג" TabPageName="" DirtyInfo="true" KeyboardNavigable="true" CanvasName="MAIN_CV_4" ParentType="29" Height="609">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="declare&amp;#10;&#x9;v_alert number;&amp;#10;&#x9;v_arad_alert_seq number;&amp;#10;&#x9;v_count number;&amp;#10;&#x9;&#x9;v_count_2 number;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;if :QUERY.GAUGE_DESC&lt;>'קר&quot;מ' then &amp;#10; &#x9;&amp;#10;&#x9; set_item_property('QUERY.ITEM532',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;else&amp;#10;      set_item_property('QUERY.ITEM532',VISIBLE,PROPERTY_true);&amp;#10;       P_SET_ITEM_PROPERTY('QUERY.ITEM532',enabled,PROPERTY_true);--brchi&amp;#10;&#x9;end if;&amp;#10;&#x9;&amp;#10;  IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;  &#x9;if check_crm_connection(p_water_id =>:query.water_id) and :query.water_id is not null then &amp;#10;     &#x9; GO_BLOCK('wt_readings_blk');&amp;#10;       EXECUTE_QUERY;&amp;#10;  --   message(:QUERY_WATER_ID.WATER_ID_CLASS);  message(:QUERY_WATER_ID.WATER_ID_CLASS);&amp;#10;       P_SET_ITEM_PROPERTY('QUERY.hist_btn',enabled,PROPERTY_true);--brchi&amp;#10;   &#x9;   P_SET_ITEM_PROPERTY('QUERY.hist_btn',navigable,PROPERTY_true);--brachi&amp;#10;       set_global_water_id;  &amp;#10;       IF :system.block_status = 'NEW' THEN&amp;#10;          --&#x9;:QUERY.water_id:=null;remove by chani 7.2013&amp;#10;            SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');    &amp;#10;            v_alert := DISPLAY_COMMENT('APP',50128,NULL, NULL, NULL,NULL);&amp;#10;            P_SET_ITEM_PROPERTY('CONTROL.BTN_PRINT_IMAGE',enabled,property_false);------rachely 10/10/2013&amp;#10;           -- P_SET_ITEM_PROPERTY('CONTROL.BTN_IMAGE',enabled,property_false);--chani_l מעבירה את השינוי של חני הבלין על 1381&amp;#10;            GO_BLOCK('QUERY');    &amp;#10;       END IF; &amp;#10;       &amp;#10;       &amp;#10;       begin&amp;#10;       &#x9;select count(water_id) &amp;#10;       &#x9;&#x9;into v_count&amp;#10;  from WT_GAUGES where disassemble_date is null and WATER_ID= :QUERY.WATER_ID;&amp;#10;   &amp;#10;  &amp;#10;  if v_count=0 then&amp;#10;    P_SET_ITEM_PROPERTY('CONTROL.BTN_IMAGE',enabled,property_false);  &amp;#10;    else &amp;#10;    P_SET_ITEM_PROPERTY('CONTROL.BTN_IMAGE',enabled,property_true);   &amp;#10;    &amp;#10;    end if;&amp;#10;       end;&amp;#10;       &amp;#10;  begin  --p_664432 &amp;#10;   &amp;#10;  SELECT count(*)&amp;#10;  into v_count_2&amp;#10;  FROM Wt_Karam_Alerts_Frm k&amp;#10;  WHERE Water_Id = :QUERY.water_id;&amp;#10;  &amp;#10;  if v_count_2=0 then&amp;#10;    P_SET_ITEM_PROPERTY('QUERY.WT_KARAM_ALERT',enabled,property_false);  &amp;#10;   else &amp;#10;    P_SET_ITEM_PROPERTY('QUERY.WT_KARAM_ALERT',enabled,property_true);   &amp;#10;  end if;&amp;#10;  &amp;#10;      end; &amp;#10;       &amp;#10;       begin&amp;#10;       &#x9;&amp;#10;select max(arad_alert_seq)&amp;#10;into v_arad_alert_seq&amp;#10;from wt_karam_alerts &amp;#10;where  water_id=:query.water_id;&amp;#10;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;select ' שים לב! לזיהוי זה קיים התראת ' || get_desc_query_pkg.get_code_desc_query(7033,g.ALERT_TYPE) &amp;#10;into :QUERY.KARAM_ALERT&amp;#10;from wt_karam_alerts g &amp;#10;where g.water_id=:query.water_id&amp;#10;and g.alert_type is not null&amp;#10;and g.arad_alert_status =1&amp;#10;and 0=(select count(1) from wt_karam_alerts a where a.water_id=:query.water_id and  (a.arad_alert_status =100 or a.arad_alert_status =2)&amp;#10;and arad_alert_seq=v_arad_alert_seq)&amp;#10;and rownum=1;&amp;#10;&amp;#10;&#x9;exception when others then &amp;#10;&#x9;&#x9;:QUERY.KARAM_ALERT:=null;&amp;#10;&#x9;&#x9;end;&amp;#10;&#x9;&amp;#10;       &#x9;--tags&amp;#10;&#x9;&#x9;   set_tags(p_client_id => :QUERY.client_id,&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;p_client_type => nvl(:QUERY.client_type,0), &amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;p_water_id =>:QUERY.WATER_ID, &amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;p_obj_id =>&#x9;:QUERY.OBJ_ID);&amp;#10;&#x9;&#x9;&#x9; go_block('wt_readings_blk');&amp;#10;&#x9;&#x9;   --go_record(v_cur_record);&amp;#10;  &#x9;END IF;   &amp;#10;&#x9;end if;&amp;#10;END;       &amp;#10;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="KARAM" YPosition="13044" XPosition="19681" IconFilename="" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="תישאול קר&quot;מ" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" Width="4475" FontSize="1100" FontName="Arial" ParentType="29" CanvasName="MAIN_CV_4" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="-- Exec Web Service Call_Ws_Read_Online with Water_id&amp;#10;--Ws return with &amp;#10;Begin&amp;#10;&#x9;&amp;#10;      --Go_Block('WT_WORK_COMMAND_BLK');&amp;#10;&#x9;&#x9;if  :WT_READINGS_BLK.WATER_ID is not null then&amp;#10;&#x9;&#x9;   :parameter.curr_rec  := get_block_property('WT_READINGS_BLK',CURRENT_RECORD);&amp;#10;&#x9;&#x9;   :global.water_id := :Query.Water_id;&amp;#10;&#x9;&#x9;   :global.calling_form :=120;&amp;#10;&#x9;&#x9;&#x9;  call_form('WT_ONLINE_READING',no_hide);&amp;#10;&#x9;&#x9;end if;&#x9;&amp;#10;  -- end if;&amp;#10;   --end if;&amp;#10;&amp;#10;End;" DirtyInfo="true"/>
         </Item>
         <Item Name="NEW_WATER_ID" YPosition="10899" XPosition="12918" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="הוספת קריאה" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="2746" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;&#x9;v_check NUMBER;&amp;#10;&#x9;v_alert NUMBER;&amp;#10;&#x9;v_region_yn VARCHAR2(10);&amp;#10;&#x9;v_last_year NUMBER;&amp;#10;&#x9;v_last_period NUMBER;&amp;#10;&#x9;v_region NUMBER;&amp;#10;&#x9;v_p  number;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;&#x9;:parameter.CURR_REC_NEW_READING:=NULL;&amp;#10;    :PARAMETER.CURR_REC_NEW_READING := GET_BLOCK_PROPERTY('WT_READINGS_BLK',CURRENT_RECORD);&amp;#10;--message('CURR_REC_NEW_READING-'||:PARAMETER.CURR_REC_NEW_READING);&amp;#10;--message('CURR_REC_NEW_READING-'||:PARAMETER.CURR_REC_NEW_READING);&amp;#10; if &#x9;:parameter.CURR_REC_NEW_READING&lt;>1 then &amp;#10; GO_RECORD(:parameter.CURR_REC_NEW_READING-1);&amp;#10;:parameter.p_READING_DATE:=:WT_READINGS_BLK.READING_DATE;&amp;#10;--message('p_READING_DATE-'||:PARAMETER.p_READING_DATE);&amp;#10;--message('p_READING_DATE-'||:PARAMETER.p_READING_DATE);&amp;#10; end if ;&amp;#10; go_record(:parameter.CURR_REC_NEW_READING);&amp;#10;--message('PERIOD_NUM-'||:WT_READINGS_BLK.PERIOD_NUM);&amp;#10;--message('PERIOD_NUM-'||:WT_READINGS_BLK.PERIOD_NUM);&amp;#10;&amp;#10;&#x9;IF  :QUERY.WATER_ID IS NULL THEN&amp;#10;       v_alert := DISPLAY_COMMENT('APP',50128,NULL, NULL, NULL,NULL); &amp;#10;       RAISE FORM_TRIGGER_FAILURE;    &amp;#10;&#x9;ELSE&#x9;&amp;#10;&#x9;&amp;#10;&#x9;  --קביעת התקופה האחרונה שרץ תקופתי&amp;#10;&#x9;  SELECT region_yn&amp;#10;&#x9;&#x9;INTO   v_region_yn&amp;#10;&#x9;  FROM   rm_service_codes&amp;#10;&#x9;  WHERE  subj_code=:global.obj_subj_code&amp;#10;&#x9;    AND  serv_code=:global.water_serv_code;&amp;#10;&#x9;  IF v_region_yn = 'N' THEN&amp;#10;&#x9;  &#x9; SELECT fiscal_year, lpad(period_num, 2, '0')&amp;#10;&#x9;&#x9;   INTO   v_last_year,v_last_period&amp;#10;&#x9;&#x9;   FROM   rm_service_codes&amp;#10;&#x9;&#x9;   WHERE  subj_code=:global.obj_subj_code&amp;#10;&#x9;&#x9;     AND  serv_code=:global.water_serv_code;&amp;#10;&#x9;  ELSE&amp;#10;&#x9;  &#x9; SELECT REGION_CODE&amp;#10;&#x9;  &#x9; into   v_region&amp;#10;&#x9;  &#x9; from   WT_NET&amp;#10;&#x9;  &#x9; where  WATER_ID=:QUERY.water_id;&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;  &#x9;--האזור של זיהוי המים שנבחר לא קיים בתקופות לשרות.&amp;#10;&#x9;  &#x9; SELECT fiscal_year, period_num&amp;#10;&#x9;&#x9;   INTO   v_last_year,v_last_period&amp;#10;&#x9;&#x9;   FROM   rm_serv_region_codes&amp;#10;&#x9;&#x9;   WHERE  subj_code=:global.obj_subj_code&amp;#10;&#x9;&#x9;     AND  serv_code=:global.water_serv_code&amp;#10;&#x9;&#x9;     AND  region_code=v_region;&amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;  &#x9;v_alert:=DISPLAY_COMMENT('APP',50410,NULL,NULL,NULL);&amp;#10;&#x9;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  END;&amp;#10;&#x9;  &amp;#10;&#x9;  END IF;&amp;#10;&#x9;  :PARAMETER.P_REGION:=v_region_yn;&amp;#10;&#x9;  :parameter.P_LAST_PERIOD:=v_last_year||lpad(v_last_period, 2, '0'); &amp;#10;&#x9;  &#x9;Go_Block('NEW_WATER_ID')&#x9;;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                         &amp;#10;&#x9;/*&#x9;BEGIN&#x9;&amp;#10;&#x9;   SELECT 1&amp;#10;&#x9;   INTO v_check&amp;#10;     FROM   WT_GAUGES&amp;#10;     wHERE water_id = :QUERY.WATER_ID&amp;#10;       AND disassemble_date IS NULL ;&amp;#10;&#x9;&#x9;Go_Block('NEW_WATER_ID');--hodaya 07/2013&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN OTHERS THEN &amp;#10;&#x9;null;&amp;#10;&#x9;BEGIN&#x9;&amp;#10;&#x9;&#x9;&#x9;select 1 ---אם המד מפורק&amp;#10;&#x9;&#x9;&#x9;INTO v_check&amp;#10;       from wt_net&amp;#10;       where water_id=:QUERY.WATER_ID&amp;#10;       and (water_id_end>sysdate or water_id_end is null);&amp;#10;       ---אם אין מד&amp;#10;&#x9;    v_alert:=DISPLAY_COMMENT('APP',50428 ,NULL,NULL,NULL);&amp;#10;&#x9;  &#x9;Go_Block('WT_READINGS_BLK');        &amp;#10;      Hide_View('NEW_WATER_ID_CV');&amp;#10;      Hide_window('NEW_WATER_ID_WIN');&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;WHEN OTHERS THEN  ---אם המד מפורק&amp;#10;  &#x9;v_alert:=DISPLAY_COMMENT('APP',50430 ,NULL,NULL,NULL);&amp;#10;&#x9; &#x9;Go_Block('WT_READINGS_BLK');        &amp;#10;      Hide_View('NEW_WATER_ID_CV');&amp;#10;      Hide_window('NEW_WATER_ID_WIN');&amp;#10;&#x9;  END;&amp;#10;&#x9;  END;*/&amp;#10;END If;&amp;#10;&amp;#10;&#x9;&amp;#10;      &amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="ITEM532" YPosition="10890" XPosition="10504" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="קריאות קר&quot;מ" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="2329" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="--print excel &amp;#10;&amp;#10;&#x9; declare&amp;#10;            V_NAME varchar2(1000);&amp;#10;            v_out_file varchar2(1000);&amp;#10;            v_water varchar2(500);&amp;#10;begin&amp;#10;&amp;#10;  v_water := :QUERY.WATER_ID;&amp;#10;            --create file&amp;#10;  &amp;#10;insert_debug('chani_l '||v_water );&amp;#10;write_excel_pkg.Write_Excel_Daily_Readings(i_where         => v_water,&amp;#10;                                          i_where_dynamic => ' 1 = 1 ',&amp;#10;                                          o_out_filename  => v_out_file);&amp;#10;&amp;#10;             --open file&amp;#10;            V_NAME :=  computer_data_pkg.get_url_string||:global.GLOBAL_IMAGE_PATH||v_out_file;--:rm_client_images.downloaded_file;&amp;#10;&amp;#10;            web.show_document(V_NAME,'_SELF');           &amp;#10;&amp;#10; end ;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXCEL" YPosition="12488" UncheckedValue="y" XPosition="17859" ItemType="Check Box" BackColor="white" FontWeight="Bold" Label="CHECK_BOX402" TabPageName="" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" FontSpacing="Normal" Width="3651" FontSize="1100" FontName="Arial" CanvasName="" Height="635"/>
         <Item Name="PRINT_EXCEL" YPosition="902" XPosition="14091" IconFilename="exl-export" Iconic="true" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" DirtyInfo="true" KeyboardNavigable="false" Width="609" CanvasName="MAIN_CV_4" VisualAttributeName="VA_BUTTON" Height="609" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="--print excel file&amp;#10;/*declare&amp;#10;&#x9; v_out_file varchar2(100);&amp;#10;  v_where_for_excel varchar2(1000);&amp;#10;  &#x9;V_NAME varchar2(1000);&amp;#10; begin      &#x9; &amp;#10;      &#x9; v_where_for_excel:=replace(:parameter.P_WHERE_QUERY,'wwc.','c.');&amp;#10;      &#x9; v_where_for_excel:=replace(v_where_for_excel,'WWC.','c.');&amp;#10;      &#x9;&#x9; write_excel_pkg.Write_Excel_File_Work_Commands(v_where_for_excel,&amp;#10;                                         v_where_for_excel,&amp;#10;                                         v_out_file);&amp;#10;         &amp;#10;          &#x9;V_NAME :=  computer_data_pkg.get_url_string||:global.GLOBAL_IMAGE_PATH||v_out_file;--:rm_client_images.downloaded_file;&amp;#10;&#x9;         &amp;#10;&#x9;          web.show_document(V_NAME,'_SELF');&#x9;&amp;#10;&#x9;end;  */   &amp;#10;&#x9;&amp;#10;&#x9; declare&amp;#10;            V_NAME varchar2(1000);&amp;#10;            v_out_file varchar2(1000);&amp;#10;            v_water varchar2(500);&amp;#10;begin&amp;#10;&amp;#10;  v_water := 'r.water_id ='||:QUERY.WATER_ID;&amp;#10;            --create file&amp;#10;  &amp;#10;&amp;#10;write_excel_pkg.Write_Excel_File_Readings(i_where         => v_water,&amp;#10;                                          i_where_dynamic => ' 1 = 1 ',&amp;#10;                                          o_out_filename  => v_out_file);&amp;#10;--     message('11= '||v_water);&amp;#10;--      message('11= '||v_water);&amp;#10;             --open file&amp;#10;            V_NAME :=  computer_data_pkg.get_url_string||:global.GLOBAL_IMAGE_PATH||v_out_file;--:rm_client_images.downloaded_file;&amp;#10;--      message('22= '||v_water);&amp;#10;--      message('22= '||v_water);&amp;#10;            web.show_document(V_NAME,'_SELF');           &amp;#10;--     message('33= '||v_water);&amp;#10;--      message('33= '||v_water);&amp;#10;&amp;#10;--insert_debug();&amp;#10; end ;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="SEARCH_WATER_ID" YPosition="876" XPosition="5875" DirtyInfo="true" Width="2574" ParentType="29" CanvasName="MAIN_CV_4" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SEARCH_WATER_ID_BUT_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="go_item('QUERY.WATER_ID');&amp;#10;:parameter.par_block_name := :system.current_block;&amp;#10;SHOW_VIEW('water_id_serch_cv');&amp;#10;SHOW_VIEW('STACK_WATER_ID_CV');&amp;#10;go_block('QUERY_WATER_ID');&amp;#10;go_item('QUERY_WATER_ID.water_id');" DirtyInfo="true"/>
         </Item>
         <Item Name="KARAM_TYPE_DESC" MaximumLength="85" YPosition="2231" XPosition="8281" Justification="Right" AutoHint="true" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="4816" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="סוג קר&quot;מ" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="742" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="EXTRA_GAUGES" MaximumLength="85" YPosition="1679" XPosition="4858" Justification="Right" AutoHint="true" BackColor="metrogray" FontWeight="Bold" FontStyle="Plain" Bevel="None" ForegroundColor="red" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" KeyboardNavigable="false" Width="701" FontSize="1600" FontName="Arial" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1296" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="KARAM_ALERT" MaximumLength="100" YPosition="233" XPosition="529" Justification="Right" AutoHint="true" BackColor="white" FontWeight="Bold" FontStyle="Underline" Bevel="None" ForegroundColor="red" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" KeyboardNavigable="false" Width="8784" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" PromptAttachmentEdge="Start" PromptAttachmentOffset="452" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="-13" PromptFontWeight="Medium" Visible="true" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="TAG" YPosition="794" XPosition="8888" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="926" CanvasName="MAIN_CV_4" Height="873" ItemType="Image" ImageFormat="GIF" SizingStyle="Adjust">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="declare &amp;#10;&#x9;v_alert number;&amp;#10;&#x9;v_lov   BOOLEAN;&amp;#10;begin&amp;#10;if :query.water_id is not null then&amp;#10;&#x9;   &amp;#10; v_lov := SHOW_LOV('LOV_TAGS');&amp;#10; if :RM_TAGS_UPD.tag_code is not null then&amp;#10; &#x9;:parameter.prev_butt := 'insert';&amp;#10;&#x9;:RM_TAGS_UPD.water_id:= :query.water_id;&amp;#10;&#x9;rm_tags_upd_pkg.open_win;&amp;#10;&#x9;end if;&amp;#10;else&amp;#10;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'נא הכנס מספר זיהוי מים',NULL,NULL);&amp;#10;&#x9;go_item('query.water_id');&amp;#10;end if;&amp;#10;end;" DirtyInfo="true"/>
         </Item>
         <Item Name="READING_KARAM_ONLINE" MaximumLength="1000" YPosition="1625" XPosition="8281" Justification="Right" AutoHint="true" FontWeight="Bold" FontStyle="Plain" Bevel="None" ForegroundColor="metroblue1" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" KeyboardNavigable="false" Width="4816" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Char" ItemType="Display Item" Prompt="קריאת קר&quot;מ" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="189" PromptAlign="Start" PromptFontWeight="Bold" PromptForegroundColor="metroblue1" PromptAlignOffset="0" Visible="false" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Trigger Name="KEY-EXIT" TriggerText="GO_ITEM('control.exit');&amp;#10;EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');"/>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerText=" --- 07/01/2009 פניה 31402&amp;#10; /*  IF :global.water_id IS NOT NULL THEN&amp;#10;      :query.water_id := :global.water_id;&amp;#10;      GO_ITEM('query.water_id');&amp;#10;      EXECUTE_TRIGGER('WHEN-VALIDATE-ITEM');&amp;#10;      GO_ITEM('query.QUERY_BUTTON');    &amp;#10;      EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');&amp;#10;   END IF;&amp;#10;*/&amp;#10;--Hoday 07/03/2013&amp;#10;IF :global.search_water_id IS NOT NULL THEN&amp;#10;   :QUERY.water_id := :global.search_water_id; &amp;#10;ELSIF :global.water_id IS NOT NULL THEN&amp;#10;   :QUERY.water_id := :global.water_id;  &amp;#10;END IF;&amp;#10;&amp;#10;:global.search_water_id := null;&amp;#10;:global.water_id:=NULL;&amp;#10;&amp;#10;--END ADDEDE&amp;#10;&#x9;&amp;#10;--END&amp;#10;null;"/>
      </Block>
      <Block Name="WT_READINGS_BLK" UpdateAllowed="true" RecordVisualAttributeGroupName="" ScrollbarTabPageName="" QueryDataSourceName="WT_READINGS" DMLDataName="WT_READINGS" RecordsDisplayCount="8" InsertAllowed="true" ScrollbarYPosition="5292" ShowScrollbar="true" DeleteAllowed="false" DirtyInfo="true" ScrollbarCanvasName="MAIN_CV_4" WhereClause="stamp_action !='D'" ScrollbarWidth="421" ScrollbarXPosition="0" OrderByClause="fiscal_year desc, period_num desc,reading_date desc,reading_type asc" ScrollbarLength="5382" LockMode="Delayed" UpdateChangedColumns="true">
         <Item Name="READING_READY_YN_DISP" MaximumLength="2" RecordVisualAttributeGroupName="VA_CURR_RECORD_SPECIAL_ITEM" YPosition="5345" XPosition="450" ItemsDisplay="0" DistanceBetweenRecords="50" DirtyInfo="true" DatabaseItem="false" Width="450" CanvasName="MAIN_CV_4" PromptFontName="Arial" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_PC" Prompt="בירור&amp;#10;  ?" TabPageName="" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="155" PromptForegroundColor="white" PromptAlignOffset="-319" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain" VisualAttributeName="VA_SPECIAL_ITEM"/>
         <Item Name="READING_READY_YN" DirtyInfo="true" Width="2381" Height="476"/>
         <Item Name="IMAGE" UpdateAllowed="false" YPosition="5344" XPosition="19924" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="TXT_ITEM_HEB_PC" ForegroundColor="red" DatabaseItem="false" DirtyInfo="true" Width="717" CanvasName="MAIN_CV_4" ParentType="29" Height="629"/>
         <Item Name="GAUGE_ID" MaximumLength="16" YPosition="5345" XPosition="952" AutoHint="true" DatabaseItem="false" DirtyInfo="true" Width="1746" CanvasName="MAIN_CV_4" PromptFontName="Arial" UpdateAllowed="false" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="TXT_ITEM_HEB_PC" Prompt="מספר&amp;#10; מד" TabPageName="" PromptReadingOrder="Right To Left" PromptFontSpacing="Normal" PromptAttachmentOffset="155" PromptAlignOffset="500" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="COMMENTS" UpdateAllowed="false" MaximumLength="200" YPosition="5345" XPosition="18020" Tooltip="Editor Double_click" EditName="EDIT_COMMENTS" AutoHint="true" Hint="Editor Double_click" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="TXT_ITEM_HEB_PC" Prompt="הערות" TabPageName="" ForegroundColor="black" DirtyInfo="true" Width="1850" PromptAttachmentOffset="155" PromptAlignOffset="26" ParentType="29" CanvasName="MAIN_CV_4" Height="629">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="edit_textitem;"/>
         </Item>
         <Item Name="FISCAL_YEAR" UpdateAllowed="false" MaximumLength="4" YPosition="5345" XPosition="2726" AutoHint="true" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="NUM_INT_PC" Prompt="שנה" TabPageName="" DirtyInfo="true" PromptAttachmentOffset="155" Width="978" PromptAlignOffset="157" CanvasName="MAIN_CV_4" ParentType="29"/>
         <Item Name="PERIOD_NUM" UpdateAllowed="false" MaximumLength="4" YPosition="5345" XPosition="3731" AutoHint="true" ItemsDisplay="0" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="NUM_INT_PC" Prompt="תקופה" PromptReadingOrder="Right To Left" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" Width="797" PromptAttachmentOffset="155" PromptAlignOffset="-53" CanvasName="MAIN_CV_4" ParentType="29"/>
         <Item Name="ALLOW_TO_UPDATE_YN" DirtyInfo="true" Width="2381" ColumnName="allow_to_update_yn" Height="476"/>
         <Item Name="READING_TYPE_NAME" MaximumLength="100" YPosition="5345" XPosition="4580" AutoHint="true" DatabaseItem="false" DirtyInfo="true" Width="1823" CanvasName="MAIN_CV_4" PromptFontName="Arial" UpdateAllowed="false" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="TXT_ITEM_HEB_PC" Prompt="  סוג &amp;#10;קריאה" TabPageName="" PromptReadingOrder="Right To Left" PromptFontSpacing="Normal" PromptAttachmentOffset="155" PromptAlignOffset="501" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="READING_DATE" MaximumLength="11" YPosition="5345" XPosition="6418" AutoHint="true" ItemsDisplay="0" DirtyInfo="true" Width="2026" CanvasName="MAIN_CV_4" PromptFontName="Arial" Required="true" UpdateAllowed="false" PromptFontSize="1100" ItemType="Text Item" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="TXT_DATE_PC" Prompt="תאריך &amp;#10;קריאה" TabPageName="" PromptReadingOrder="Right To Left" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentOffset="128" PromptAlignOffset="449" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="READING" MaximumLength="14" YPosition="5345" XPosition="10087" AutoHint="true" ItemsDisplay="0" ForegroundColor="black" DirtyInfo="true" Width="1608" CanvasName="MAIN_CV_4" Required="true" FormatMask="FM999,999,990.009MI" UpdateAllowed="false" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="NUMBER_PC" Prompt="נוכחית" TabPageName="" PromptReadingOrder="Right To Left" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentOffset="129" PromptAlignOffset="420" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="message(nvl(:wt_readings_blk.reading,0) - nvl(:wt_readings_blk.previous_reading,0)||111);--1805&amp;#10;message(nvl(:wt_readings_blk.reading,0) - nvl(:wt_readings_blk.previous_reading,0)||111);--1805&amp;#10;:wt_readings_blk.qty := nvl(:wt_readings_blk.reading,0) - nvl(:wt_readings_blk.previous_reading,0);" DirtyInfo="true"/>
         </Item>
         <Item Name="PREVIOUS_READING" MaximumLength="14" YPosition="5345" XPosition="8471" AutoHint="true" ItemsDisplay="0" DirtyInfo="true" Width="1583" CanvasName="MAIN_CV_4" PromptFontName="Arial" FormatMask="FM999,999,990.009MI" UpdateAllowed="false" PromptFontSize="1100" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="NUMBER_PC" Prompt=" קודמת" TabPageName="" PromptReadingOrder="Right To Left" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentOffset="129" PromptAlignOffset="80" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="message(nvl(:wt_readings_blk.reading,0) - nvl(:wt_readings_blk.previous_reading,0)||111);--1805&amp;#10;message(nvl(:wt_readings_blk.reading,0) - nvl(:wt_readings_blk.previous_reading,0)||111);--1805&amp;#10;:wt_readings_blk.qty := nvl(:wt_readings_blk.reading,0) - nvl(:wt_readings_blk.previous_reading,0);" DirtyInfo="true"/>
         </Item>
         <Item Name="QTY" UpdateAllowed="false" MaximumLength="14" YPosition="5345" XPosition="12464" AutoHint="true" ItemsDisplay="0" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="NUMBER_PC" Prompt="כמות" PromptReadingOrder="Right To Left" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" Width="1505" PromptAttachmentOffset="129" PromptAlignOffset="317" CanvasName="MAIN_CV_4" ParentType="29" FormatMask="FM999,999,990.009MI"/>
         <Item Name="GAUGE_STATUS_CODE" UpdateAllowed="false" YPosition="5345" XPosition="13996" AutoHint="true" PromptFontSize="1100" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="CODE_4INT_PC" Prompt="מצב מד" TabPageName="" ForegroundColor="black" DirtyInfo="true" PromptFontSpacing="Normal" Width="873" PromptAttachmentOffset="641" PromptFontWeight="Bold" PromptAlignOffset="791" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial"/>
         <Item Name="ESTIMATED" RecordVisualAttributeGroupName="VA_CURR_RECORD_SPECIAL_ITEM" YPosition="5345" XPosition="20729" AutoHint="true" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISPLAY_SPECIAL_CODE" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="717" PromptAttachmentOffset="181" PromptAlign="End" PromptFontWeight="Demilight" PromptAlignOffset="78" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial"/>
         <Item Name="PERSON_NUM" MaximumLength="11" YPosition="5344" XPosition="24923" ForegroundColor="black" DatabaseItem="false" DirtyInfo="true" Width="900" CanvasName="MAIN_CV_4" PromptFontName="Arial" HighestAllowedValue="" FormatMask="" UpdateAllowed="false" PromptFontSize="1100" DataType="Number" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="CODE_4INT_PC" Prompt=" מס' &amp;#10;נפשות" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="182" PromptAlignOffset="-79" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="ESTIMATED_YN" MaximumLength="1" Prompt="Estimated Yn" TabPageName="" DirtyInfo="true" Width="318" AutoHint="true" CanvasName="" InitializeValue="N">
            <RadioButton Name="YES" Prompt="כן" YPosition="3374" Label="כן" XPosition="15741" PromptDisplayStyle="All Records" PromptAttachmentEdge="Start" Width="300" PromptAttachmentOffset="100" PromptAlign="Center" Height="492" RadioButtonValue="Y"/>
            <RadioButton Name="NO" Prompt="לא" YPosition="3374" Label="" XPosition="16832" PromptDisplayStyle="All Records" PromptAttachmentEdge="Start" Width="300" PromptAttachmentOffset="100" PromptAlign="Center" Height="492" RadioButtonValue="N"/>
            <RadioButton Name="RADIO_BUTTON173" YPosition="6003" Label="כן" XPosition="8492" Width="1271" Height="475"/>
            <RadioButton Name="RADIO_BUTTON174" YPosition="5871" Label="לא" XPosition="6110" Width="1271" Height="475"/>
         </Item>
         <Item Name="PARALLEL" RecordVisualAttributeGroupName="VA_PARALLEL" YPosition="4549" XPosition="425" AutoHint="true" BackColor="gray" TabPageName="" ForegroundColor="RED" Bevel="None" DatabaseItem="false" Width="1237" FontSize="1100" FontName="Aharoni" CanvasName="" Visible="false" Height="492"/>
         <Item Name="STAMP_ACTION" MaximumLength="1" Prompt="Stamp Action" Width="318" AutoHint="true" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="REGION_CODE" DirtyInfo="true" Width="2381" Height="476"/>
         <Item Name="STAMP_CDATE" MaximumLength="0" Prompt="Stamp Cdate" Width="1905" AutoHint="true" DataType="Datetime" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="READING_SEQ" MaximumLength="9" Prompt="Reading Seq" Width="1588" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="WATER_ID" MaximumLength="12" Prompt="Water Id" Width="2064" AutoHint="true" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="GAUGE_SEQ" MaximumLength="8" Prompt="Gauge Seq" Width="1429" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="READING_TYPE" MaximumLength="5" Prompt="Reading Type" Width="953" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="PROCESS_SEQ" MaximumLength="7" Prompt="Process Seq" Width="1270" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="GAUGE_STATUS_NAME" MaximumLength="40" YPosition="5345" XPosition="14927" Tooltip="" EditName="EDIT_COMMENTS" AutoHint="true" ItemsDisplay="0" DatabaseItem="false" DirtyInfo="true" Width="3066" CanvasName="MAIN_CV_4" UpdateAllowed="false" Hint="Editor Double_click" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="TXT_ITEM_HEB_PC" Prompt="תיאור" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="170" PromptAlignOffset="1003" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="READING_FROM_FILE" RecordVisualAttributeGroupName="" MaximumLength="14" YPosition="11538" XPosition="8354" Tooltip="" EditName="EDIT_COMMENTS" AutoHint="true" Hint="Editor Double_click" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_PC" Prompt="קריאה מקובץ:" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="1250" PromptAttachmentOffset="148" PromptAlignOffset="-33" ParentType="29" CanvasName="MAIN_CV_4" PromptFontStyle="Plain" Height="533"/>
         <Item Name="STAMP_USER" RecordVisualAttributeGroupName="" MaximumLength="15" YPosition="11267" XPosition="2736" Tooltip="" EditName="EDIT_COMMENTS" AutoHint="true" Hint="Editor Double_click" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_PC" Prompt="משתמש מבצע:" TabPageName="" DirtyInfo="true" DatabaseItem="true" PromptFontSpacing="Normal" Width="2029" PromptAttachmentOffset="114" PromptAlignOffset="-28" CanvasName="" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="STAMP_USER_DESC" RecordVisualAttributeGroupName="" MaximumLength="15" YPosition="10995" XPosition="2736" Tooltip="" Justification="Right" EditName="EDIT_COMMENTS" AutoHint="true" ItemsDisplay="1" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="2029" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="527" MouseNavigate="false" Hint="Editor Double_click" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" ItemType="Display Item" Prompt="משתמש מבצע:" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="167" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="-28" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="STAMP_DATE" MaximumLength="10" RecordVisualAttributeGroupName="" YPosition="10988" XPosition="8335" Tooltip="" EditName="EDIT_COMMENTS" AutoHint="true" DirtyInfo="true" DatabaseItem="true" Width="1959" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="424" Hint="Editor Double_click" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_DATE_PC" Prompt="תאריך השינוי:" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="140" PromptAlignOffset="-33" PromptFontWeight="Bold" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="COMMON_QTY" MaximumLength="40" YPosition="11597" XPosition="2749" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUMBER_PC" Prompt="צריכה משותפת:" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="1762" PromptAttachmentOffset="101" PromptFontWeight="Bold" PromptAlignOffset="-1" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="527" FormatMask="FM999,999,990.009MI"/>
         <Item Name="PUBLIC_QTY" YPosition="12199" XPosition="2781" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUMBER_PC" Prompt="צריכה ציבורית:" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="1425" PromptAttachmentOffset="298" PromptFontWeight="Bold" PromptAlignOffset="20" CanvasName="MAIN_CV_4" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="527" FormatMask="FM999,999,990.009MI"/>
         <Item Name="DEBIT_NAME" UpdateAllowed="false" MaximumLength="300" YPosition="5345" XPosition="22516" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="TXT_ITEM_HEB_PC" Prompt="תיאור" DirtyInfo="true" DatabaseItem="false" PromptAttachmentOffset="168" Width="2371" PromptAlignOffset="750" CanvasName="MAIN_CV_4" ParentType="29" Height="629"/>
         <Item Name="DEBIT_CODE" YPosition="5345" XPosition="21514" Tooltip="קוד מהות שימוש לתקופה" AutoHint="true" BackColor="white" ForegroundColor="black" DatabaseItem="false" DirtyInfo="true" Width="949" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="629" UpdateAllowed="false" Hint="קוד מהות שימוש לתקופה" PromptFontSize="1100" ParentModule="WT_READINGS" InsertAllowed="false" ParentModuleType="12" ParentName="CODE_4INT_PC" Prompt="מהות שימוש" PromptFontSpacing="Normal" PromptAttachmentOffset="641" PromptAlignOffset="236" PromptFontWeight="Bold" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="LOGIT_SEQ" DirtyInfo="true" Width="2381" Height="476"/>
         <Item Name="REPAIR_REASON_CODE" DirtyInfo="true" Width="2381" Height="476"/>
         <Item Name="REPAIR_REASON_NAME" MaximumLength="50" YPosition="12166" XPosition="8322" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_PC" Prompt="סיבת תיקון קריאה:" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptAttachmentOffset="162" Width="4412" PromptAlignOffset="-28" CanvasName="MAIN_CV_4" ParentType="29" Height="533"/>
         <Item Name="NUM_OF_DAYS" YPosition="12830" XPosition="4359" Justification="Right" ItemsDisplay="1" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="903" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="451" FormatMask="FM999,999,990MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="מס' ימים בתקופה לחיוב :" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="245" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="-28" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="READING_MASOFON" MaximumLength="1" RecordVisualAttributeGroupName="VA_CURR_RECORD_SPECIAL_ITEM" YPosition="5344" XPosition="11736" Justification="Center" AutoHint="true" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="673" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="629" MouseNavigate="true" PromptFontSize="1100" Comment="שדה מיוחד" ItemType="Display Item" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="129" PromptAlign="End" PromptForegroundColor="white" PromptAlignOffset="26" PromptFontWeight="Demilight" PromptFontStyle="Plain" VisualAttributeName="VA_SPECIAL_ITEM"/>
         <Item Name="CROSSBREEDING_YN" DirtyInfo="true" Width="2381" Height="476"/>
         <Item Name="CONTRACTOR_USER_NAME" RecordVisualAttributeGroupName="" MaximumLength="50" YPosition="12778" XPosition="9129" Tooltip="" Justification="Right" EditName="EDIT_COMMENTS" AutoHint="true" ItemsDisplay="1" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="2267" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="424" MouseNavigate="false" Hint="Editor Double_click" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" ItemType="Display Item" PromptFontSpacing="Normal" PromptAttachmentOffset="69" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="-33" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="CONTRACTOR_USER_CODE" RecordVisualAttributeGroupName="" MaximumLength="7" YPosition="12778" XPosition="8305" Tooltip="" Justification="Right" EditName="EDIT_COMMENTS" AutoHint="true" ItemsDisplay="1" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="false" Width="765" CanvasName="MAIN_CV_4" PromptFontName="Arial" Height="424" MouseNavigate="false" Hint="Editor Double_click" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" ItemType="Display Item" Prompt="קורא:" PromptFontSpacing="Normal" PromptAttachmentOffset="149" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="-59" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="IMAGEPICKER" BackColor="custom7" YPosition="4816" TabPageName="" XPosition="3969" DirtyInfo="true" DatabaseItem="false" Width="106" CanvasName="MAIN_CV_4" Visible="false" Height="49" ItemType="Bean Area"/>
         <Item Name="DISPLAY_PICT" YPosition="4816" TabPageName="" XPosition="3969" DirtyInfo="true" DatabaseItem="false" Width="0" CanvasName="MAIN_CV_4" Height="106" ItemType="Bean Area"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCLength="12" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GAUGE_SEQ" DSCLength="0" DSCMandatory="true" DSCPrecision="7" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING_TYPE" DSCLength="0" DSCMandatory="true" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="FISCAL_YEAR" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PERIOD_NUM" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="READING_DATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING" DSCLength="0" DSCMandatory="true" DSCPrecision="9" DSCScale="1"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="PREVIOUS_READING_DATE" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PREVIOUS_READING" DSCLength="0" DSCMandatory="false" DSCPrecision="9" DSCScale="1"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="9" DSCScale="1"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GAUGE_STATUS_CODE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <Relation Name="WT_READINGS_BLK_WT_READING_IMA" DeleteRecord="Non Isolated" Deferred="false" DirtyInfo="true" JoinCondition="READING_SEQ =READING_SEQ" DetailBlock="WT_READING_IMAGES" RelationType="Join" AutoQuery="false" PreventMasterlessOperations="false"/>
         <Trigger Name="KEY-EXIT" TriggerText="GO_ITEM('control.exit');&amp;#10;EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');"/>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerText="declare &amp;#10;&#x9;p_image blob;&amp;#10;&amp;#10;begin &amp;#10;buttons_pkg.enabled_true_false(NULL,NULL,&amp;#10;                               'control.exit',1,&amp;#10;                              'control.BTN_PRINT_IMAGE',1,&amp;#10;                               NULL,NULL,&amp;#10;                               NULL,NULL, NULL,NULL);&amp;#10;IF :parameter.install_first_time = 'YES' THEN&amp;#10;    --EXECUTE_QUERY;&amp;#10;    :parameter.install_first_time := 'NO';&amp;#10;END IF;&amp;#10;/*-------rachely 10/10/2013 begin&amp;#10;select image&amp;#10;into p_image  &amp;#10;from WT_PT_UNLOAD_READING_IMAGES&amp;#10;where water_id=:WT_READINGS_BLK.water_id&amp;#10;and fiscal_year=:WT_READINGS_BLK.fiscal_year&amp;#10;and period_num=:WT_READINGS_BLK.period_num;&amp;#10;exception when no_data_found then&amp;#10;&#x9;buttons_pkg.enabled_true_false(NULL,NULL,&amp;#10;                               'control.BTN_PRINT_IMAGE',0,&amp;#10;                               NULL,NULL, NULL,NULL,&amp;#10;                               NULL,NULL, NULL,NULL);&amp;#10;                               -------rachely 10/10/2013 end &amp;#10;*/ --tzvia change in 30/07/2014&amp;#10;images_pkg.show_button_image(:WT_READINGS_BLK.reading_seq);&amp;#10;&amp;#10;&amp;#10;--Miri 27/02/18&amp;#10;if :WT_READINGS_BLK.READING_READY_YN ='N' then&amp;#10;&#x9;:WT_READINGS_BLK.READING_READY_YN_disp:='*';&amp;#10;end if;&amp;#10;--end Miri&amp;#10;  &amp;#10;end;"/>
         <Trigger Name="POST-QUERY" TriggerText="/* Formatted on 07/10/2019 12:39:58 (QP5 v5.300) */&amp;#10;DECLARE&amp;#10;    v_check               NUMBER;&amp;#10;    v_client_id           rm_clients.client_id%TYPE;&amp;#10;    v_client_type         NUMBER;&amp;#10;    p_image               BLOB;&amp;#10;    v_prev_reading_date   DATE;&amp;#10;    v_type                NUMBER;&amp;#10;    v_class               NUMBER;&amp;#10;    v_item_name            VARCHAR2(100);&amp;#10;&#x9;&#x9;v_first_item_name      VARCHAR2(100);    &amp;#10;    v_prev_item_value      VARCHAR2(200);&amp;#10;    v_curr_item_value      VARCHAR2(200);&amp;#10;  &#x9;v_visual_attr          VARCHAR2(100); &amp;#10;  &#x9;v_check_open&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;number:=0;&amp;#10;&amp;#10;    --n NUMBER;&amp;#10;&amp;#10;    CURSOR c1&amp;#10;    IS&amp;#10;          SELECT reading&amp;#10;            FROM wt_raw_readings&amp;#10;           --where ltrim(ltrim(rtrim(water_id)),'0')=:wt_readings_blk.water_id&amp;#10;           WHERE     water_id = :wt_readings_blk.water_id&amp;#10;                 AND fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;                 AND period_num = :wt_readings_blk.period_num&amp;#10;        ORDER BY process_seq DESC;&amp;#10;BEGIN&amp;#10;    BEGIN&amp;#10;        SELECT value_name&amp;#10;          INTO :wt_readings_blk.reading_type_name&amp;#10;          FROM rm_decode_values dv, rm_decode d&amp;#10;         WHERE     dv.decode_code = d.decode_code&amp;#10;               AND value_code = :wt_readings_blk.reading_type&amp;#10;               AND d.decode_code = :global.READING_TYPE;&amp;#10;    EXCEPTION&amp;#10;        WHEN OTHERS&amp;#10;        THEN&amp;#10;            NULL;&amp;#10;    END;&amp;#10;&amp;#10;&amp;#10;    --chani_h added at 24/2/2019&amp;#10;    BEGIN&amp;#10;        SELECT t.first_name || ' ' || t.family_name&amp;#10;          INTO :WT_READINGS_BLK.STAMP_USER_desc&amp;#10;          FROM rm_users t&amp;#10;         WHERE t.user_name = :WT_READINGS_BLK.STAMP_USER;&amp;#10;    EXCEPTION&amp;#10;        WHEN OTHERS&amp;#10;        THEN&amp;#10;            :WT_READINGS_BLK.STAMP_USER_desc := :WT_READINGS_BLK.STAMP_USER;&amp;#10;    END;&amp;#10;&amp;#10;    --end chani_h&amp;#10;&amp;#10;    IF :wt_readings_blk.gauge_status_code IS NOT NULL&amp;#10;    THEN&amp;#10;        :wt_readings_blk.gauge_status_name :=&amp;#10;            get_desc_query_pkg.get_gauge_status (&amp;#10;                :wt_readings_blk.gauge_status_code);&amp;#10;    END IF;&amp;#10;&amp;#10;    populate_pkg.gauge_id (:wt_readings_blk.gauge_seq,&amp;#10;                           :wt_readings_blk.water_id,&amp;#10;                           :wt_readings_blk.gauge_id);&amp;#10;&amp;#10;    IF :wt_readings_blk.estimated_yn = 'Y'&amp;#10;    THEN&amp;#10;        :wt_readings_blk.estimated := '*';                          --CHR(51);&amp;#10;    END IF;&amp;#10;&amp;#10;    --Miri 27/02/18&amp;#10;    IF :WT_READINGS_BLK.READING_READY_YN = 'N'&amp;#10;    THEN&amp;#10;        :WT_READINGS_BLK.READING_READY_YN_disp := '*';&amp;#10;    END IF;&amp;#10;&amp;#10;    --end Miri&amp;#10;    populate_pkg.get_water_details;&amp;#10;    populate_pkg.get_debit_details;&amp;#10;    -- populate_pkg.clients(:query.water_id,:query.client_id,:query.client_name);&amp;#10;&amp;#10;    populate_pkg.set_record_color;&amp;#10;&amp;#10;    --:wt_readings_blk.reading_status_desc := get_desc_query_pkg.get_code_desc_query(52,:wt_readings_blk.reading_status);&amp;#10;    /*IF :wt_readings_blk.period_num = :wt_former_readings.period_num&amp;#10;    AND :wt_readings.fiscal_year &lt;> :wt_former_readings.fiscal_year THEN&amp;#10;           :wt_former_readings.parallel := 'תקופה מקבילה';&amp;#10;    END IF;*/&amp;#10;    /*brachi add the condition 052014 */&amp;#10;    IF     :wt_readings_blk.reading_type != 3&amp;#10;       AND :wt_readings_blk.reading_type != 4&amp;#10;    THEN&amp;#10;        /*brachi add the select by ofer*/&amp;#10;        BEGIN&amp;#10;            SELECT reading&amp;#10;              INTO :wt_readings_blk.READING_FROM_FILE&amp;#10;              FROM (  SELECT reading&amp;#10;                        FROM wt_readings_hist&amp;#10;                       WHERE     water_id = :wt_readings_blk.water_id&amp;#10;                             AND fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;                             AND period_num = :wt_readings_blk.period_num&amp;#10;                             AND reading_seq = :wt_readings_blk.reading_seq&amp;#10;                    ORDER BY stamp_date)&amp;#10;             WHERE ROWNUM = 1;&amp;#10;        EXCEPTION&amp;#10;            WHEN NO_DATA_FOUND&amp;#10;            THEN&amp;#10;                :wt_readings_blk.READING_FROM_FILE :=&amp;#10;                    :wt_readings_blk.reading;&amp;#10;            WHEN OTHERS&amp;#10;            THEN&amp;#10;                MESSAGE ('sqlerrm_reading_from_file ' || SQLERRM);&amp;#10;                MESSAGE ('sqlerrm_reading_from_file ' || SQLERRM);&amp;#10;        END;&amp;#10;    /* brachi remove by ofer 022015&amp;#10;    open c1;&amp;#10;    fetch c1 into :wt_readings_blk.READING_FROM_FILE;&amp;#10;    close c1;*/&amp;#10;    END IF;&amp;#10;&amp;#10;    v_check := 0;&amp;#10;&amp;#10;    -- מהות שימוש&amp;#10;&amp;#10;    ---HODAYA פניה 90892&amp;#10;    /*brachi add the condition*/&amp;#10;    SELECT water_id_class&amp;#10;      INTO v_class&amp;#10;      FROM wt_net&amp;#10;     WHERE water_id = :WT_READINGS_BLK.water_id;&amp;#10;&amp;#10;    IF v_class != 6 AND v_class != 1 AND v_class != 2&amp;#10;    THEN&amp;#10;        BEGIN&amp;#10;            SELECT COUNT (1)&amp;#10;              INTO v_check&amp;#10;              FROM wt_periodic&amp;#10;             WHERE     wateR_id = :wt_readings_blk.water_id&amp;#10;                   AND fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;                   AND period_num = :wt_readings_blk.period_num;&amp;#10;&amp;#10;            IF v_check > 0&amp;#10;            THEN&amp;#10;                SELECT debit_code,                       /*brachi add 022015*/&amp;#10;                                  PERSON_NUM&amp;#10;                  INTO :wt_readings_blk.debit_code,&amp;#10;                       :wt_readings_blk.person_num&amp;#10;                  FROM wt_periodic&amp;#10;                 WHERE     wateR_id = :wt_readings_blk.water_id&amp;#10;                       AND fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;                       AND period_num = :wt_readings_blk.period_num;&amp;#10;            ELSE&amp;#10;                -- message();&amp;#10;                BEGIN                                        /*brachi 022015*/&amp;#10;                    SELECT c.debit_code, c.person_num&amp;#10;                      INTO :wt_readings_blk.debit_code,&amp;#10;                           :wt_readings_blk.person_num&amp;#10;                      FROM rm_cards c, wt_net n&amp;#10;                     WHERE     wateR_id = :wt_readings_blk.water_id&amp;#10;                           AND C.CARD_NUM = N.CARD_NUM&amp;#10;                           AND C.SUBJ_CODE = :GLOBAL.OBJ_SUBJ_CODE&amp;#10;                           AND C.SERV_CODE = :GLOBAL.WATER_SERV_CODE;&amp;#10;                /*brachi 022015*/&amp;#10;                /* begin&amp;#10;                 select person_num&amp;#10;                 into   :wt_readings_blk.person_num&amp;#10;                 from   RM_CARDS&amp;#10;                 where  subj_code=:global.obj_subj_code&amp;#10;                    and serv_code=:global.water_serv_code&amp;#10;                    and obj_id=:QUERY.OBJ_ID&amp;#10;                    and card_num= (select card_num&amp;#10;                            from wt_net&amp;#10;                            where water_id=:QUERY.WATER_ID);*/&amp;#10;                EXCEPTION&amp;#10;                    WHEN NO_DATA_FOUND&amp;#10;                    THEN&amp;#10;                        NULL;&amp;#10;                END;&amp;#10;            END IF;&amp;#10;&amp;#10;            :wt_readings_blk.debit_name :=&amp;#10;                get_desc_pkg.get_debit_desc (:global.obj_subj_code,&amp;#10;                                             :global.water_serv_code,&amp;#10;                                             :wt_readings_blk.debit_code);&amp;#10;        EXCEPTION&amp;#10;            WHEN NO_DATA_FOUND&amp;#10;            THEN&amp;#10;                :wt_readings_blk.debit_code := NULL;&amp;#10;                :wt_readings_blk.debit_name := NULL;&amp;#10;        END;&amp;#10;&amp;#10;        /*brachi add the condition 08022015*/&amp;#10;        BEGIN&amp;#10;            IF :wt_readings_blk.debit_code IS NOT NULL&amp;#10;            THEN&amp;#10;                v_type :=&amp;#10;                    GET_DESC_PKG.GET_DEBIT_TYPE (3,&amp;#10;                                                 4,&amp;#10;                                                 :wt_readings_blk.debit_code);&amp;#10;&amp;#10;                IF :wt_readings_blk.person_num = 0 AND v_type = 1&amp;#10;                THEN&amp;#10;                    :wt_readings_blk.person_num := 2;&amp;#10;                END IF;&amp;#10;            END IF;&amp;#10;        EXCEPTION&amp;#10;            WHEN OTHERS&amp;#10;            THEN&amp;#10;                MESSAGE (SQLERRM);&amp;#10;                MESSAGE (SQLERRM);&amp;#10;        END;&amp;#10;    END IF;&amp;#10;&amp;#10;&amp;#10;&amp;#10;    --צריכה משותפת&amp;#10;    IF :WT_READINGS_BLK.reading_type = 3&amp;#10;    THEN&amp;#10;        :WT_READINGS_BLK.COMMON_QTY := NULL;&amp;#10;        :WT_READINGS_BLK.public_qty:= NULL;&amp;#10;    ELSE                                           &amp;#10;        BEGIN&amp;#10;            SELECT SUM (nvl(h.common_qty,0)), SUM (nvl(h.public_qty,0))&amp;#10;              INTO :WT_READINGS_BLK.COMMON_QTY, :WT_READINGS_BLK.public_qty&amp;#10;              FROM wt_periodic_for_calc_hist h&amp;#10;             WHERE     1 = 1&amp;#10;                   AND h.water_id = :WT_READINGS_BLK.WATER_ID&amp;#10;                   AND h.fiscal_year = :WT_READINGS_BLK.FISCAL_YEAR&amp;#10;                   AND h.period_num = :WT_READINGS_BLK.PERIOD_NUM&amp;#10;                  -- and h.end_date=:WT_READINGS_BLK.reading_date&amp;#10;                   AND h.process_seq =&amp;#10;                           WT_PERIODIC_PKG.F_MAX_PROCESS_SEQ (h.water_id,&amp;#10;                                                              h.fiscal_year,&amp;#10;                                                              h.period_num)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND h.client_modify_yn != 'N';&amp;#10;&amp;#10;                   if :WT_READINGS_BLK.COMMON_QTY is null then /*reading is not calculate in client modify process*/&amp;#10;                   &#x9;                SELECT common_qty, public_qty&amp;#10;                  INTO :WT_READINGS_BLK.COMMON_QTY,&amp;#10;                       :WT_READINGS_BLK.public_qty&amp;#10;                  FROM wt_periodic&amp;#10;                 WHERE     1 = 1&amp;#10;                       AND water_id = :WT_READINGS_BLK.WATER_ID&amp;#10;                       AND fiscal_year = :WT_READINGS_BLK.FISCAL_YEAR&amp;#10;                       AND period_num = :WT_READINGS_BLK.PERIOD_NUM;&amp;#10;                      &amp;#10;                       end if;&amp;#10;                       &amp;#10;        EXCEPTION&amp;#10;        &amp;#10;&amp;#10;            WHEN OTHERS&amp;#10;            THEN&amp;#10;                NULL;&amp;#10;        END;&amp;#10;    END IF;&amp;#10;&amp;#10;&amp;#10;    IF :WT_READINGS_BLK.reading_type = 4&amp;#10;    THEN&amp;#10;        BEGIN&amp;#10;            SELECT person_num&amp;#10;              INTO :wt_readings_blk.person_num&amp;#10;              FROM WT_PERIODIC_FOR_CALC_HIST c&amp;#10;             WHERE     water_id = :WT_READINGS_BLK.WATER_ID&amp;#10;                   AND fiscal_year = :WT_READINGS_BLK.FISCAL_YEAR&amp;#10;                   AND period_num = :WT_READINGS_BLK.PERIOD_NUM&amp;#10;                   AND CLIENT_MODIFY_YN = 'Y'&amp;#10;                   AND c.process_seq =&amp;#10;                           (SELECT MAX (process_seq)&amp;#10;                              FROM WT_PERIODIC_FOR_CALC_HIST h&amp;#10;                             WHERE     c.water_id = h.water_id&amp;#10;                                   AND c.fiscal_year = h.fiscal_year&amp;#10;                                   AND c.period_num = h.period_num&amp;#10;                                   AND client_modify_yn = 'Y')&amp;#10;                   AND start_date =&amp;#10;                           (SELECT MAX (start_date)&amp;#10;                              -- into   v_max&amp;#10;                              FROM WT_PERIODIC_FOR_CALC_HisT&amp;#10;                             WHERE     water_id = :WT_READINGS_BLK.WATER_ID&amp;#10;                                   AND fiscal_year =&amp;#10;                                           :WT_READINGS_BLK.FISCAL_YEAR&amp;#10;                                   AND period_num =&amp;#10;                                           :WT_READINGS_BLK.PERIOD_NUM);&amp;#10;        EXCEPTION&amp;#10;            WHEN NO_DATA_FOUND&amp;#10;            THEN&amp;#10;                :wt_readings_blk.person_num := NULL;&amp;#10;            WHEN OTHERS&amp;#10;            THEN&amp;#10;                MESSAGE (SQLERRM);&amp;#10;                MESSAGE (SQLERRM);&amp;#10;        END;&amp;#10;    END IF;&amp;#10;&amp;#10;&amp;#10;    --Add By Chani 15.8.2013&amp;#10;    BEGIN&amp;#10;        IF :WT_READINGS_BLK.REPAIR_REASON_CODE IS NOT NULL&amp;#10;        THEN&amp;#10;            SELECT REPAIR_REASON_DESC&amp;#10;              INTO :WT_READINGS_BLK.REPAIR_REASON_NAME&amp;#10;              FROM WT_REPAIR_REASONS&amp;#10;             WHERE     REPAIR_REASON_TYPE = 1&amp;#10;                   AND REPAIR_REASON_CODE =&amp;#10;                           :WT_READINGS_BLK.REPAIR_REASON_CODE;&amp;#10;        END IF;&amp;#10;    EXCEPTION&amp;#10;        WHEN OTHERS&amp;#10;        THEN&amp;#10;            :WT_READINGS_BLK.REPAIR_REASON_NAME := NULL;&amp;#10;    END;&amp;#10;&amp;#10;    /* brachi end;*/&amp;#10;    --tzvia change in 30/07/2014&amp;#10;    images_pkg.show_button_image (:WT_READINGS_BLK.reading_seq, '*');&amp;#10;&amp;#10;&amp;#10;    BEGIN&amp;#10;        SELECT COUNT (1)&amp;#10;          INTO v_check&amp;#10;          FROM wt_periodic&amp;#10;         WHERE     wateR_id = :wt_readings_blk.water_id&amp;#10;               AND fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;               AND period_num = :wt_readings_blk.period_num;&amp;#10;    EXCEPTION&amp;#10;        WHEN NO_DATA_FOUND&amp;#10;        THEN&amp;#10;            p_set_item_property ('BILLING_ADJUSTMENT',&amp;#10;                                 enabled,&amp;#10;                                 PROPERTY_FALSE);&amp;#10;    END;&amp;#10;&amp;#10;    /*brachi09022014*/&amp;#10;    ----מס ימים בתקופה&amp;#10;&amp;#10;    DECLARE&amp;#10;        v_start_date   DATE;&amp;#10;        v_end_date     DATE;&amp;#10;    BEGIN&amp;#10;        :WT_READINGS_BLK.num_of_days :=&amp;#10;            wt_year_period_pkg.GET_PERIOD_NUM_OF_DAYS (&amp;#10;                p_fiscal_year   => :WT_READINGS_BLK.fiscal_year,&amp;#10;                p_period_num    => :WT_READINGS_BLK.period_num,&amp;#10;                p_water_id      => :WT_READINGS_BLK.water_id,&amp;#10;                p_run_mode      => 1,&amp;#10;                p_process_seq   => NULL,&amp;#10;                p_start_date    => v_start_date,&amp;#10;                p_end_date      => v_end_date);&amp;#10;&amp;#10;        /* התייחסות להחלפת משלם */&amp;#10;        /* Elisheva Kaner 15/05/2014 */&amp;#10;&amp;#10;        BEGIN&amp;#10;            SELECT reading_date&amp;#10;              INTO v_prev_reading_date&amp;#10;              FROM WT_READINGS r1&amp;#10;             WHERE     water_id = :WT_READINGS_BLK.water_id&amp;#10;                   AND fiscal_year = :WT_READINGS_BLK.fiscal_year&amp;#10;                   AND period_num = :WT_READINGS_BLK.period_num&amp;#10;                   AND reading_type = 4&amp;#10;                   AND reading_Date =&amp;#10;                           (SELECT MAX (reading_Date)&amp;#10;                              FROM WT_READINGS r2&amp;#10;                             WHERE     r1.water_id = r2.water_id&amp;#10;                                   AND r1.fiscal_year = r2.fiscal_year&amp;#10;                                   AND r1.period_num = r2.period_num&amp;#10;                                   AND r2.reading_Date &lt;&amp;#10;                                           :WT_READINGS_BLK.reading_Date);&amp;#10;        EXCEPTION&amp;#10;            WHEN NO_DATA_FOUND&amp;#10;            THEN&amp;#10;                v_prev_reading_Date := v_start_date;&amp;#10;        END;&amp;#10;&amp;#10;        IF :WT_READINGS_BLK.reading_type = 4&amp;#10;        THEN&amp;#10;            :WT_READINGS_BLK.num_of_days :=&amp;#10;                :WT_READINGS_BLK.reading_Date - v_prev_reading_Date;&amp;#10;        ELSE&amp;#10;            :WT_READINGS_BLK.num_of_days := v_end_date - v_prev_reading_Date;&amp;#10;        END IF;&amp;#10;    END;&amp;#10;&amp;#10;&amp;#10;&amp;#10;    /*brachi end*/&amp;#10;    /*brachi add 19022013*/&amp;#10;    IF :wt_readings_blk.reading != :wt_readings_blk.READING_FROM_FILE&amp;#10;    THEN&amp;#10;        :wt_readings_blk.reading_masofon := '*';&amp;#10;    END IF;&amp;#10;&amp;#10;    /*brachi end 1902*/&amp;#10;&amp;#10;    --message('REGION_CODE'||:WT_READINGS_BLK.REGION_CODE); message('REGION_CODE'||:WT_READINGS_BLK.REGION_CODE);&amp;#10;&amp;#10;    --tzvia add in 04/06/2015&amp;#10;    BEGIN&amp;#10;        SELECT cu.contractor_user_name&amp;#10;          INTO :WT_READINGS_BLK.CONTRACTOR_USER_NAME&amp;#10;          FROM wt_contractor_users cu&amp;#10;         WHERE cu.contractor_user_code =&amp;#10;                   :WT_READINGS_BLK.CONTRACTOR_USER_CODE;&amp;#10;    EXCEPTION&amp;#10;        WHEN NO_DATA_FOUND&amp;#10;        THEN&amp;#10;            :WT_READINGS_BLK.CONTRACTOR_USER_NAME := NULL;&amp;#10;    END;&amp;#10;    &amp;#10;    &amp;#10;     &amp;#10;      v_visual_attr:='PERIOD_NOT_OK';                &amp;#10;      v_first_item_name:= Get_Block_Property('WT_READINGS_BLK', first_item); &amp;#10;      v_item_name  := v_first_item_name;      &amp;#10;      v_check_open:=0;&amp;#10;  --check if it open perios - thats not over step 6:&amp;#10;  select count(1)&amp;#10;  into v_check_open&amp;#10;from RM_SERV_REGION_CODES t &amp;#10;where t.period_num=:WT_READINGS_BLK.period_num&amp;#10;and t.fiscal_year=:WT_READINGS_BLK.fiscal_year&amp;#10;and t.region_code=:WT_READINGS_BLK.region_code&amp;#10;and(t.wt_calc_oc&lt;>'A' or t.wt_calc_oc is null) ;&amp;#10;      &amp;#10;      if v_check_open>0 then &amp;#10;   --loop on items:&amp;#10;      LOOP     &amp;#10;         IF Get_Item_Property('WT_READINGS_BLK.'||v_item_name, VISIBLE) = 'TRUE'  then   &amp;#10;        SET_ITEM_INSTANCE_PROPERTY('WT_READINGS_BLK.'||v_item_name,CURRENT_RECORD,VISUAL_ATTRIBUTE ,v_visual_attr); &amp;#10;         end if;&amp;#10;        v_item_name := Get_Item_Property('WT_READINGS_BLK.'||v_item_name, NextItem);&amp;#10;      &amp;#10;       exit when NVL(v_item_name,v_first_item_name)=v_first_item_name;&amp;#10;      END LOOP;                 &amp;#10; &amp;#10;end if;&amp;#10;    &amp;#10;END;"/>
         <Trigger Name="PRE-QUERY" TriggerText="DECLARE&amp;#10;      v_where VARCHAR2(500) := '1=2';&amp;#10;      v_water_id_class number;&amp;#10;      v_alert number;&amp;#10;      v_check number;&amp;#10;BEGIN&amp;#10;&#x9;:system.message_level:=15;&amp;#10;&#x9;  --display_error;&amp;#10;IF :query.water_id IS NOT NULL THEN&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;  BEGIN&amp;#10;      SELECT 1&amp;#10;      INTO v_check&amp;#10;      FROM wt_net&amp;#10;      WHERE water_id = :QUERY.WATER_ID;&amp;#10;    EXCEPTION WHEN NO_DATA_FOUND THEN&amp;#10;        v_alert := display_comment('APP',444,null,'זיהוי לא קיים',null,null);&amp;#10;        :QUERY.WATER_ID := null;&amp;#10;        raise form_trigger_failure;&amp;#10;    END;&amp;#10;    &amp;#10;  &#x9;v_where := '1=1';&amp;#10;  &amp;#10;    --v_where := v_where||' AND water_id = '''||:query.water_id||'''';&amp;#10;  v_where := v_where||' AND water_id =:query.water_id';--||chr(39)||:query.water_id||chr(39);--by chani 8.2014 to resolve a problme of Slowness brcau remove by anna&amp;#10;    populate_pkg.clients(:query.water_id,&amp;#10;                      :query.client_id,&amp;#10;                      :query.client_type,&amp;#10;                      :query.client_name);&amp;#10;                      &amp;#10;     &amp;#10;   populate_pkg.get_water_details;&amp;#10;   populate_pkg.get_gauge_details;--Hodaya added 12/15&amp;#10;   --message(':PARAMETER.ADDRESS'||:PARAMETER.ADDRESS);&amp;#10;   --message(':PARAMETER.ADDRESS'||:PARAMETER.ADDRESS);&amp;#10;   address_pkg.get_obj_address(3, --subj_code,&amp;#10;                            :query.obj_id,&amp;#10;                            :query.obj_name);&amp;#10;   IF :query.obj_name IS NULL THEN&amp;#10;   &#x9;  :query.obj_name := :PARAMETER.ADDRESS; -- עבור מונים כלליים                            &amp;#10;   END IF; &amp;#10;   &amp;#10;  --:query.water_id_class_name := &amp;#10;      -- get_desc_query_pkg.get_wt_class_name(:parameter.water_id_type,&amp;#10;      &amp;#10;    select water_id_class&amp;#10;    into v_water_id_class&amp;#10;    from wt_net&amp;#10;    where water_id=:query.water_id;&amp;#10;       &amp;#10;   :query.water_id_class_name:=get_desc_query_pkg.get_class_name_query(v_water_id_class); &amp;#10;  &amp;#10;                                 &amp;#10;   populate_pkg.get_debit_details;&amp;#10;   ELSE&amp;#10;   --&amp;#10;  &amp;#10;&#x9;:query.water_id_class_name := null;&amp;#10;&#x9;:query.obj_id              := null;&amp;#10;&#x9;:query.obj_name            := null;&amp;#10;&#x9;:query.client_id           := null;&amp;#10;&#x9;:query.client_name         := null;&amp;#10;&#x9;:query.debit_name          := null;&amp;#10;&#x9;:query.card_num            := null;&amp;#10;   END IF;&amp;#10;   &amp;#10;   --add by Miri 27/02/18&amp;#10;   if :QUERY.READING_READY_YN_RB = 'Y' or :QUERY.READING_READY_YN_RB='N' then&amp;#10;   &#x9;v_where:=v_where||'  and reading_ready_yn = :QUERY.READING_READY_YN_RB';&amp;#10;   end if;&amp;#10;   --End Miri&amp;#10;   &#x9;&amp;#10;   &amp;#10;   &amp;#10; --message(v_where||'v_where');pause;--1&amp;#10;  SET_BLOCK_PROPERTY('wt_readings_blk',DEFAULT_WHERE,v_where);&amp;#10;  &amp;#10;&#x9;:system.message_level:=0;&amp;#10;&amp;#10;&amp;#10;exception&amp;#10;&#x9;when no_data_found then&amp;#10;&#x9;v_alert := display_comment('APP',444,null,'זיהוי לא קיים ',null,null);&amp;#10;&#x9;&amp;#10;END;&amp;#10;"/>
         <Trigger Name="WHEN-NEW-RECORD-INSTANCE" TriggerText="DECLARE&amp;#10;&#x9;p_image blob;&amp;#10;&#x9;v_start_period VARCHAR2(15);&amp;#10;&#x9;v_value VARCHAR2(200);&amp;#10;&#x9;v_open_fiscal_year number;&amp;#10;&#x9;v_open_period_num number;&amp;#10;&#x9;v_client_type number;&amp;#10;&#x9;v_check number;&amp;#10;&#x9;v_debit_code  number;&amp;#10;&#x9;v_stamp varchar(15);&amp;#10;&#x9;v  number;&amp;#10;&#x9;v_reading number;&amp;#10;BEGIn&amp;#10;&#x9; &#x9;if :QUERY.GAUGE_DESC&lt;>'קר&quot;מ' then &amp;#10; &amp;#10;&#x9; set_item_property('QUERY.ITEM532',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;else&amp;#10;      set_item_property('QUERY.ITEM532',VISIBLE,PROPERTY_true);&amp;#10;       P_SET_ITEM_PROPERTY('QUERY.ITEM532',enabled,PROPERTY_true);--brchi&amp;#10;&#x9;end if;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;   &#x9;/*brachi*/&amp;#10;  --P_SET_ITEM_PROPERTY('QUERY.hist_btn',enabled,PROPERTY_true);&amp;#10;   IF :wt_readings_blk.water_id is null THEN /* אין נתונים */&amp;#10;   &#x9;  P_SET_ITEM_PROPERTY('QUERY.UPDATE',enabled,PROPERTY_FALSE);&amp;#10;   &#x9; -- P_SET_ITEM_PROPERTY('control.PRINT_WORK',enabled,PROPERTY_FALSE);remove by chani 7.2013&amp;#10;   &#x9;-- message(:PARAMETER.P_VALUE||':PARAMETER.P_VALUE');message(:PARAMETER.P_VALUE||':PARAMETER.P_VALUE');--2204&amp;#10;    IF &#x9;:PARAMETER.P_VALUE='Y' THEN--HODAYA 03.13&amp;#10;   &#x9;  &#x9;P_SET_ITEM_PROPERTY('control.LOGIT',enabled,PROPERTY_FALSE);   &amp;#10;   &#x9;  END IF;   &#x9;  &amp;#10;   ELSE&#x9;  &amp;#10;      P_SET_ITEM_PROPERTY('QUERY.UPDATE',enabled,PROPERTY_TRUE);&amp;#10;   &#x9; --P_SET_ITEM_PROPERTY('control.PRINT_WORK',enabled,PROPERTY_TRUE);remove by chani 7.2013&amp;#10;   &#x9;  IF &#x9;:PARAMETER.P_VALUE='Y' THEN--HODAYA 03.13&amp;#10;   &#x9;  &#x9;P_SET_ITEM_PROPERTY('control.LOGIT',enabled,PROPERTY_TRUE);&amp;#10;   &#x9;  END IF;&amp;#10;   &#x9;  populate_pkg.get_gauge_details;--Hodaya added 12/15&amp;#10;   /*brachi add 092014*/&amp;#10;   --message('brachi');message('brachi');&amp;#10;   begin&amp;#10;   select count(*),use_wt&amp;#10;   into v,v_reading&amp;#10;   from WT_READINGS_HASAVA_HIST&amp;#10;   where water_id=:wt_readings_blk.water_id&amp;#10;   and period_num =:wt_readings_blk.period_num&amp;#10;   and fiscal_year =:wt_readings_blk.fiscal_year;&amp;#10;   exception&amp;#10;   &#x9;/*when too_many_rows then &amp;#10;   P_SET_ITEM_PROPERTY('QUERY.hist_btn',enabled,PROPERTY_FALSE);&amp;#10;   &#x9;--- null;*/&amp;#10;   when others then null;&amp;#10;   end;&amp;#10;  &amp;#10;  if v &lt;=1&amp;#10;   &#x9;then &amp;#10;   &#x9;if v=1 and v_reading!=:wt_readings_blk.reading then&amp;#10;   &#x9;&#x9;P_SET_ITEM_PROPERTY('QUERY.hist_btn',enabled,PROPERTY_true);&amp;#10;   &#x9;  P_SET_ITEM_PROPERTY('QUERY.hist_btn',navigable,PROPERTY_true);&amp;#10;       -- &#x9;message(v||'  count  ');message(v||'  count  ');&amp;#10;    else&amp;#10;   &#x9; P_SET_ITEM_PROPERTY('QUERY.hist_btn',enabled,PROPERTY_FALSE);&amp;#10;   &#x9;end if;&amp;#10;  elsif v>1 then&amp;#10;   &#x9;P_SET_ITEM_PROPERTY('QUERY.hist_btn',enabled,PROPERTY_true);&amp;#10;   &#x9; P_SET_ITEM_PROPERTY('QUERY.hist_btn',navigable,PROPERTY_true);&amp;#10;  end if;&amp;#10;   /*brachi end*/&amp;#10;   &amp;#10;    -- רק קריאה תקופתית ניתן לעדכן&amp;#10;      v_start_period:=sr_code_values_pkg.get_varchar_value('WT_CALC_BY_DATES_START_PERIOD');&amp;#10;      --IF v_start_period=0 &amp;#10;      &amp;#10;   &#x9;  if  v_start_period > :wt_readings_blk.fiscal_year||lpad(:wt_readings_blk.period_num, 2, '0')  &amp;#10;       or :wt_readings_blk.reading_Type not in (1)or sr_code_values_pkg.get_varchar_value('UPDATE_READING_DATE')='N' &amp;#10;   &#x9;      &amp;#10;      THEN&amp;#10;    &amp;#10;    &#x9;   P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',enabled,PROPERTY_FALSE);&amp;#10;    &#x9;   P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',visible,PROPERTY_FALSE);&amp;#10;    &#x9; &amp;#10;    &#x9;  -- P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',enabled,PROPERTY_FALSE);&amp;#10;        -- P_SET_ITEM_PROPERTY('CONTROL.add_reading',ENABLED, PROPERTY_FALSE);--2904&amp;#10;   &amp;#10;      else&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',enabled,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',update_allowed,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE',navigable,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',visible,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING_DATE_BUT',enabled,PROPERTY_TRUE);&amp;#10;       &#x9;&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',enabled,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',update_allowed,PROPERTY_TRUE);&amp;#10;       &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',navigable,PROPERTY_TRUE);&amp;#10;        -- P_SET_ITEM_PROPERTY('CONTROL.add_reading',VISIBLE, PROPERTY_TRUE);&amp;#10;       --  P_SET_ITEM_PROPERTY('CONTROL.add_reading',ENABLED, PROPERTY_TRUE);&amp;#10;         --2904&amp;#10;   &amp;#10;      end if;&amp;#10;      IF sr_code_values_pkg.GET_varchar_VALUE('ALLOW_BUTTON_ADD_READING') ='N' then&amp;#10;      &#x9;P_SET_ITEM_PROPERTY('CONTROL.add_reading',ENABLED, PROPERTY_FALSE);&amp;#10;      else&amp;#10;      &#x9; P_SET_ITEM_PROPERTY('CONTROL.add_reading',VISIBLE, PROPERTY_TRUE);&amp;#10;         P_SET_ITEM_PROPERTY('CONTROL.add_reading',ENABLED, PROPERTY_TRUE);&amp;#10;      end if;&amp;#10;      begin&amp;#10;      &#x9;select stamp_action  into v_stamp from wt_net &amp;#10;      &#x9;where water_id=:query.water_id;&amp;#10;      &#x9;&amp;#10;      exception&amp;#10;      &#x9;when others then v_stamp:=null;&amp;#10;      &#x9;end;&amp;#10;      if v_stamp='D'then &amp;#10;      &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_STATUS_CODE',enabled,PROPERTY_FALSE);&amp;#10;      &#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_LIST',enabled,PROPERTY_FALSE);&amp;#10;      ELSE--BRACHI ADD &amp;#10;      &#x9;&#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_STATUS_CODE',enabled,PROPERTY_TRUE);&amp;#10;      &#x9;&#x9; P_SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_LIST',enabled,PROPERTY_TRUE);&amp;#10;      end if;&amp;#10; --  IF :wt_readings_blk.reading_Type != 1 THEN   --   Elena 29.102012     WAT 894&amp;#10;      IF :wt_readings_blk.reading_Type not in (1,2,3,4) THEN --Miri added type 2, hana_e added type 4&amp;#10;   &#x9;     P_SET_ITEM_PROPERTY('QUERY.UPDATE',enabled,PROPERTY_FALSE);&amp;#10;      ELSE&amp;#10;   &#x9;     P_SET_ITEM_PROPERTY('QUERY.UPDATE',enabled,PROPERTY_TRUE);&amp;#10;      END IF;&amp;#10;      &amp;#10; END IF; &amp;#10; &amp;#10;     P_SET_ITEM_PROPERTY( 'control.BTN_PRINT_IMAGE',enabled,PROPERTY_TRUE);&amp;#10;   &#x9;------rachely 10/10/2013 begin&amp;#10;/*   &#x9;select image&amp;#10;into p_image  &amp;#10;from WT_PT_UNLOAD_READING_IMAGES&amp;#10;where water_id=:WT_READINGS_BLK.water_id&amp;#10;and fiscal_year=:WT_READINGS_BLK.fiscal_year&amp;#10;and period_num=:WT_READINGS_BLK.period_num;&amp;#10;exception when no_data_found then&amp;#10;&#x9;buttons_pkg.enabled_true_false(NULL,NULL,&amp;#10;                               'control.BTN_PRINT_IMAGE',0,&amp;#10;                               NULL,NULL, NULL,NULL,&amp;#10;                               NULL,NULL, NULL,NULL);  &amp;#10;                               ----rachely 10/10/2013 end&amp;#10;*/--tzvia change in 30/07/2014&amp;#10;images_pkg.show_button_image(:WT_READINGS_BLK.reading_seq);&amp;#10;&amp;#10;--add by chani 10.2013&amp;#10;&#x9;IF :WT_READINGS_BLK.period_num IS NOT NULL THEN&amp;#10; &#x9;  :global.period_num:=:WT_READINGS_BLK.period_num; &amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;  IF &#x9;:WT_READINGS_BLK.FISCAL_YEAR IS NOT NULL THEN&amp;#10;&#x9;&#x9;:global.FISCAL_YEAR:=:WT_READINGS_BLK.FISCAL_YEAR;&amp;#10;&#x9;END IF;&amp;#10;--end of add 10.2013   &amp;#10; begin&amp;#10; &#x9;--022015&amp;#10; --/*braci change */&amp;#10; --add by chani 11.2013 &amp;#10;   &#x9;select count(1)&amp;#10;    into   v_check&amp;#10;    from   wt_periodic&amp;#10;    where  wateR_id=:wt_readings_blk.water_id&amp;#10;      and  fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;      and  period_num  = :wt_readings_blk.period_num;&amp;#10;  if v_check!=0 then &amp;#10;  --&#x9;message('yes');&#x9;message('yes');&#x9;--0210&amp;#10;    select client_id,client_type,debit_code&amp;#10;    into   :query.client_id,v_client_type,v_debit_code&amp;#10;    from   wt_periodic&amp;#10;    where  wateR_id=:wt_readings_blk.water_id&amp;#10;      and  fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;      and  period_num  = :wt_readings_blk.period_num;&amp;#10; :query.client_name:=get_desc_pkg.get_client_desc(:query.client_id,v_client_type); &amp;#10;&amp;#10; &#x9;:query.debit_name:=get_desc_query_pkg.get_debit_desc_query(:global.obj_subj_code, :global.water_serv_code,v_debit_code );&amp;#10; --&#x9;message(':query.client_name'||:query.client_name);message(':query.client_name'||:query.client_name);&amp;#10;  else&amp;#10;  --&#x9;&#x9;message('no');&#x9;message('no');&#x9;--0210&amp;#10;  populate_pkg.clients(:query.water_id,:query.client_id, :query.client_type,:query.client_name);&amp;#10;  :query.debit_name:=get_desc_query_pkg.get_debit_desc_query(:global.obj_subj_code, :global.water_serv_code, :wt_readings_blk.debit_code );&amp;#10;  end if;&amp;#10;-- :query.client_name:=get_desc_pkg.get_client_desc(:query.client_id,v_client_type);  &amp;#10;  exception&amp;#10;  when no_data_found then&amp;#10;  :query.client_id:=null;&amp;#10;  v_client_type:=null;&amp;#10;   &amp;#10;  &#x9;:query.debit_name:=null;           &amp;#10;  end;&amp;#10;   /*brachi change and add */&amp;#10;  if :wt_readings_blk.READING_TYPE =4&amp;#10;  &#x9;then &amp;#10;  &#x9;begin&amp;#10;  --&#x9;message('yes');&#x9;message('yes');&amp;#10;   select distinct client_id,client_type,debit_code&amp;#10;    into   :query.client_id,v_client_type,v_debit_code&amp;#10;    from   WT_CLIENT_MODIFY&amp;#10;    where  wateR_id=:wt_readings_blk.water_id&amp;#10;      and  fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;      and  period_num  = :wt_readings_blk.period_num&amp;#10;       and trunc(:wt_readings_blk.reading_date)=trunc(modify_date);--by chani s 6.2015;&amp;#10;  &#x9;exception&amp;#10;  &#x9;&#x9;when others then &amp;#10;  &#x9;--&#x9;message(sqlerrm||' sqlerrm');&#x9;message(sqlerrm||' sqlerrm');&amp;#10;  &#x9;:query.client_id:=null;&amp;#10;  &#x9;v_client_type:=null;&amp;#10;  &#x9;v_debit_code:=null;&amp;#10;      end;&amp;#10; :query.client_name:=get_desc_query_pkg.GET_CLIENT_DESC_QUERY(:query.client_id,v_client_type); &amp;#10; end if;&amp;#10;&amp;#10;RM_REGION_PKG.GET_YEAR_PERIOD_RETRO (:global.obj_subj_code,&amp;#10;                                     :global.water_serv_code,&amp;#10;                                     :WT_READINGS_BLK.water_id ,&amp;#10;                                     v_open_fiscal_year,&amp;#10;                                      v_open_period_num);&amp;#10;&amp;#10;END;   &amp;#10;&amp;#10;&amp;#10;/*if sr_code_values_pkg.get_varchar_value('UPDATE_READING_DATE')='N' THEN&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE_BUT',enabled,PROPERTY_FALSE);&amp;#10;    --&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',update_allowed,PROPERTY_FALSE);&amp;#10;    &#x9;--&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',insert_allowed,PROPERTY_FALSE);&amp;#10;else&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE_BUT',enabled,PROPERTY_true);&amp;#10;   -- &#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',update_allowed,PROPERTY_true);&amp;#10;    --&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',insert_allowed,PROPERTY_truE);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.READING_DATE',navigable,PROPERTY_truE);&amp;#10;    &#x9;&#x9;&amp;#10;&#x9;END IF;*/&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN&amp;#10; IF :system.block_status &lt;> 'NEW' THEN -- if help button not active&amp;#10;   CALL_HISTORY;&amp;#10; END IF;&amp;#10;END IF; &amp;#10;END;" DirtyInfo="true"/>
         <Trigger Name="ON-POPULATE-DETAILS" TriggerText="--&amp;#10;-- Begin default relation declare section&amp;#10;--&amp;#10;DECLARE&amp;#10;  recstat     VARCHAR2(20) := :System.record_status;   &amp;#10;  startitm    VARCHAR2(61) := :System.cursor_item;   &amp;#10;  rel_id      Relation;&amp;#10;--&amp;#10;-- End default relation declare section&amp;#10;--&amp;#10;--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  IF ( recstat = 'NEW' or recstat = 'INSERT' ) THEN   &amp;#10;    RETURN;&amp;#10;  END IF;&amp;#10;  --&amp;#10;  -- Begin WT_READING_IMAGES detail program section&amp;#10;  --&amp;#10;  IF ( (:WT_READINGS_BLK.READING_SEQ is not null) ) THEN   &amp;#10;    rel_id := Find_Relation('WT_READINGS_BLK.WT_READINGS_BLK_WT_READING_IMA');   &amp;#10;    Query_Master_Details(rel_id, 'WT_READING_IMAGES');   &amp;#10;  END IF;&amp;#10;  --&amp;#10;  -- End WT_READING_IMAGES detail program section&amp;#10;  --&amp;#10;&amp;#10;  IF ( :System.cursor_item &lt;> startitm ) THEN     &amp;#10;     Go_Item(startitm);     &amp;#10;     Check_Package_Failure;     &amp;#10;  END IF;&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="ON-CHECK-DELETE-MASTER" TriggerText="--&amp;#10;-- Begin default relation declare section&amp;#10;--&amp;#10;DECLARE&amp;#10;  Dummy_Define CHAR(1);&amp;#10;  --&amp;#10;  -- Begin WT_READING_IMAGES detail declare section&amp;#10;  --&amp;#10;  CURSOR WT_READING_IMAGES_cur IS      &amp;#10;    SELECT 1 FROM WT_READING_IMAGES W     &amp;#10;    WHERE W.READING_SEQ = :WT_READINGS_BLK.READING_SEQ;&amp;#10;  --&amp;#10;  -- End WT_READING_IMAGES detail declare section&amp;#10;  --&amp;#10;--&amp;#10;-- End default relation declare section&amp;#10;--&amp;#10;--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Begin WT_READING_IMAGES detail program section&amp;#10;  --&amp;#10;  OPEN WT_READING_IMAGES_cur;     &amp;#10;  FETCH WT_READING_IMAGES_cur INTO Dummy_Define;     &amp;#10;  IF ( WT_READING_IMAGES_cur%found ) THEN     &amp;#10;    Message('Cannot delete master record when matching detail records exist.');     &amp;#10;    CLOSE WT_READING_IMAGES_cur;     &amp;#10;    RAISE Form_Trigger_Failure;     &amp;#10;  END IF;&amp;#10;  CLOSE WT_READING_IMAGES_cur;&amp;#10;  --&amp;#10;  -- End WT_READING_IMAGES detail program section&amp;#10;  --&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
      </Block>
      <Block Name="WT_READING_IMAGES" UpdateAllowed="false" ScrollbarTabPageName="" QueryDataSourceName="WT_READING_IMAGES" RecordsDisplayCount="3" InsertAllowed="false" ScrollbarYPosition="1482" DeleteAllowed="false" ShowScrollbar="true" DirtyInfo="true" ScrollbarCanvasName="IMAGES_CV" ScrollbarWidth="476" ScrollbarXPosition="475" ScrollbarLength="2011">
         <Item Name="BTN_EXIT" YPosition="3889" XPosition="3942" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray" FontWeight="Bold" Label="יציאה" TabPageName="" FontStyle="Plain" DirtyInfo="true" Width="2381" CanvasName="IMAGES_CV" ParentType="29">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="hide_window('images_win');&amp;#10;go_item('control.BTN_PRINT_IMAGE');" DirtyInfo="true"/>
         </Item>
         <Item Name="STAMP_ACTION" MaximumLength="1" Prompt="Stamp Action" DirtyInfo="true" Width="476" ColumnName="STAMP_ACTION" DataLengthSemantics="BYTE" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_CDATE" MaximumLength="10" Prompt="Stamp Cdate" DirtyInfo="true" Width="2619" ColumnName="STAMP_CDATE" DataType="Date" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_DATE" MaximumLength="10" Prompt="Stamp Date" DirtyInfo="true" Width="2619" ColumnName="STAMP_DATE" DataType="Date" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_USER" MaximumLength="15" Prompt="Stamp User" DirtyInfo="true" Width="3810" ColumnName="STAMP_USER" DataLengthSemantics="BYTE" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="READING_SEQ" MaximumLength="9" YPosition="1508" XPosition="950" ItemsDisplay="0" DirtyInfo="true" Width="2381" CanvasName="IMAGES_CV" PromptFontName="Arial" Required="true" PromptFontSize="1100" DataType="Number" ParentModule="WT_READINGS" CopyValueFromItem="WT_READINGS_BLK.READING_SEQ" ParentModuleType="12" ParentName="TEXT_ITEM_HEB_CENTER_PC" Prompt="מס' קריאה" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" ColumnName="READING_SEQ" PromptAttachmentOffset="143" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="IMAGE_SEQ" MaximumLength="11" YPosition="1508" XPosition="3410" ItemsDisplay="0" FontWeight="Medium" FontStyle="Underline" DirtyInfo="true" FontSpacing="Normal" Width="2858" FontSize="1100" FontName="Arial" CanvasName="IMAGES_CV" PromptFontName="Arial" Required="true" PromptFontSize="1100" DataType="Number" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="TEXT_ITEM_HEB_CENTER_PC" Prompt="מס' תמונה" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" ColumnName="IMAGE_SEQ" PromptAttachmentOffset="143" PromptAlignOffset="53" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="&amp;#10;images_pkg.show_image(to_char(:wt_readings_blk.stamp_cdate,'YYYY')||'/',:WT_READING_IMAGES.IMAGE_SEQ);&amp;#10;--images_pkg.show_image(to_char(:WT_READING_IMAGES.STAMP_CDATE,'YYYY')||'/',:WT_READING_IMAGES.IMAGE_SEQ);&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="8" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="IMAGE_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="10" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCNochildren="false" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
      </Block>
      <Block Name="POPUP_CONFIRM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM">
         <Item Name="OK_CONFIRME" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CONTINUE_ACTIVITY" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="HIDDEN_ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="RM_TAGS_UPD" DirtyInfo="true" ScrollbarWidth="476" QueryDataSourceName="rm_tags" ScrollbarLength="4763">
         <Item Name="START_DATE" YPosition="272" XPosition="1641" Justification="Right" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="2377" CanvasName="UPD_TAGS_CV" PromptFontName="Arial" Height="524" FormatMask="DD/MM/YYYY" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Date" ItemType="Text Item" Prompt="מתאריך" TabPageName="" PromptJustification="Right" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="79" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="26" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;    v_alert  NUMBER;&amp;#10;    v_disassemble_date DATE;&amp;#10;BEGIN&amp;#10;&#x9;  if to_char(:RM_TAGS_UPD.START_DATE,'yyyy')&lt;1000 then&amp;#10;&#x9;  &#x9;  SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;        v_alert := DISPLAY_COMMENT('APP',175,NULL,NULL,NULL,NULL);&amp;#10;        :RM_TAGS_UPD.START_DATE:=null;&amp;#10;        RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  end if;&amp;#10;&#x9;  &amp;#10;&#x9;  IF :RM_TAGS_UPD.START_DATE IS NOT NULL AND :RM_TAGS_UPD.END_DATE IS NOT NULL THEN&amp;#10;&#x9;  &#x9;IF :RM_TAGS_UPD.START_DATE > :RM_TAGS_UPD.END_DATE THEN&amp;#10;&#x9;  &#x9;&#x9;:RM_TAGS_UPD.START_DATE := NULL;&amp;#10;&#x9;  &#x9;&#x9;V_ALERT := DISPLAY_COMMENT('APP',444,null,'יש להקיש תאריך קטן מתאריך סיום התוקף',NULL,NULL);&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  &amp;#10;END;&amp;#10;" DirtyInfo="true"/>
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="DECLARE&amp;#10;&amp;#10;    -- DATE FORMAT used in the CALENDAR form ...&amp;#10;    SYS_DATE_FORMAT_ CONSTANT VARCHAR2(12) := 'DD/MM/YYYY';&amp;#10;&amp;#10;    -- standard DATE FORMAT ...&amp;#10;    STD_DATE_FORMAT_ CONSTANT VARCHAR2(12) := 'DD/MON/YYYY';&amp;#10;&amp;#10;    -- standard constant for numbers for DAYS OF THE WEEK ...&amp;#10;    WD_SUNDAY    CONSTANT VARCHAR2(1) := '1';&amp;#10;    WD_MONDAY    CONSTANT VARCHAR2(1) := '2';&amp;#10;    WD_TUESDAY   CONSTANT VARCHAR2(1) := '3';&amp;#10;    WD_WEDNESDAY CONSTANT VARCHAR2(1) := '4';&amp;#10;    WD_THURSDAY  CONSTANT VARCHAR2(1) := '5';&amp;#10;    WD_FRIDAY    CONSTANT VARCHAR2(1) := '6';&amp;#10;    WD_SATURDAY  CONSTANT VARCHAR2(1) := '7';&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;    -- SET THIS VARIABLE TO THE DEFAULT HOLIDAY ... IF THIS IS NOT SET OR IF IT CONTAINS&amp;#10;    -- AN INVALID VALUE, THE DEFAULT VALUE WD_FRIDAY WILL BE USED ...&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    -- this variable defines the day of the week which is the default HOLIDAY ...&amp;#10;    cDefHoliday  VARCHAR2(1) := WD_SATURDAY;&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    cCurItem      VARCHAR2(64);  &#x9;/* item which triggered the double click event&#x9;*/&amp;#10;    cCurValue     VARCHAR2(64);  &#x9;/* value contained in SYSTEM.TRIGGER_ITEM&#x9;      */&amp;#10;    cWinPos       VARCHAR2(32);&#x9;/* variable to store the ITEMS co-ordinates&#x9;*/&amp;#10;    cDefDate      VARCHAR2(16);&#x9;/* DEFAULT DATE ie sysdate&#x9;&#x9;&#x9;      */&amp;#10;&amp;#10;    plParamList   PARAMLIST;&#x9;&#x9;/* parameter list for the form CAL2000&#x9;&#x9;*/&amp;#10;    plListName    VARCHAR2(16);&#x9;/* name of the parameter list&#x9;&#x9;&#x9;      */&amp;#10;    bParameters&#x9;BOOLEAN := TRUE;&#x9;/* whether a valid parameter has been specified */&amp;#10;&amp;#10;    cCalendarForm VARCHAR2(30) := 'CAL_OBJ_YYYY';   /* name of the CALENDAR FORM&#x9;*/&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;    -- Function to get the operating system date ...&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    /*FUNCTION GET_SYSDATE RETURN DATE IS&amp;#10;    BEGIN&amp;#10;       RETURN (TO_DATE( :SYSTEM.CURRENT_DATETIME, 'DD-MON-YYYY HH24:MI:SS' ));&amp;#10;    EXCEPTION&amp;#10;       WHEN OTHERS THEN&amp;#10;            RETURN (NULL);&amp;#10;    END GET_SYSDATE;*/&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;   -- get the name of the item where the MOUSE DOUBLECLICK event occurred ...&amp;#10;    cCurItem := :SYSTEM.TRIGGER_ITEM;&amp;#10;&amp;#10;    -- if it is NOT A DATE field then that's it ...&amp;#10;    IF GET_ITEM_PROPERTY(cCurItem, DATATYPE) &lt;> 'DATE' THEN&amp;#10;       RETURN;&amp;#10;    END IF;&amp;#10;&amp;#10;    -- clear the console and get the current value in the date field ...&amp;#10;    CLEAR_MESSAGE;&amp;#10;    cDefDate  := TO_CHAR(GENERAL_PKG.GET_SYSDATE, SYS_DATE_FORMAT_ );&amp;#10;    cCurValue := NVL( SUBSTR(NAME_IN(cCurItem),1,64), cDefDate );&amp;#10;&amp;#10;    -- if the date format reverts to DD-MON-YY (?!!), set it right ...&amp;#10;    IF INSTR(cCurValue, '-', 1) &lt;> 0 THEN&amp;#10;       BEGIN&amp;#10;           cCurValue := TO_CHAR(TO_DATE(cCurValue,STD_DATE_FORMAT_),SYS_DATE_FORMAT_);&amp;#10;       EXCEPTION&amp;#10;           WHEN OTHERS THEN cCurValue := cDefDate;&amp;#10;       END;&amp;#10;    END IF;&amp;#10;&amp;#10;    -- set the global variable :GLOBAL.LABOLG_ETAD_ ...&amp;#10;    :GLOBAL.LABOLG_ETAD_ := cCurValue;&amp;#10;&amp;#10;    -- save the ITEM position in the GLOBAL variable ...&amp;#10;    cWinPos := LPAD(GET_ITEM_PROPERTY(cCurItem,X_POS),7,'0')||&amp;#10;               LPAD(GET_ITEM_PROPERTY(cCurItem,Y_POS),7,'0');&amp;#10;    :GLOBAL.WODNIW_SOP_ := cWinPos;&amp;#10;&amp;#10;    -- create a parameter list ...&amp;#10;    plListName  := 'PL_CAL2000_';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;    if not ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    end if;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    -- add the parameter 'HOLIDAY' with the value cDefHoliday ...&amp;#10;    if ID_NULL(plParamList) then&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;    else&amp;#10;       ADD_PARAMETER(plParamList, 'HOLIDAY', TEXT_PARAMETER, cDefHoliday );&amp;#10;    end if;&amp;#10;&amp;#10;    -- invoke the calendar with or without the PARAMETERS ...&amp;#10;    IF bParameters THEN&amp;#10;       CALL_FORM(cCalendarForm, NO_HIDE, NO_REPLACE, NO_QUERY_ONLY, plParamList );&amp;#10;    ELSE&amp;#10;       CALL_FORM(cCalendarForm, NO_HIDE );&amp;#10;    END IF;&amp;#10;&amp;#10;    -- if there is a value in :GLOBAL.LABOLG_ETAD_, copy it back &amp;#10;    -- CONVERT the date value to the STANDARD format before copying ....&amp;#10;    IF :GLOBAL.LABOLG_ETAD_ IS NOT NULL THEN&amp;#10;       cCurValue := LTRIM(RTRIM(:GLOBAL.LABOLG_ETAD_));&amp;#10;       cCurValue := to_char(to_date(cCurValue,SYS_DATE_FORMAT_),STD_DATE_FORMAT_);&amp;#10;       COPY ( cCurValue, cCurItem );&amp;#10;    END IF;&amp;#10;&amp;#10;    -- clear all the global variables ...&amp;#10;    ERASE('GLOBAL.LABOLG_ETAD_');&amp;#10;    ERASE('GLOBAL.WODNIW_SOP_');&amp;#10;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="END_DATE" YPosition="1065" XPosition="1609" Justification="Right" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="2377" CanvasName="UPD_TAGS_CV" PromptFontName="Arial" Height="524" FormatMask="DD/MM/YYYY" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Date" InitializeValue="" ItemType="Text Item" Prompt="עד תאריך" TabPageName="" PromptJustification="Right" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="53" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;    v_alert  NUMBER;&amp;#10;    v_disassemble_date DATE;&amp;#10;BEGIN&amp;#10;&#x9;  if to_char(:RM_TAGS_UPD.END_DATE,'yyyy')&lt;1000 then&amp;#10;&#x9;  &#x9;  SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;        v_alert := DISPLAY_COMMENT('APP',175,NULL,NULL,NULL,NULL);&amp;#10;        :RM_TAGS_UPD.END_DATE:=null;&amp;#10;        RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  end if;&amp;#10;   &amp;#10;   &#x9;IF :RM_TAGS_UPD.START_DATE IS NOT NULL AND :RM_TAGS_UPD.END_DATE IS NOT NULL THEN&amp;#10;&#x9;  &#x9;IF :RM_TAGS_UPD.START_DATE >= :RM_TAGS_UPD.END_DATE THEN&amp;#10;&#x9;  &#x9;&#x9;:RM_TAGS_UPD.END_DATE := NULL;&amp;#10;&#x9;  &#x9;&#x9;V_ALERT := DISPLAY_COMMENT('APP',444,NULL,'יש להקיש תאריך גדול מתאריך תחילת התוקף',NULL,NULL);&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;  END IF;&amp;#10;      &amp;#10;END;&amp;#10;" DirtyInfo="true"/>
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="DECLARE&amp;#10;&amp;#10;    -- DATE FORMAT used in the CALENDAR form ...&amp;#10;    SYS_DATE_FORMAT_ CONSTANT VARCHAR2(12) := 'DD/MM/YYYY';&amp;#10;&amp;#10;    -- standard DATE FORMAT ...&amp;#10;    STD_DATE_FORMAT_ CONSTANT VARCHAR2(12) := 'DD/MON/YYYY';&amp;#10;&amp;#10;    -- standard constant for numbers for DAYS OF THE WEEK ...&amp;#10;    WD_SUNDAY    CONSTANT VARCHAR2(1) := '1';&amp;#10;    WD_MONDAY    CONSTANT VARCHAR2(1) := '2';&amp;#10;    WD_TUESDAY   CONSTANT VARCHAR2(1) := '3';&amp;#10;    WD_WEDNESDAY CONSTANT VARCHAR2(1) := '4';&amp;#10;    WD_THURSDAY  CONSTANT VARCHAR2(1) := '5';&amp;#10;    WD_FRIDAY    CONSTANT VARCHAR2(1) := '6';&amp;#10;    WD_SATURDAY  CONSTANT VARCHAR2(1) := '7';&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;    -- SET THIS VARIABLE TO THE DEFAULT HOLIDAY ... IF THIS IS NOT SET OR IF IT CONTAINS&amp;#10;    -- AN INVALID VALUE, THE DEFAULT VALUE WD_FRIDAY WILL BE USED ...&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    -- this variable defines the day of the week which is the default HOLIDAY ...&amp;#10;    cDefHoliday  VARCHAR2(1) := WD_SATURDAY;&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    cCurItem      VARCHAR2(64);  &#x9;/* item which triggered the double click event&#x9;*/&amp;#10;    cCurValue     VARCHAR2(64);  &#x9;/* value contained in SYSTEM.TRIGGER_ITEM&#x9;      */&amp;#10;    cWinPos       VARCHAR2(32);&#x9;/* variable to store the ITEMS co-ordinates&#x9;*/&amp;#10;    cDefDate      VARCHAR2(16);&#x9;/* DEFAULT DATE ie sysdate&#x9;&#x9;&#x9;      */&amp;#10;&amp;#10;    plParamList   PARAMLIST;&#x9;&#x9;/* parameter list for the form CAL2000&#x9;&#x9;*/&amp;#10;    plListName    VARCHAR2(16);&#x9;/* name of the parameter list&#x9;&#x9;&#x9;      */&amp;#10;    bParameters&#x9;BOOLEAN := TRUE;&#x9;/* whether a valid parameter has been specified */&amp;#10;&amp;#10;    cCalendarForm VARCHAR2(30) := 'CAL_OBJ_YYYY';   /* name of the CALENDAR FORM&#x9;*/&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;    -- Function to get the operating system date ...&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    /*FUNCTION GET_SYSDATE RETURN DATE IS&amp;#10;    BEGIN&amp;#10;       RETURN (TO_DATE( :SYSTEM.CURRENT_DATETIME, 'DD-MON-YYYY HH24:MI:SS' ));&amp;#10;    EXCEPTION&amp;#10;       WHEN OTHERS THEN&amp;#10;            RETURN (NULL);&amp;#10;    END GET_SYSDATE;*/&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;   -- get the name of the item where the MOUSE DOUBLECLICK event occurred ...&amp;#10;    cCurItem := :SYSTEM.TRIGGER_ITEM;&amp;#10;&amp;#10;    -- if it is NOT A DATE field then that's it ...&amp;#10;    IF GET_ITEM_PROPERTY(cCurItem, DATATYPE) &lt;> 'DATE' THEN&amp;#10;       RETURN;&amp;#10;    END IF;&amp;#10;&amp;#10;    -- clear the console and get the current value in the date field ...&amp;#10;    CLEAR_MESSAGE;&amp;#10;    cDefDate  := TO_CHAR(GENERAL_PKG.GET_SYSDATE, SYS_DATE_FORMAT_ );&amp;#10;    cCurValue := NVL( SUBSTR(NAME_IN(cCurItem),1,64), cDefDate );&amp;#10;&amp;#10;    -- if the date format reverts to DD-MON-YY (?!!), set it right ...&amp;#10;    IF INSTR(cCurValue, '-', 1) &lt;> 0 THEN&amp;#10;       BEGIN&amp;#10;           cCurValue := TO_CHAR(TO_DATE(cCurValue,STD_DATE_FORMAT_),SYS_DATE_FORMAT_);&amp;#10;       EXCEPTION&amp;#10;           WHEN OTHERS THEN cCurValue := cDefDate;&amp;#10;       END;&amp;#10;    END IF;&amp;#10;&amp;#10;    -- set the global variable :GLOBAL.LABOLG_ETAD_ ...&amp;#10;    :GLOBAL.LABOLG_ETAD_ := cCurValue;&amp;#10;&amp;#10;    -- save the ITEM position in the GLOBAL variable ...&amp;#10;    cWinPos := LPAD(GET_ITEM_PROPERTY(cCurItem,X_POS),7,'0')||&amp;#10;               LPAD(GET_ITEM_PROPERTY(cCurItem,Y_POS),7,'0');&amp;#10;    :GLOBAL.WODNIW_SOP_ := cWinPos;&amp;#10;&amp;#10;    -- create a parameter list ...&amp;#10;    plListName  := 'PL_CAL2000_';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;    if not ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    end if;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    -- add the parameter 'HOLIDAY' with the value cDefHoliday ...&amp;#10;    if ID_NULL(plParamList) then&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;    else&amp;#10;       ADD_PARAMETER(plParamList, 'HOLIDAY', TEXT_PARAMETER, cDefHoliday );&amp;#10;    end if;&amp;#10;&amp;#10;    -- invoke the calendar with or without the PARAMETERS ...&amp;#10;    IF bParameters THEN&amp;#10;       CALL_FORM(cCalendarForm, NO_HIDE, NO_REPLACE, NO_QUERY_ONLY, plParamList );&amp;#10;    ELSE&amp;#10;       CALL_FORM(cCalendarForm, NO_HIDE );&amp;#10;    END IF;&amp;#10;&amp;#10;    -- if there is a value in :GLOBAL.LABOLG_ETAD_, copy it back &amp;#10;    -- CONVERT the date value to the STANDARD format before copying ....&amp;#10;    IF :GLOBAL.LABOLG_ETAD_ IS NOT NULL THEN&amp;#10;       cCurValue := LTRIM(RTRIM(:GLOBAL.LABOLG_ETAD_));&amp;#10;       cCurValue := to_char(to_date(cCurValue,SYS_DATE_FORMAT_),STD_DATE_FORMAT_);&amp;#10;       COPY ( cCurValue, cCurItem );&amp;#10;    END IF;&amp;#10;&amp;#10;    -- clear all the global variables ...&amp;#10;    ERASE('GLOBAL.LABOLG_ETAD_');&amp;#10;    ERASE('GLOBAL.WODNIW_SOP_');&amp;#10;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="LIST" YPosition="3702" XPosition="2857" ListElementCount="5" FontWeight="Medium" BackColor="white" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" Width="4789" FontSize="1100" FontName="Arial" CanvasName="" PromptFontName="Arial" Height="608" PromptFontSize="1100" ItemType="List Item" Prompt="מה ברצונך לשייך לתגית?" TabPageName="" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="158" PromptAlign="Center" PromptForegroundColor="red" PromptFontWeight="Bold" PromptFontStyle="Plain">
            <ListItemElement Index="1" Name="פרטי לקוח" Value="1"/>
            <ListItemElement Index="2" Name="סוג נכס" Value="2"/>
            <ListItemElement Index="3" Name="זיהוי מים" Value="3"/>
            <ListItemElement Index="4" Name="חשבון חוזה" Value="4"/>
            <ListItemElement Index="5" Name="" Value=""/>
            <Trigger Name="WHEN-LIST-CHANGED" TriggerText="BEGIN&amp;#10;&#x9;IF :RM_TAGS_UPD.LIST = 1 THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_ID',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_TYPE',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.SEARCH_CLIENT',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_NAME',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_LOV_OBJ_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE_DESC',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CONTRACT_ACC_NUM',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_CONTRACT_ACC_NUM',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.CLIENT_ID',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_ID',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.CLIENT_TYPE',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_TYPE',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.SEARCH_CLIENT',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.SEARCH_CLIENT',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSIF :RM_TAGS_UPD.LIST = 2 THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.SEARCH_CLIENT',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_NAME',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_LOV_OBJ_TYPE',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE_DESC',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CONTRACT_ACC_NUM',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_CONTRACT_ACC_NUM',VISIBLE,PROPERTY_FALSE);&#x9;&#x9;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.OBJ_TYPE',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.BTN_LOV_OBJ_TYPE',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_LOV_OBJ_TYPE',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSIF :RM_TAGS_UPD.LIST = 3 THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.SEARCH_CLIENT',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_NAME',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_LOV_OBJ_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE_DESC',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.WATER_ID',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_WATER_ID',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CONTRACT_ACC_NUM',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_CONTRACT_ACC_NUM',VISIBLE,PROPERTY_FALSE);&#x9;&#x9;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.WATER_ID',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.WATER_ID',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.BTN_SEARCH_WATER_ID',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_WATER_ID',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSIF :RM_TAGS_UPD.LIST = 4 THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.SEARCH_CLIENT',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CLIENT_NAME',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_LOV_OBJ_TYPE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.OBJ_TYPE_DESC',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CONTRACT_ACC_NUM',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_CONTRACT_ACC_NUM',VISIBLE,PROPERTY_TRUE);&#x9;&#x9;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.CONTRACT_ACC_NUM',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.CONTRACT_ACC_NUM',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY ('RM_TAGS_UPD.BTN_SEARCH_CONTRACT_ACC_NUM',ENABLED) = 'FALSE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('RM_TAGS_UPD.BTN_SEARCH_CONTRACT_ACC_NUM',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="BTN_START_DATE" YPosition="1065" XPosition="4010" IconFilename="date_icon" Iconic="true" Comment="תאריכון" ItemsDisplay="1" ItemType="Push Button" Label="" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" Width="550" CanvasName="UPD_TAGS_CV" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="513" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   IF :SYSTEM.CURSOR_ITEM = 'RM_TAGS_UPD.END_DATE' THEN&amp;#10;      GO_ITEM('RM_TAGS_UPD.END_DATE');&amp;#10;      EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');&amp;#10;   ELSE&amp;#10;      GO_ITEM('RM_TAGS_UPD.END_DATE');&amp;#10;      EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');&amp;#10;   END IF; &amp;#10;END IF;&amp;#10;END;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="BTN_END_DATE" YPosition="272" XPosition="4012" IconFilename="date_icon" Iconic="true" Comment="תאריכון" ItemsDisplay="1" ItemType="Push Button" Label="PUSH_BUTTON103" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" Width="551" CanvasName="UPD_TAGS_CV" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="513" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   IF :SYSTEM.CURSOR_ITEM = 'RM_TAGS_UPD.START_DATE' THEN&amp;#10;      GO_ITEM('RM_TAGS_UPD.START_DATE');&amp;#10;      EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');&amp;#10;   ELSE&amp;#10;      GO_ITEM('RM_TAGS_UPD.START_DATE');&amp;#10;      EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');&amp;#10;   END IF; &amp;#10;END IF;&amp;#10;END;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="OK" YPosition="1799" XPosition="1547" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray" FontWeight="Bold" Label="אישור" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" Width="1475" CanvasName="UPD_TAGS_CV" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="623" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;  v_alert varchar2(200);&amp;#10;&#x9;V_BOOL BOOLEAN:=TRUE;&amp;#10;&#x9;v_al number;&amp;#10;begin&amp;#10;&#x9;VALIDATE(1);&amp;#10;  IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;IF :system.record_status  = 'CHANGED' &amp;#10;     OR :system.record_status  = 'INSERT' &amp;#10;     OR :system.record_status  = 'NEW' THEN&amp;#10;    &amp;#10;     &#x9; RM_TAGS_UPD_PKG.save_rec;&amp;#10;&#x9;&#x9;   v_al:=display_comment('APP',444,null,'תגית שויכה בהצלחה',null,null);&amp;#10;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&amp;#10;    ELSE&amp;#10;     &#x9;RM_TAGS_UPD_PKG.close_win;&amp;#10;    END IF;&amp;#10;   &amp;#10;  ELSE&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;  END IF;&amp;#10;   &amp;#10;   &amp;#10;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT" YPosition="1800" XPosition="3080" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray" FontWeight="Bold" Label="יציאה" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" Width="1523" CanvasName="UPD_TAGS_CV" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="623" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;  v_alert NUMBER;&amp;#10;BEGIN&amp;#10;  IF :system.record_status  = 'CHANGED' &amp;#10;      OR :system.record_status  = 'INSERT' THEN&amp;#10;       v_alert := DISPLAY_COMMENT('APP',1,NULL,NULL,NULL,NULL); --save or no&amp;#10;         IF (v_alert = ALERT_BUTTON1) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     RM_TAGS_UPD_PKG.save_rec; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;        ELSe IF (v_alert = ALERT_BUTTON2) THEN --no save changes by user&amp;#10;       &#x9;&#x9; RM_TAGS_UPD_PKG.close_win;&amp;#10;        ELSe IF (v_alert = ALERT_BUTTON3) THEN --cancel&amp;#10;            RAISE FORM_TRIGGER_FAILURE;&amp;#10;        END IF; &amp;#10;  &#x9;&#x9;&#x9;END IF;   &amp;#10;  &#x9;&#x9;&#x9;end if;&amp;#10;        ELSE --:system.record_status no change&amp;#10;     &#x9; RM_TAGS_UPD_PKG.close_win;&amp;#10;    END IF;&amp;#10;END;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="TAG_SEQ" MaximumLength="40" Enabled="false" YPosition="1221" XPosition="2910" Justification="Right" DistanceBetweenRecords="2380" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="1085" CanvasName="" PromptFontName="Arial" Height="524" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" Prompt="קוד:" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" ColumnName="TAG_SEQ" PromptAttachmentOffset="185" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STAMP_ACTION" MaximumLength="1" Prompt="Stamp Action" TabPageName="" DirtyInfo="true" Width="476" ColumnName="STAMP_ACTION" CanvasName="" DataLengthSemantics="CHAR" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_USER" MaximumLength="100" Prompt="Stamp User" TabPageName="" DirtyInfo="true" Width="14526" ColumnName="STAMP_USER" CanvasName="" DataLengthSemantics="CHAR" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_DATE" MaximumLength="10" Prompt="Stamp Date" TabPageName="" DirtyInfo="true" Width="2619" ColumnName="STAMP_DATE" CanvasName="" DataType="Date" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_CDATE" MaximumLength="10" Prompt="Stamp Cdate" TabPageName="" DirtyInfo="true" Width="2619" ColumnName="STAMP_CDATE" CanvasName="" DataType="Date" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="TAG_CODE" MaximumLength="40" YPosition="2038" XPosition="2910" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="2380" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="1085" CanvasName="" PromptFontName="Arial" Height="524" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" Prompt="משוייך לתגית:" TabPageName="" PromptDisplayStyle="All Records" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" ColumnName="TAG_CODE" PromptAttachmentOffset="185" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;&#x9;v_alert NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF :RM_TAGS_UPD.TAG_CODE IS NOT NULL THEN&amp;#10;&#x9;&#x9;select TAG_DESC&amp;#10;&#x9;&#x9;into :RM_TAGS_UPD.TAG_DESC&amp;#10;&#x9;&#x9;from RM_TAGS_CODES&amp;#10;&#x9;&#x9;where TAG_CODE = :RM_TAGS_UPD.TAG_CODE;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:RM_TAGS_UPD.TAG_DESC:=NULL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;:RM_TAGS_UPD.TAG_DESC:=NULL;&amp;#10;&#x9;&#x9;v_alert:=DISPLAY_COMMENT('APP',444,NULL,'תגית לא קיימת',NULL,NULL);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;&#x9;" DirtyInfo="true"/>
         </Item>
         <Item Name="WATER_ID" MaximumLength="15" Enabled="true" YPosition="4729" XPosition="2643" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="2380" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="3284" CanvasName="" DataLengthSemantics="CHAR" PromptFontName="Arial" Height="524" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="זיהוי מים:" TabPageName="" PromptDisplayStyle="All Records" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" ColumnName="WATER_ID" PromptAttachmentOffset="185" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="0" Visible="false" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;&#x9;v_check&#x9;number;&amp;#10;&#x9;v_alert&#x9;number;&amp;#10;BEGIN&amp;#10;&#x9;IF :RM_TAGS_UPD.WATER_ID IS NOT NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT 1&amp;#10;&#x9;&#x9;&#x9;INTO v_check&amp;#10;&#x9;&#x9;&#x9;FROM wt_net&amp;#10;&#x9;&#x9;&#x9;WHERE water_id = :RM_TAGS_UPD.WATER_ID;&amp;#10;&#x9;&#x9;EXCEPTION WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;v_alert&#x9;:= display_comment('APP',444,null,'זיהוי לא קיים',null,null);&amp;#10;&#x9;&#x9;&#x9;&#x9;:RM_TAGS_UPD.WATER_ID := null;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="TAG_DESC" MaximumLength="100" YPosition="2038" XPosition="4131" Justification="Right" LowestAllowedValue="0" Bevel="None" DatabaseItem="false" DirtyInfo="true" Width="5211" CanvasName="" PromptFontName="Arial" HighestAllowedValue="9999" Height="524" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה קוד" DataType="Char" ItemType="Display Item" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Start" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="TAG_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="TAG_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="CLIENT_ID" DSCNochildren="false" DSCLength="20" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CLIENT_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CONTRACT_ACC_NUM" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="OBJ_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCNochildren="false" DSCLength="15" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="CHAR" DSCName="STAMP_ACTION" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCNochildren="false" DSCLength="100" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <Trigger Name="PRE-INSERT" TriggerText=":RM_TAGS_UPD.stamp_action := 'I';&amp;#10;:RM_TAGS_UPD.stamp_user   := :global.user_name;&amp;#10;:RM_TAGS_UPD.stamp_cdate  := sysdate;&amp;#10;:RM_TAGS_UPD.stamp_date   := sysdate;" DirtyInfo="true"/>
      </Block>
      <Block Name="T_DEBUG" SubclassObjectGroup="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG">
         <Item Name="T_IS_TRACE_ON" SubclassSubObject="true">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_IS_ADD_TIME" SubclassSubObject="true">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_IS_DEBUG_ON" SubclassSubObject="true">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_IS_DBA_TRACE" SubclassSubObject="true">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_BLOCK_LIST" SubclassSubObject="true">
            <ListItemElement Index="1" Name="LIST5" Value="LIST5"/>
            <Trigger Name="WHEN-LIST-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_BLOCK_STATUS" SubclassSubObject="true"/>
         <Item Name="T_BLOCK_DATA_SOURCE" SubclassSubObject="true"/>
         <Item Name="T_ITEM_LIST" SubclassSubObject="true">
            <ListItemElement Index="1" Name="LIST68" Value="LIST68"/>
            <Trigger Name="WHEN-LIST-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_ITEM_VALUE" SubclassSubObject="true"/>
         <Item Name="T_ITEM_HINT_TEXT" SubclassSubObject="true"/>
         <Item Name="T_ITEM_COLUMN_NAME" SubclassSubObject="true"/>
         <Item Name="L_ITEM_DATABASE_VALUE" SubclassSubObject="true"/>
         <Item Name="L_ITEM_DATATYPE" SubclassSubObject="true"/>
         <Item Name="L_ITEM_DISPLAYED" SubclassSubObject="true"/>
         <Item Name="L_ITEM_ENABLED" SubclassSubObject="true"/>
         <Item Name="L_ITEM_FORMAT_MASK" SubclassSubObject="true"/>
         <Item Name="L_ITEM_PROMPT_TEXT" SubclassSubObject="true"/>
         <Item Name="L_ITEM_ICON" SubclassSubObject="true"/>
         <Item Name="L_ITEM_REQUIRED" SubclassSubObject="true"/>
         <Item Name="L_ITEM_MAX_LENGTH" SubclassSubObject="true"/>
         <Item Name="CURRENT_BLOCK" SubclassSubObject="true"/>
         <Item Name="CURRENT_ITEM" SubclassSubObject="true"/>
         <Item Name="T_CHANGE" SubclassSubObject="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="T_EXIT" SubclassSubObject="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SESSION_TRACE_FILE" SubclassSubObject="true"/>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="PRE-BLOCK" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="ON-ERROR" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="HELP_BLK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS">
         <Item Name="PREV_ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="HLP_ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="DONE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="HLP_NOTE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="HELP_STATUS" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="HLP_MODULE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="HLP_BLOCK" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="WT_WORK_COMMAND_BLK" DirtyInfo="true" ScrollbarWidth="476" ScrollbarLength="4763">
         <Item Name="WATER_ID" YPosition="1613" XPosition="2434" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="זיהוי מים" TabPageName="" DirtyInfo="true" PromptAttachmentOffset="449" Width="3149" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29"/>
         <Item Name="GAUGE_ID" MaximumLength="16" YPosition="1613" XPosition="7830" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="מס' מד" TabPageName="" DirtyInfo="true" PromptAttachmentOffset="421" Width="2381" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29"/>
         <Item Name="FISCAL_YEAR" YPosition="2792" XPosition="2434" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUM_INT_COLOR_PC" Prompt="שנת&amp;#10;קריאה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="2381" PromptAttachmentOffset="793" PromptAlign="Center" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial"/>
         <Item Name="PERIOD_NUM" YPosition="2725" XPosition="7830" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUM_INT_COLOR_PC" Prompt="תקופת &amp;#10;קריאה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="2381" PromptAttachmentOffset="395" PromptAlign="Center" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial"/>
         <Item Name="COMMAND_TYPE" YPosition="4204" XPosition="2399" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_CODE_4INT_PC" Prompt="סוג פקודה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="1058" PromptAttachmentOffset="185" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" LovName="LOV_SUB_COMMANDS_TYPE" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;  v_alert NUMBER;&amp;#10;  a       NUMBER;&amp;#10;&#x9;v_value WT_COMMAND_SUB_TYPES.COMMAND_SUB_TYPE%type;&amp;#10;&#x9;v_comment_for_user VARCHAR2(200);&amp;#10;&#x9;v_message          VARCHAR(4000);&amp;#10;BEGIN&amp;#10;&#x9;begin&amp;#10;&#x9;:wt_work_command_blk.COMMAND_TYPE_desc:=null;&amp;#10;  IF :wt_work_command_blk.COMMAND_TYPE IS NOT NULL THEN&amp;#10;  /*&#x9;IF :WT_WORK_COMMAND_BLK.SUB_COMMAND_DESC IS NOT NULL THEN&amp;#10;  &#x9;&#x9;:WT_WORK_COMMAND_BLK.SUB_COMMAND_DESC:=NULL;&amp;#10;  &#x9;END IF;*/&amp;#10;  &#x9;&amp;#10;     :wt_work_command_blk.COMMAND_TYPE_DESC:=get_desc_pkg.GET_CODE_DESC(113, :wt_work_command_blk.COMMAND_TYPE); &amp;#10;&#x9;   IF :wt_work_command_blk.SUB_COMMAND_TYPE IS NOT NULL THEN&amp;#10;&#x9;   BEGIN&#x9;&amp;#10;&#x9;      select COMMAND_SUB_TYPE_DESC&amp;#10;        into   :wt_work_command_blk.SUB_COMMAND_DESC&amp;#10;&#x9;      from   WT_COMMAND_SUB_TYPES&amp;#10;&#x9;      where  COMMAND_TYPE = :wt_work_command_blk.COMMAND_TYPE&amp;#10;&#x9;        and  COMMAND_SUB_TYPE = :wt_work_command_blk.SUB_COMMAND_TYPE&amp;#10;&#x9;        and  STAMP_ACTION!='D';&amp;#10;&#x9;   EXCEPTION&amp;#10;&#x9;   &#x9;  when NO_DATA_FOUND then&amp;#10;&#x9;   &#x9;       :wt_work_command_blk.SUB_COMMAND_TYPE:=null;&amp;#10;&#x9;   &#x9;       :wt_work_command_blk.SUB_COMMAND_DESC:=null;&amp;#10;&#x9;   END;&amp;#10;&#x9;   END IF;&amp;#10;  ELSE&amp;#10;     :wt_work_command_blk.SUB_COMMAND_TYPE:=null;&amp;#10;&#x9;   :wt_work_command_blk.SUB_COMMAND_DESC:=null;&#x9; &amp;#10;  END IF;&amp;#10;  &amp;#10;&#x9;&amp;#10;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;  when NO_DATA_FOUND THEN&amp;#10;        v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL, NULL ,NULL);&amp;#10;        :wt_work_command_blk.COMMAND_TYPE:=null;&amp;#10;&#x9;      :wt_work_command_blk.COMMAND_TYPE_DESC:=null;&amp;#10;&#x9;     RAISE FORM_TRIGGER_FAILURE;&amp;#10;end;&amp;#10;&amp;#10;begin&#x9;&amp;#10;v_alert:= WT_WORK_PKG.VALIDATE_COMMAND_TYPE &amp;#10;            (P_WATER_ID                  =>  :WT_WORK_COMMAND_BLK.water_id,&amp;#10;             P_UPD_GAUGE_ID              =>  :WT_WORK_COMMAND_BLK.gauge_id,          &amp;#10;             P_COMMAND_TYPE              =>  :WT_WORK_COMMAND_BLK.COMMAND_TYPE,&amp;#10;             P_COMMAND_SUB_TYPE          =>  :WT_WORK_COMMAND_BLK.SUB_COMMAND_TYPE,                                                          &amp;#10;             P_COMMENTS_MANUAL_CHANGED   => :parameter.comments_manual_changed,&amp;#10;             P_COMMAND_TYPE_DESC         =>  :WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC,&amp;#10;             --P_COMMAND_SUB_TYPE_DESC     =>  :WT_WORK_COMMANDS_ADD_BLK.COMMAND_SUB_TYPE_DESC,&amp;#10;             P_WORK_COMMAND_COMMENT      =>  :WT_WORK_COMMAND_BLK.WORK_COMMAND_COMMENT ,&amp;#10;             P_MESSAGE                   =>  V_MESSAGE    &amp;#10;            );&amp;#10;            &amp;#10;            insert_debug('chani_l_120_v_alert'||v_alert);&amp;#10;            &amp;#10;             IF V_ALERT > 0 THEN            &amp;#10;       v_alert:= display_comment('APP',v_alert,null,null,null,null);&amp;#10;      :WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC := null;&amp;#10;      :WT_WORK_COMMAND_BLK.COMMAND_TYPE := null;                                            &amp;#10;   END IF;&amp;#10;   IF V_ALERT = -1 THEN            &amp;#10;       v_alert:= display_comment('APP',444,null,V_MESSAGE,null,null);&amp;#10;      :WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC := null;&amp;#10;      :WT_WORK_COMMAND_BLK.COMMAND_TYPE := null;                                              &amp;#10;   END IF;&amp;#10;EXCEPTION      &amp;#10;   WHEN OTHERS THEN&amp;#10;   insert_debug('chani_wt_readings:'||:parameter.comments_manual_changed);&amp;#10;       v_alert:= display_comment('APP',444,null,SQLERRM,null,null);&amp;#10;       :WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC := null;&amp;#10;       :WT_WORK_COMMAND_BLK.COMMAND_TYPE := null;                              &amp;#10;       RAISE FORM_TRIGGER_FAILURE; &amp;#10;       end;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="SUB_COMMAND_TYPE_BUT" Enabled="true" YPosition="5183" TabPageName="" XPosition="3574" DirtyInfo="true" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_COMMAND_SUB_TYPE_FILTER');&amp;#10;   END IF;&amp;#10;   Go_Item('WT_WORK_COMMAND_BLK.SUB_COMMAND_TYPE');&amp;#10;   Execute_Trigger('When-Validate-Item');&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="DIAMETER_BUT" Enabled="true" YPosition="6162" TabPageName="" XPosition="3574" DirtyInfo="true" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_DIAMETER');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="COMMAND_TYPE_DESC" YPosition="4204" TabPageName="" XPosition="4268" DirtyInfo="true" Width="5052" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR"/>
         <Item Name="SUB_COMMAND_TYPE" Enabled="true" YPosition="5183" XPosition="2408" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_CODE_4INT_PC" Prompt="תת סוג &amp;#10;פקודה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="1064" PromptAttachmentOffset="512" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" LovName="LOV_SUB_COMMANDS_TYPE" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;  v_alert NUMBER;&amp;#10;  v_operation_Type NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF :wt_work_command_blk.SUB_COMMAND_TYPE IS NOT NULL THEN&amp;#10;&#x9;   select COMMAND_TYPE, COMMAND_SUB_TYPE_DESC, NvL(OPERATION, -1)&amp;#10;&#x9;   into   :wt_work_command_blk.COMMAND_TYPE  ,&amp;#10;&#x9;          :wt_work_command_blk.SUB_COMMAND_DESC,&amp;#10;&#x9;          v_operation_Type&amp;#10;&#x9;   from   WT_COMMAND_SUB_TYPES&amp;#10;&#x9;   where  ((COMMAND_TYPE = :wt_work_command_blk.COMMAND_TYPE and :wt_work_command_blk.COMMAND_TYPE is not null)&amp;#10;&#x9;            OR :wt_work_command_blk.COMMAND_TYPE is null)&amp;#10;&#x9;     and  COMMAND_SUB_TYPE = :wt_work_command_blk.SUB_COMMAND_TYPE&amp;#10;&#x9;     and  opening_everywhere_yn = 'Y'&amp;#10;&#x9;     and  STAMP_ACTION!='D';&amp;#10;&#x9;     &amp;#10;&#x9;   :wt_work_command_blk.COMMAND_TYPE_DESC:=get_desc_pkg.GET_CODE_DESC(113, :wt_work_command_blk.COMMAND_TYPE);   &amp;#10;&#x9;   &amp;#10;&#x9;   :WT_WORK_COMMAND_BLK.DIAMETER_CODE:=NULL;&amp;#10;&#x9;   :WT_WORK_COMMAND_BLK.DIAMETER_DESC:=NULL;&amp;#10;&#x9;   :WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE:=NULL;&amp;#10;&#x9;   :WT_WORK_COMMAND_BLK.GAUGE_LETTER_DESC:=NULL;&amp;#10;&#x9;   :WT_WORK_COMMAND_BLK.GAUGE_LETTER_NAME:=NULL;&amp;#10;&#x9;   &amp;#10;&#x9;    &amp;#10;&#x9;   IF V_OPERATION_TYPE in (1, 2) THEN /* תקנה או החלפה */&amp;#10;&#x9;   &#x9;  Set_Item_Property('wt_work_command_blk.DIAMETER_CODE', VISUAL_ATTRIBUTE, 'VA_REQ_ITEM');&amp;#10;&#x9;   &#x9;  Set_Item_Property('wt_work_command_blk.GAUGE_LETTER_CODE', VISUAL_ATTRIBUTE, 'VA_REQ_ITEM');&amp;#10;&#x9;   &#x9;  Set_Item_Property('wt_work_command_blk.GAUGE_LETTER_NAME', VISUAL_ATTRIBUTE, 'VA_REQ_ITEM');&amp;#10;&#x9;   ELSE&amp;#10;&#x9;   &#x9;  Set_Item_Property('wt_work_command_blk.DIAMETER_CODE', VISUAL_ATTRIBUTE, 'VA_ITEM');&amp;#10;&#x9;   &#x9;  Set_Item_Property('wt_work_command_blk.GAUGE_LETTER_CODE', VISUAL_ATTRIBUTE, 'VA_ITEM');&amp;#10;&#x9;   &#x9;  Set_Item_Property('wt_work_command_blk.GAUGE_LETTER_NAME', VISUAL_ATTRIBUTE, 'VA_ITEM');&amp;#10;&#x9;   END IF;&#x9;&#x9;   &amp;#10;&#x9;    &amp;#10;&#x9;    /* בפקודת החלפה, אנחנו לוקחים נתוני קוטר מהמד הקיים */&amp;#10;&#x9;&#x9;  /* CRM 511567 */&#x9;&#x9; &amp;#10;&#x9;&#x9; IF V_OPERATION_TYPE = 1 THEN&amp;#10;&#x9;&#x9; BEGIN&#x9;&amp;#10;&#x9;&#x9;     :WT_WORK_COMMAND_BLK.DIAMETER_CODE:=WT_WORK_PKG.F_GET_DIAMETER (InWater_Id=> :WT_WORK_COMMAND_BLK.Water_Id);&amp;#10;&#x9;&#x9;     &amp;#10;&#x9;&#x9;     &amp;#10;&#x9;&#x9;     /*:WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE:=WT_WORK_PKG.F_GET_AUTO_LETTER &amp;#10;&#x9;&#x9;                           (InCommand_Type      => :wt_work_command_blk.COMMAND_TYPE,&amp;#10;                                InCommand_Sub_Type  => :wt_work_command_blk.SUB_COMMAND_TYPE, &amp;#10;                                InNewDiameter       => :WT_WORK_COMMAND_BLK.DIAMETER_CODE&amp;#10;                               );*/&amp;#10;         VALIDATE_NEW_DIAMETER;                                 &amp;#10;&#x9;&#x9; EXCEPTION&amp;#10;&#x9;&#x9;     when OTHERS then&amp;#10;&#x9;&#x9;    &#x9;     :WT_WORK_COMMAND_BLK.DIAMETER_CODE:=NULL;&amp;#10;&#x9;&#x9;    &#x9;     :WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE:=NULL;&amp;#10;&#x9;&#x9;    &#x9;     &amp;#10;&#x9;&#x9; END; &amp;#10;&#x9;&#x9; EnD IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;  when NO_DATA_FOUND THEN&amp;#10;        v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL, NULL ,NULL);&amp;#10;        :wt_work_command_blk.SUB_COMMAND_TYPE:=null;&amp;#10;&#x9;      :wt_work_command_blk.SUB_COMMAND_DESC:=null;&amp;#10;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9; when TOO_MANY_ROWS THEN&amp;#10;&#x9;      v_alert := DISPLAY_COMMENT('APP',1092,NULL,NULL, NULL ,NULL);&amp;#10;&#x9;      :wt_work_command_blk.SUB_COMMAND_DESC:=null;&amp;#10;&#x9;      :wt_work_command_blk.COMMAND_TYPE_DESC:=null;&amp;#10;&#x9;      :wt_work_command_blk.COMMAND_TYPE:=null;&amp;#10;&#x9;       RAISE FORM_TRIGGER_FAILURE;&#x9; &amp;#10;&#x9;       &amp;#10;&#x9;       &amp;#10;&#x9;    &amp;#10;&#x9;    &amp;#10;             /*&amp;#10;               &amp;#10;&#x9;       &amp;#10;&#x9;       IF :WT_WORK_COMMAND_BLK.COMMAND_TYPE IS NOT NULL  &amp;#10;      AND :WT_WORK_COMMAND_BLK.SUB_COMMAND_TYPE IS NOT NULL THEN &amp;#10;      &amp;#10;        v_alert:= WT_WORK_PKG.VALIDATE_COMM_SUB_TYPE &amp;#10;                                 (P_WATER_ID               =>   :WT_WORK_COMMAND_BLK.water_id,&amp;#10;                                  P_GAUGE_SEQ               =>  :WT_WORK_COMMAND_BLK.GAUGE_SEQ,&amp;#10;                                  P_COMMENTS_MANUAL_CHANGED  => :parameter.COMMENTS_MANUAL_CHANGED,&amp;#10;                                  P_COMMAND_TYPE           =>   :WT_WORK_COMMAND_BLK.COMMAND_TYPE,&amp;#10;                                  P_COMMAND_SUB_TYPE       =>   :WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC,&amp;#10;                                  P_COMMAND_SUB_TYPE_DESC   => - :WT_WORK_COMMANDS_ADD_BLK.COMMAND_SUB_TYPE_DESC,                                  &amp;#10;                                  P_OPERATION_TYPE          =>  :WT_WORK_COMMANDS_ADD_BLK.OPERATION_TYPE ,&amp;#10;                                  P_NEW_DIAMETER_CODE       =>  :WT_WORK_COMMANDS_ADD_BLK.NEW_DIAMETER_CODE,&amp;#10;                                  P_NEW_DIAMETER_DESC       =>  :WT_WORK_COMMANDS_ADD_BLK.NEW_DIAMETER_DESC,&amp;#10;                                  P_NEW_GAUGE_LETTER_CODE   =>  :WT_WORK_COMMANDS_ADD_BLK.NEW_GAUGE_LETTER_CODE,&amp;#10;                                  P_GAUGE_LETTER_NAME       =>  :WT_WORK_COMMANDS_ADD_BLK.NEW_GAUGE_LETTER_NAME,   &amp;#10;                                  P_GAUGE_LETTER_DESC       =>  :WT_WORK_COMMANDS_ADD_BLK.NEW_GAUGE_LETTER_DESC,                                                            &amp;#10;                                  P_WORK_COMMAND_COMMENT   =>  :WT_WORK_COMMANDS_ADD_BLK.WORK_COMMAND_COMMENT,   &amp;#10;                                  P_REQ_YN                  =>  V_REQ_YN,&amp;#10;                                  P_MESSAGE                 =>  V_MESSAGE&amp;#10;                                 );&amp;#10;&#x9;&#x9;    IF V_ALERT > 0 THEN&#x9;&#x9;    &amp;#10;&#x9;&#x9;    &#x9;  v_alert:= display_comment('APP',V_ALERT,null,V_MESSAGE,null,null);&amp;#10;           :WT_WORK_COMMANDS_ADD_BLK.COMMAND_SUB_TYPE_DESC := null;&amp;#10;           :WT_WORK_COMMANDS_ADD_BLK.COMMAND_SUB_TYPE := null;                                              &amp;#10;           RAISE FORM_TRIGGER_FAILURE;&amp;#10;        END IF; &amp;#10;&#x9;&#x9;    IF V_ALERT &lt; 0 THEN&amp;#10;&#x9;&#x9;    &#x9;  v_alert:= display_comment('APP',444,null,V_MESSAGE,null,null);&amp;#10;           :WT_WORK_COMMANDS_ADD_BLK.COMMAND_SUB_TYPE_DESC := null;&amp;#10;           :WT_WORK_COMMANDS_ADD_BLK.COMMAND_SUB_TYPE := null;                                              &amp;#10;           RAISE FORM_TRIGGER_FAILURE;&amp;#10;        END IF;   */   &amp;#10;END;&#x9;     &#x9;&#x9;" DirtyInfo="true"/>
         </Item>
         <Item Name="COMMAND_BUT" YPosition="4191" TabPageName="" XPosition="3559" DirtyInfo="true" Width="573" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;   &#x9; if :WT_WORK_COMMAND_BLK.gauge_id is not null then &amp;#10;      v_lov := SHOW_LOV('LOV_COMMAND_TYPE_FILTER');&amp;#10;   &#x9; else&amp;#10;   &#x9; &#x9;v_lov := show_lov('LOV_COMMANDS_TYPE');&amp;#10;   END IF;&amp;#10;   Go_Item('WT_WORK_COMMAND_BLK.COMMAND_TYPE');&amp;#10;   Execute_Trigger('When-Validate-Item');&amp;#10;   END IF;&amp;#10;END;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="SUB_COMMAND_DESC" MaximumLength="150" YPosition="5183" XPosition="4287" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" TabPageName="" DirtyInfo="true" Width="5028" CanvasName="WT_WORK_COMMANDS_CV" LovName="LOV_SUB_COMMANDS_TYPE" ParentType="29"/>
         <Item Name="DIAMETER_CODE" YPosition="6162" XPosition="2434" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_CODE_4INT_PC" Prompt="קוטר חדש" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="1064" PromptAttachmentOffset="194" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="/*declare&amp;#10;  v_alert NUMBER;&amp;#10;  v_letter_Code NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF :wt_work_command_blk.DIAMETER_CODE IS NOT NULL THEN&amp;#10;&#x9;   :wt_work_command_blk.DIAMETER_DESC:=get_desc_pkg.GET_CODE_DESC(4486, :wt_work_command_blk.DIAMETER_CODE);   &#x9;  &amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  v_letter_code:=WT_WORK_PKG.F_GET_AUTO_LETTER &amp;#10;&#x9;&#x9;                           (InCommand_Type      => :wt_work_command_blk.COMMAND_TYPE,&amp;#10;                                InCommand_Sub_Type  => :wt_work_command_blk.SUB_COMMAND_TYPE, &amp;#10;                                InNewDiameter       => :WT_WORK_COMMAND_BLK.DIAMETER_CODE&amp;#10;                               );&amp;#10;&#x9;  &amp;#10;&#x9;  select GAUGE_LETTER_CODE, GAUGE_LETTER_NAME, GAUGE_LETTER_DESC&amp;#10;&#x9;  into   :wt_work_command_blk.GAUGE_LETTER_CODE,&amp;#10;&#x9;         :wt_work_command_blk.GAUGE_LETTER_NAME,&amp;#10;&#x9;         :wt_work_command_blk.GAUGE_LETTER_DESC&amp;#10;&#x9;  FROM   WT_GAUGE_LETTER_CODES&amp;#10;&#x9;  where  GAUGE_LETTER_CODE = v_letter_code;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;when OTHERS then&amp;#10;&#x9;&#x9;     NULL;&amp;#10;  END;&amp;#10;&#x9;  &amp;#10;EXCEPTION&amp;#10;  when NO_DATA_FOUND THEN&amp;#10;        v_alert := DISPLAY_COMMENT('APP',155,NULL, NULL, NULL, NULL);&amp;#10;        :wt_work_command_blk.DIAMETER_CODE:=null;&amp;#10;&#x9;      :wt_work_command_blk.DIAMETER_DESC:=null;&amp;#10;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;*/&amp;#10;VALIDATE_NEW_DIAMETER;&#x9;" DirtyInfo="true"/>
         </Item>
         <Item Name="DIAMETER_DESC" YPosition="6162" TabPageName="" XPosition="4287" DirtyInfo="true" Width="5028" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR"/>
         <Item Name="GAUGE_LETTER_DESC" YPosition="7141" TabPageName="" XPosition="4275" DirtyInfo="true" Width="5028" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR"/>
         <Item Name="LOV_GAUGE_LETTER" Enabled="true" YPosition="7141" TabPageName="" XPosition="3563" DirtyInfo="true" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_GAUGE_LETTERS');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_LETTER_CODE" YPosition="8120" XPosition="10095" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_CODE_4INT_PC" Prompt="אות" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="1064" PromptAttachmentOffset="266" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29" Visible="false" PromptFontStyle="Plain" PromptFontName="Arial">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;  v_alert NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF :wt_work_command_blk.DIAMETER_CODE IS NOT NULL THEN&amp;#10;&#x9;   :wt_work_command_blk.DIAMETER_DESC:=get_desc_pkg.GET_CODE_DESC(4486, :wt_work_command_blk.DIAMETER_CODE);   &#x9;  &amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;  when NO_DATA_FOUND THEN&amp;#10;        v_alert := DISPLAY_COMMENT('APP',155,NULL, NULL, NULL, NULL);&amp;#10;        :wt_work_command_blk.DIAMETER_CODE:=null;&amp;#10;&#x9;      :wt_work_command_blk.DIAMETER_DESC:=null;&amp;#10;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;&#x9;" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_LETTER_NAME" YPosition="7130" XPosition="2436" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_TEXT_ITEM_HEB_PC" Prompt="אות" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentOffset="1188" Width="1064" PromptFontWeight="Medium" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;&#x9;v_alert NUMBER;&amp;#10;BEGIN&amp;#10;IF :system.record_status != 'QUERY' THEN&amp;#10;&#x9;IF :WT_WORK_COMMAND_BLK.GAUGE_LETTER_NAME IS NOT NULL  THEN&amp;#10;&#x9;  BEGIN&#x9;&amp;#10;&#x9;&#x9;  select GAUGE_LETTER_CODE,GAUGE_LETTER_DESC&amp;#10;&#x9;&#x9; &#x9;  into :WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE, &amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9; :WT_WORK_COMMAND_BLK.GAUGE_LETTER_DESC      &amp;#10;&#x9;&#x9;&#x9;&#x9;from WT_GAUGE_LETTER_CODEs&amp;#10;&#x9;&#x9;&#x9;&#x9;where stamp_action &lt;> 'D'&amp;#10;&#x9;&#x9;  &#x9;and GAUGE_LETTER_NAME = :WT_WORK_COMMAND_BLK.GAUGE_LETTER_NAME;&amp;#10;&#x9;  EXCEPTION WHEN OTHERS THEN&amp;#10;&#x9;  &#x9;  :WT_WORK_COMMAND_BLK.GAUGE_LETTER_NAME := null;&amp;#10;&#x9;  &#x9;  :WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE := null;&amp;#10;&#x9;  &#x9;  :WT_WORK_COMMAND_BLK.GAUGE_LETTER_DESC := null;&amp;#10;&#x9;      v_alert:= display_comment('APP',155,null,null,null,null); &amp;#10;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;   END;&amp;#10;&#x9;ELSE&amp;#10;&#x9;  &#x9;  :WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE := null;&amp;#10;&#x9;  &#x9;  :WT_WORK_COMMAND_BLK.GAUGE_LETTER_DESC := null;&amp;#10;&#x9;  &#x9;  :WT_WORK_COMMAND_BLK.GAUGE_LETTER_NAME := null;&amp;#10;&#x9;END IF;&amp;#10;END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="WORK_COMMAND_COMMENT" MaximumLength="200" YPosition="8146" XPosition="2302" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_TEXT_ITEM_HEB_PC" Prompt="הערה" TabPageName="" DirtyInfo="true" DatabaseItem="true" PromptAttachmentOffset="777" Width="6614" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29" Height="485">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="--if :WT_WORK_COMMAND_BLK.WORK_COMMAND_COMMENT is not null then&amp;#10;&#x9;:parameter.comments_manual_changed := 1;&amp;#10;--end if;" DirtyInfo="true"/>
         </Item>
         <Item Name="SAVE" YPosition="8993" TabPageName="" XPosition="529" DirtyInfo="true" KeyboardNavigable="true" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" MouseNavigate="true" ParentName="BUTTON_SAVE_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;&#x9;v_status NUMBER;&amp;#10;&#x9;v_mess   VARCHAR2(500); &amp;#10;&#x9;V_ALERT number;&amp;#10;&#x9;MANDATORY_EXP EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9; Validate(Block_Scope);&amp;#10;&#x9; IF NOT FORM_SUCCESS THEN &amp;#10;&#x9; &#x9;  raise FORM_TRIGGER_FAILURE;&amp;#10;&#x9; ELSE&#x9;&amp;#10;&#x9; &#x9; IF  :wt_work_command_blk.command_Type     is not null&amp;#10;&#x9;  -- AND HODAYA 11.03.13&amp;#10;&#x9;  OR :wt_work_command_blk.sub_command_type is not null&amp;#10;&#x9; --AND :wt_work_command_blk.diameter_code    is not null &amp;#10;&#x9;   THEN&amp;#10;&#x9;  --message('wt_readings');  message('wt_readings');&amp;#10;&#x9;       IF GET_ITEM_PROPERTY('WT_WORK_COMMAND_BLK.DIAMETER_CODE', VISUAL_ATTRIBUTE) =  'VA_REQ_ITEM' THEN&amp;#10;&#x9;       &#x9;  IF :wt_work_command_blk.diameter_code IS NULL THEN&amp;#10;&#x9;       &#x9;  &#x9; v_alert:=DISPLAY_COMMENT('APP', 892, null, 'קוטר', null, null);&amp;#10;               raise &#x9;MANDATORY_EXP; &amp;#10;&#x9;       &#x9;  END IF;&amp;#10;&#x9;       END IF;&amp;#10;&#x9;       -------&amp;#10;&#x9;       IF GET_ITEM_PROPERTY('WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE', VISUAL_ATTRIBUTE) =  'VA_REQ_ITEM' THEN&amp;#10;&#x9;       &#x9;  IF :wt_work_command_blk.gauge_letter_code IS NULL THEN&amp;#10;&#x9;       &#x9;  &#x9; v_alert:=DISPLAY_COMMENT('APP', 892, null, 'אות', null, null);&amp;#10;               raise &#x9;MANDATORY_EXP; &amp;#10;&#x9;       &#x9;  END IF;&amp;#10;&#x9;       END IF;&amp;#10;&#x9;      &amp;#10;&#x9;       wt_work_pkg.create_new_work_command&amp;#10;        (&amp;#10;           InGauge_Seq        => :wt_Readings_blk.gauge_seq,&amp;#10;           InWater_Id         => :wt_work_command_blk.water_id,--tzvia change in 07/2015 :wt_Readings_blk.water_id,&amp;#10;           inFiscal_Year      => :wt_work_command_blk.fiscal_year,--tzvia add 10/2015&amp;#10;           inPeriod_num       => :wt_work_command_blk.period_num, --tzvia add 10/2015&amp;#10;           InCommand_Type     => :wt_work_command_blk.command_Type,&amp;#10;           InCommand_Sub_Type => :wt_work_command_blk.sub_command_type,&amp;#10;           InStamp_User       => :global.user_name,&amp;#10;           InComplaint_Source => 12,&amp;#10;           InLogitSeq         => :wt_Readings_blk.logit_seq,&amp;#10;           InNewDiameter       => :wt_work_command_blk.diameter_code,&amp;#10;           InWorkCommandComment=>:wt_work_command_blk.Work_Command_Comment,--.TEXT_ITEM536,&amp;#10;           Innew_gauge_letter_code => :wt_work_command_blk.gauge_letter_code,&amp;#10;           OutStatus          => v_status,&amp;#10;           OutErrMsg          => v_mess&amp;#10;         );&amp;#10;         IF nvl(v_status,-1)!=0 THEN     &amp;#10;            v_alert:=DISPLAY_COMMENT('APP', 444, null, v_mess, null, null);&amp;#10;            raise FORM_TRIGGER_FAILURE;&amp;#10;         ELSE&amp;#10;    &#x9;      &amp;#10;    &#x9;      fORMS_DDL('COMMIT');   &amp;#10;    &#x9;      v_alert:=DISPLAY_COMMENT('APP', 657, null, NULL, null, null); &#x9;      &amp;#10;         END IF;  &amp;#10;&#x9;   END IF;      &amp;#10;&#x9; END IF; &amp;#10;&#x9;&amp;#10;&#x9; HIDE_WINDOW('WT_WORK_COMMANDS_WIN');&amp;#10;   GO_BLOCK('wt_readings_blk');&amp;#10;   &#x9;:system.message_level:=10;&amp;#10;&#x9;  display_error;&amp;#10;&#x9;  :system.message_level:=0;&amp;#10;&#x9; &amp;#10;&#x9; exception &amp;#10;&#x9;     WHEN MANDATORY_EXP THEN&amp;#10;&#x9;       &#x9;  NULL;&amp;#10;&#x9; &#x9;   when others then &amp;#10;&#x9; &#x9;    &amp;#10;&#x9; &#x9;      -- message(sqlerrm||' sqlerrm ');&#x9;message(sqlerrm||' sqlerrm ');--p_681969&amp;#10;&#x9; &#x9;null;&amp;#10;END;       &amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="WORK_COMMANDS785" YPosition="9152" XPosition="5219" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="פקודות עבודה" TabPageName="" FontStyle="Plain" DirtyInfo="true" Width="3089" CanvasName="WT_WORK_COMMANDS_CV" ParentType="29">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="BEGIN&amp;#10;  &amp;#10;      :global.water_id:=:WT_WORK_COMMAND_BLK.water_id;&amp;#10;      CALL_FORM('WT_WORK_COMMANDS');&amp;#10;  &amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT" YPosition="9146" TabPageName="" XPosition="10372" DirtyInfo="true" ParentType="29" CanvasName="WT_WORK_COMMANDS_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_EXIT_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;  v_alert  NUMBER;&amp;#10;  v_status NUMBER;&amp;#10;  v_mess   VARCHAR2(1000);&amp;#10;  MANDATORY_EXP  EXCEPTION;&amp;#10;BEGIN&amp;#10; Validate(1);  &amp;#10;  IF FORM_SUCCESS THEN  &amp;#10;&#x9;&#x9;  IF  :wt_work_command_blk.command_Type     is not null&amp;#10;&#x9;&#x9;  OR  :wt_work_command_blk.sub_command_type is not null&amp;#10;&#x9;&#x9;&#x9;OR  :wt_work_command_blk.diameter_code    is not null &amp;#10;&#x9;&#x9;  THEN&amp;#10;&#x9;&#x9;      v_alert := DISPLAY_COMMENT('APP',1,NULL,NULL,NULL,NULL);&amp;#10;&#x9;&#x9;      IF (v_alert = ALERT_BUTTON1) THEN --save changes by user&amp;#10;&#x9;&#x9;              IF GET_ITEM_PROPERTY('WT_WORK_COMMAND_BLK.DIAMETER_CODE', VISUAL_ATTRIBUTE) =  'VA_REQ_ITEM' THEN&amp;#10;&#x9;       &#x9;           IF :wt_work_command_blk.diameter_code IS NULL THEN&amp;#10;&#x9;       &#x9;  &#x9;          v_alert:=DISPLAY_COMMENT('APP', 892, null, 'קוטר', null, null);&amp;#10;                        raise &#x9;MANDATORY_EXP; &amp;#10;&#x9;       &#x9;           END IF;&amp;#10;&#x9;                END IF;&amp;#10;&#x9;                -------&amp;#10;&#x9;                IF GET_ITEM_PROPERTY('WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE', VISUAL_ATTRIBUTE) =  'VA_REQ_ITEM' THEN&amp;#10;&#x9;       &#x9;          IF :wt_work_command_blk.gauge_letter_code IS NULL THEN&amp;#10;&#x9;       &#x9;  &#x9;          v_alert:=DISPLAY_COMMENT('APP', 892, null, 'אות', null, null);&amp;#10;                        raise &#x9;MANDATORY_EXP; &amp;#10;&#x9;       &#x9;          END IF;&amp;#10;&#x9;                END IF;&amp;#10;&#x9;&#x9;              &amp;#10;&#x9;&#x9;              &amp;#10;&#x9;&#x9;              wt_work_pkg.create_new_work_command&amp;#10;&#x9;&#x9;              (&amp;#10;&#x9;&#x9;                 InGauge_Seq        => :wt_Readings_blk.gauge_seq,&amp;#10;&#x9;&#x9;                 InWater_Id         => :wt_Readings_blk.water_id,&amp;#10;&#x9;&#x9;                 InCommand_Type     => :wt_work_command_blk.command_Type,&amp;#10;&#x9;&#x9;                 InCommand_Sub_Type => :wt_work_command_blk.sub_command_type,&amp;#10;&#x9;&#x9;                 InStamp_User       => :global.user_name,&amp;#10;&#x9;&#x9;                 InComplaint_Source => 12,&amp;#10;&#x9;&#x9;                 InLogitSeq         => :wt_Readings_blk.logit_seq,&amp;#10;&#x9;&#x9;                 InNewDiameter      => :wt_work_command_blk.diameter_code,&amp;#10;&#x9;&#x9;                 OutStatus          =>  v_status,&amp;#10;&#x9;&#x9;                 OutErrMsg          =>  v_mess&amp;#10;&#x9;&#x9;               );&amp;#10;&#x9;&#x9;               IF v_status!=0 THEN     &amp;#10;&#x9;&#x9;                  v_alert:=DISPLAY_COMMENT('APP', 444, null,v_mess, null, null);&amp;#10;&#x9;&#x9;                  raise FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;               ELSE&amp;#10;&#x9;&#x9;    &#x9;            v_alert:=DISPLAY_COMMENT('APP', 657, null, NULL, null, null);&amp;#10;&#x9;&#x9;    &#x9;            FORMS_DDL('COMMIT');&amp;#10;&#x9;&#x9;    &#x9;            HIDE_WINDOW('WT_WORK_COMMANDS_WIN');&amp;#10;&#x9;&#x9;                  GO_BLOCK('wt_readings_blk');&amp;#10;&#x9;&#x9;               END IF;  &amp;#10;&#x9;&#x9;      ELSIF (v_alert = ALERT_BUTTON2) THEN -- NO save changes by user&amp;#10;&#x9;&#x9;            HIDE_WINDOW('WT_WORK_COMMANDS_WIN');&amp;#10;&#x9;&#x9;            GO_BLOCK('wt_readings_blk');&amp;#10;&#x9;&#x9;      ELSIF (v_alert = ALERT_BUTTON3) THEN -- CANCEL&amp;#10;&#x9;&#x9;            null;&amp;#10;&#x9;&#x9;      END IF; &amp;#10;&#x9;&#x9;      ELSE--if :wt_work_command_blk.sub_command_type is not null then&amp;#10;&#x9;&#x9;      &amp;#10;&#x9;&#x9;     HIDE_WINDOW('WT_WORK_COMMANDS_WIN');&amp;#10;&#x9;&#x9;     GO_BLOCK('wt_readings_blk'); &#x9; &amp;#10;&#x9;&#x9;  END IF;&amp;#10; -- ELSE&amp;#10;  --&#x9; HIDE_WINDOW('WT_WORK_COMMANDS_WIN');&amp;#10;    -- GO_BLOCK('wt_readings_blk');&amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;   when MANDATORY_EXP THEN&amp;#10;        null;&#x9;&#x9;  &#x9; &amp;#10;  &amp;#10;end;" DirtyInfo="true"/>
         </Item>
         <Trigger Name="PRE-QUERY" TriggerText=":parameter.comments_manual_changed := 0;" DirtyInfo="true"/>
      </Block>
      <Block Name="WT_READINGS_UPD_BLK" DeleteAllowed="false" DirtyInfo="true" ScrollbarWidth="318" QueryDataSourceName="WT_READINGS" DMLDataName="WT_READINGS" ScrollbarLength="4763" LockMode="Delayed" UpdateChangedColumns="true" InsertAllowed="false" QueryDataSourceType="Table">
         <Item Name="READING_READY_YN" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="2381" ParentType="29" CanvasName="READING_UPD_CV" InitializeValue="Y" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="RADIO_PC">
            <RadioButton Name="YES" BackColor="metrogray" YPosition="4017" Label="לא" XPosition="10762" DirtyInfo="true" Width="953" Height="524" RadioButtonValue="Y"/>
            <RadioButton Name="NO" BackColor="metrogray" YPosition="4017" Label="כן" XPosition="9573" DirtyInfo="true" Width="953" Height="524" RadioButtonValue="N"/>
            <Trigger Name="WHEN-RADIO-CHANGED" TriggerText="if :WT_READINGS_UPD_BLK.READING_READY_YN ='Y'&#x9;then &amp;#10;&#x9;:WT_READINGS_BLK.READING_READY_YN :='Y';&amp;#10;elsif :WT_READINGS_UPD_BLK.READING_READY_YN ='N' then&amp;#10;&#x9;:WT_READINGS_BLK.READING_READY_YN:='N';&amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="OLD_READING" DirtyInfo="true" DatabaseItem="false" Width="2381" DataType="Number" Height="476"/>
         <Item Name="REGION_CODE" DirtyInfo="true" DatabaseItem="false" Width="2381" Height="476"/>
         <Item Name="GAUGE_ID" MaximumLength="16" YPosition="394" XPosition="1913" AutoHint="true" Prompt="מספר מד" TabPageName="" DirtyInfo="true" DatabaseItem="false" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptAttachmentOffset="0" Width="2801" PromptAlign="Center" PromptAlignOffset="-1" CanvasName="" Visible="false"/>
         <Item Name="DATE_READING" YPosition="3841" XPosition="5364" IconFilename="appts" Iconic="true" AutoHint="true" ItemsDisplay="1" ItemType="Push Button" BackColor="r75g75b75" FontWeight="Bold" Label="" TabPageName="" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" KeyboardNavigable="false" Width="661" FontSize="1600" FontName="Aharoni" Height="608" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   IF :SYSTEM.CURSOR_ITEM = 'WT_READINGS_UPD_BLK.DATE_READING' THEN &amp;#10;      GO_ITEM('wt_readings_upd_blk.reading_date_display');&amp;#10;      EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');&amp;#10;   ELSE&amp;#10;      GO_ITEM('wt_readings_upd_blk.reading_date_display');&amp;#10;      EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');      &amp;#10;   END IF; &amp;#10;END IF;&amp;#10;END;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="SAVE" YPosition="6973" XPosition="266" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SAVE_PC" Label="אישור" TabPageName="" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" CanvasName="READING_UPD_CV" ParentType="29" Height="764" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="declare&amp;#10;  v_comm number(1) := 0;&amp;#10;  v_log_num  NUMBER;&amp;#10;  v_alert    NUMBER;&amp;#10;  v_alert_text VARCHAR2(1000);&amp;#10;  v_log_text   VARCHAR2(1000);&amp;#10;  v_gauge_status_code number;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;&#x9;if :WT_READINGS_BLK.READING&lt;>:WT_READINGS_UPD_BLK.READING then&amp;#10;&#x9;&#x9;&#x9;&#x9;if :WT_READINGS_BLK.allow_to_update_yn = 'T' then&amp;#10;&#x9;&#x9;   &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לא ניתן לעדכן קריאה עד שירוץ תהליך תקופתי על תקופה זו',NULL,NULL);&amp;#10;&#x9;&#x9;   &#x9;&#x9;:WT_READINGS_UPD_BLK.READING:=:WT_READINGS_BLK.READING;&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;  &amp;#10;&#x9;&#x9;   &#x9;elsif :WT_READINGS_BLK.allow_to_update_yn = 'N' then&amp;#10;&#x9;&#x9;   &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'שלא ניתן לעדכן קריאה שהתבררה בדיעבד ככוללת תקופתית',NULL,NULL);&amp;#10;&#x9;&#x9;   &#x9;&#x9; :WT_READINGS_UPD_BLK.READING:=:WT_READINGS_BLK.READING;&amp;#10;&#x9;&#x9;   &#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;  &amp;#10;&#x9;&#x9;   &#x9;end if;&amp;#10;   end if;&amp;#10;&#x9;--&#x9;message('1111:wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&amp;#10;&#x9;--chani_h 05/2018&amp;#10;&#x9;--מצב מד זרימה הפוכה ניתן להכניס קריאה שלילית&amp;#10;:PARAMETER.P_UPDATE_NEG_READING:=NULL;&amp;#10;:PARAMETER.P_UPDATE_NEG_READING:=nvl(sr_code_values_pkg.get_number_value('UPDATE_NEGETIV_READINGS'),:WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE+1);&#x9;&amp;#10;:PARAMETER.P_UPDATE_READING:=NULL;&amp;#10;:PARAMETER.P_UPDATE_READING:=nvl(sr_code_values_pkg.get_number_value('UPDATE_NEGETIV_READINGS_B'),:WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE+1);&#x9;&amp;#10;  &amp;#10;     if :WT_READINGS_UPD_BLK.reading&lt;:WT_READINGS_UPD_BLK.PREVIOUS_READING then    &amp;#10;     &#x9;if :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE&lt;>:PARAMETER.P_UPDATE_NEG_READING &amp;#10;     &#x9;&#x9;or :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE is null  then&amp;#10;            &amp;#10;               v_alert := DISPLAY_COMMENT('APP',50207,NULL,NULL,NULL,NULL);&amp;#10;              :WT_READINGS_UPD_BLK.qty:=null;&amp;#10;             :WT_READINGS_UPD_BLK.reading:=null;&amp;#10;             :WT_READINGS_UPD_BLK.qty:=null;&amp;#10;             RAISE FORM_TRIGGER_FAILURE;     &#x9;&amp;#10;     &#x9;end if;&amp;#10;     &#x9;&amp;#10;   end if;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;&#x9;&#x9;VALIDATE(BLOCK_SCOPE);&amp;#10;&#x9;&#x9;--&#x9;message(':wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&amp;#10;&#x9;&#x9;--rachel 18.10&amp;#10;&#x9;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;if :WT_READINGS_UPD_BLK.reading is not null then&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :system.record_status  = 'CHANGED'  then&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:system.message_level:=5;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--commit_form;    &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--post;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/* 02/14 - brachi */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF  :parameter.PAR_OLD_READING != :wt_readings_upd_blk.reading and :wt_readings_upd_blk.REPAIR_REASON_CODE is null  thEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;-- &#x9;&#x9;&#x9;set_item_property('WT_READINGS_UPD_BLK.CODE_LIST', VISUAL_ATTRIBUTE, 'VA_req_item');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לאחר עדכון קריאה יש לעדכן סיבת תיקון.',NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--&#x9;:wt_readings_upd_blk.REPAIR_REASON_CODE := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;end if;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--tzvia 08/2015&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;if :wt_readings_upd_blk.ESTIMATED_YN = 'Y' and :wt_readings_upd_blk.REPAIR_REASON_CODE is null  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;and :wt_readings_upd_blk.GAUGE_STATUS_CODE is null then&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לאחר עדכון הערכה יש לעדכן סיבת תיקון ומצב מד.',NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;elsif :wt_readings_upd_blk.ESTIMATED_YN = 'Y' and :wt_readings_upd_blk.REPAIR_REASON_CODE is null  thEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לאחר עדכון הערכה יש לעדכן סיבת תיקון.',NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;elsif :WT_READINGS_UPD_BLK.ESTIMATED_YN  = 'Y' and :wt_readings_upd_blk.GAUGE_STATUS_CODE is null then&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לאחר עדכון הערכה יש לעדכן מצב מד.',NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;        &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;end if;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;end if;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/* IF :WT_READINGS_UPD_BLK.ESTIMATED_YN ='Y' and :wt_readings_upd_blk.ESTIMATED_CODE  is null  then&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',151,null,'קוד הערכה',NULL,NULL);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;end if;*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/* End Of Add 02/14 */&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/* עדכון מצב מד */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--&#x9;message('222:wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;wt_readings_upd_pkg.UPDATE_GAUGE_STATUS (:wt_readings_upd_blk.WATER_ID,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:wt_readings_upd_blk.GAUGE_SEQ,                  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:wt_readings_upd_blk.FISCAL_YEAR ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:wt_readings_upd_blk.PERIOD_NUM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:wt_readings_upd_blk.GAUGE_STATUS_CODE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--:wt_readings_upd_blk.ESTIMATED_CODE);&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;-- v_comm:=F_LOGIT; brachi remove&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--forms_ddl('commit');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--commit_form;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:system.message_level:=0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;v_comm:=F_LOGIT;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;wt_readings_upd_pkg.close_win;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;execute_query;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;GO_RECORD(nvl(to_number(:parameter.curr_rec),1));&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;wt_readings_upd_pkg.close_win;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;execute_query;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;GO_RECORD(nvl(to_number(:parameter.curr_rec),1)); &amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;elsIF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',734,NULL,NULL,NULL,NULL); &amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;end if;&amp;#10;&#x9;&#x9;END IF; &amp;#10;&#x9;END IF;&amp;#10;&#x9;/*brachi*/&amp;#10;&#x9;IF  :parameter.PAR_OLD_READING != :wt_readings_upd_blk.reading or&amp;#10;&#x9;&#x9;:parameter.par_old_date!=:wt_readings_upd_blk.reading_date or &amp;#10;&#x9;&#x9;:parameter.par_old_y_n!=:wt_readings_upd_blk.ESTIMATED_YN then&amp;#10;&#x9;&#x9;wt_readings_upd_pkg.get_retro_yn;&amp;#10;&#x9;&#x9;/*   v_alert := DISPLAY_COMMENT('APP',50848,NULL,NULL,NULL,NULL);           &amp;#10;&#x9;&#x9;IF (v_alert = ALERT_BUTTON1) THEN &amp;#10;&#x9;&#x9;call_form('WT_RETRO_VER2'); &amp;#10;&#x9;&#x9;end  if; &amp;#10;&#x9;&#x9;end if;*/&amp;#10;&#x9;end if;&amp;#10;&#x9;-------------הרצת רטרו&amp;#10;&#x9;---by brachi 11022014&#x9;&amp;#10;&#x9;/*  IF  :parameter.PAR_OLD_READING != :wt_readings_upd_blk.reading and &amp;#10;&#x9;:parameter.par_old_date!=:wt_readings_upd_blk.reading_date and &amp;#10;&#x9;:parameter.par_old_y_n!=:wt_readings_upd_blk.ESTIMATED_YN then&amp;#10;&#x9;v_alert := DISPLAY_COMMENT('APP',50848,NULL,NULL,NULL,NULL);           &amp;#10;&#x9;IF (v_alert = ALERT_BUTTON1) THEN &amp;#10;&#x9;call_form('WT_RETRO_VER2'); &amp;#10;&#x9;end  if;*/&amp;#10;&#x9;-- end if;&amp;#10;&amp;#10;&#x9;&amp;#10;&#x9;--Miri added 07/03/18&amp;#10;&#x9;go_item('QUERY.QUERY_BUTTON');&amp;#10;&#x9;execute_trigger('WHEN-BUTTON-PRESSED');&amp;#10;&#x9;--End Miri&amp;#10;END;   &amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="UPDATE_TYPE" YPosition="4940" XPosition="3409" ListElementCount="2" AutoHint="true" ItemType="List Item" BackColor="white" Prompt="סוג תיקון" FontWeight="Demilight" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" Width="2010" PromptAttachmentOffset="312" FontSize="800" PromptAlign="Center" FontName="MS Sans Serif" Height="528">
            <ListItemElement Index="1" Name="הוספה" Value="PLUS"/>
            <ListItemElement Index="2" Name="הפחתה" Value="MINUS"/>
         </Item>
         <Item Name="EXIT" YPosition="7300" XPosition="15186" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_EXIT_PC" Label="יציאה" TabPageName="" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" CanvasName="READING_UPD_CV" ParentType="29" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;  v_alert NUMBER;&amp;#10;  v_comm  number(1) := 0;&amp;#10;BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;  &amp;#10;  if :WT_READINGS_UPD_BLK.reading is not null then&amp;#10;&#x9;&#x9;   IF :system.record_status  = 'CHANGED' &amp;#10;&#x9;&#x9;      OR :system.record_status  = 'INSERT' THEN&amp;#10;&#x9;&#x9;         SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;&#x9;&#x9;         v_alert := DISPLAY_COMMENT('APP',1,NULL,NULL,NULL,NULL); --save or no&amp;#10;&#x9;&#x9;         IF (v_alert = ALERT_BUTTON1) THEN --save changes by user&amp;#10;&#x9;&#x9;              VALIDATE(BLOCK_SCOPE);&amp;#10;&#x9;&#x9;              IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;             :system.message_level:=5;&amp;#10;&#x9;&#x9;&#x9;&#x9;             v_comm:=F_LOGIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;             forms_ddl('commit');&amp;#10;&#x9;&#x9;&#x9;&#x9;             :system.message_level:=0;&amp;#10;&#x9;&#x9;              ELSE&amp;#10;&#x9;&#x9;              &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;              END IF;              &amp;#10;&#x9;&#x9;         ELSIF (v_alert = ALERT_BUTTON2) THEN -- NO save changes by user&amp;#10;&#x9;&#x9;            CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;         ELSIF (v_alert = ALERT_BUTTON3) THEN -- CANCEL&amp;#10;&#x9;&#x9;            RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;         END IF; &amp;#10;&#x9;&#x9;   ELSE&amp;#10;&#x9;&#x9;     wt_readings_upd_pkg.close_win;&amp;#10;&#x9;&#x9;     EXECUTE_QUERY;   &amp;#10;&#x9;&#x9;     GO_RECORD(nvl(to_number(:parameter.curr_rec),1));    &#x9;&amp;#10;&#x9;&#x9;   END IF;&amp;#10;   wt_readings_upd_pkg.close_win;&amp;#10;   EXECUTE_QUERY;   &amp;#10;   GO_RECORD(nvl(to_number(:parameter.curr_rec),1));&amp;#10;   else&amp;#10;   &#x9;GO_BLOCK('WT_READINGS_BLK');&amp;#10;   &#x9; CLEAR_BLOCK(NO_VALIDATE);&amp;#10;   &#x9; wt_readings_upd_pkg.close_win;&amp;#10;   &#x9; &#x9;:system.message_level:=15;&amp;#10;&#x9; -- display_error;&amp;#10;&#x9;&amp;#10;     EXECUTE_QUERY;   &amp;#10;    &amp;#10;&#x9;  :system.message_level:=0;&amp;#10;     GO_RECORD(nvl(to_number(:parameter.curr_rec),1));  &amp;#10;  end if;&amp;#10; end if;&amp;#10;  --------------brachi add &amp;#10;            &amp;#10;   IF  :parameter.PAR_OLD_READING = :wt_readings_upd_blk.reading  then&amp;#10;     --&#x9;message('came');  &#x9;message('came');--1602--:wt_readings_upd_blk.REPAIR_REASON_CODE is null  thEN&amp;#10;    &#x9;   &#x9;&#x9;&amp;#10;   &#x9;SET_ITEM_PROPERTY('wt_readings_upd_blk.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_item');&amp;#10;             &#x9;&amp;#10;      end if;&amp;#10;  --------&amp;#10;end;"/>
         </Item>
         <Item Name="STAMP_ACTION" MaximumLength="1" Prompt="Stamp Action" DirtyInfo="true" Width="318" AutoHint="true" DataLengthSemantics="BYTE" Required="true"/>
         <Item Name="LOGIT_SEQ" DirtyInfo="true" DatabaseItem="false" Width="2381" DataType="Number" Height="476"/>
         <Item Name="READING_DATE_DISPLAY" MaximumLength="20" YPosition="3914" XPosition="3409" AutoHint="true" ItemsDisplay="0" InitializeValue="$$DBDATE$$" DistanceBetweenRecords="475" Prompt="תאריך" TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" DatabaseItem="false" PromptAttachmentOffset="762" PromptAlign="Center" PromptAlignOffset="0" Required="false">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK"/>
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;    v_alert        NUMBER;&amp;#10;    v_sysdate      VARCHAR2(20);&amp;#10;    v_reading_date VARCHAR2(20);&amp;#10;    v_date         VARCHAR2(20);&amp;#10;BEGIN&amp;#10;  IF full_date_check(:wt_readings_upd_blk.reading_date_display) = 'OK' THEN&amp;#10;     SELECT TO_CHAR(SYSDATE,'HH24:MI:SS')&amp;#10;     INTO   v_sysdate&amp;#10;     FROM   DUAL;&amp;#10;     v_reading_date := TO_CHAR(:wt_readings_upd_blk.reading_date_display, 'DD/MM/YYYY');&amp;#10;     v_date := v_reading_date||' '||v_sysdate;&amp;#10;     :wt_readings_upd_blk.reading_date := TO_DATE(v_date,'DD/MM/YYYY HH24:MI:SS');&amp;#10;  ELSIF full_date_check(:wt_readings_upd_blk.reading_date_display) = 'ERR' THEN&amp;#10;     SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;     v_alert := DISPLAY_COMMENT('APP',175,NULL,NULL,NULL,NULL);&amp;#10;     RAISE FORM_TRIGGER_FAILURE;&amp;#10;  END IF; &amp;#10;END;"/>
         </Item>
         <Item Name="WATER_ID_DISPLAY" MaximumLength="12" YPosition="1482" XPosition="3495" AutoHint="true" PromptFontSize="800" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemsDisplay="0" DistanceBetweenRecords="475" ItemType="Display Item" Prompt="זיהוי מים" TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="2064" PromptAttachmentOffset="102" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-1" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Required="true"/>
         <Item Name="STAMP_CDATE" MaximumLength="10" Prompt="Stamp Cdate" DirtyInfo="true" Width="1905" AutoHint="true" DataType="Date" Required="true"/>
         <Item Name="STAMP_DATE" MaximumLength="10" Prompt="Stamp Date" DirtyInfo="true" Width="1905" AutoHint="true" DataType="Date" Required="true"/>
         <Item Name="STAMP_USER" MaximumLength="15" Prompt="Stamp User" DirtyInfo="true" Width="2540" AutoHint="true" DataLengthSemantics="BYTE" Required="true"/>
         <Item Name="READING_SEQ" MaximumLength="9" Prompt="Reading Seq" DirtyInfo="true" DatabaseItem="true" Width="1588" AutoHint="true" DataType="Number"/>
         <Item Name="WATER_ID" MaximumLength="12" YPosition="1482" XPosition="3996" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="475" Prompt="מספר זיהוי מים" TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" PromptAttachmentOffset="101" Width="2064" PromptAlign="Center" PromptAlignOffset="-1" CanvasName="" DataLengthSemantics="BYTE" Required="true"/>
         <Item Name="GAUGE_SEQ" MaximumLength="8" Prompt="Gauge Seq" DirtyInfo="true" Width="1429" AutoHint="true" DataType="Number" Required="false"/>
         <Item Name="READING" MaximumLength="20" YPosition="4017" XPosition="3530" AutoHint="true" LowestAllowedValue="0.0" DirtyInfo="true" Width="2423" CanvasName="READING_UPD_CV" PromptFontName="Arial" HighestAllowedValue="" Height="524" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_NUMBER_PC" Prompt="קריאה נוכחית" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="852" PromptAlignOffset="37" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="&amp;#10;DECLARE&amp;#10;     v_alert NUMBER;&amp;#10;     v_next_seq       NUMBER;&amp;#10;     v_return BOOLEAN;&amp;#10;     v_next_year   NUMBER;&amp;#10;     v_next_period NUMBER;&amp;#10;     v_next_reading NUMBER;&amp;#10;     v_next_pervious_reading  NUMBER; &amp;#10;BEGIN&amp;#10;&#x9;    &amp;#10;&#x9;          ------------------brachi add &amp;#10;            &amp;#10;           IF  :parameter.PAR_OLD_READING != :wt_readings_upd_blk.reading  then&amp;#10;             --&#x9;message('came');  &#x9;message('came');--1602--:wt_readings_upd_blk.REPAIR_REASON_CODE is null  thEN&amp;#10;    &#x9;   &#x9;&#x9;&#x9;set_item_property('wt_readings_upd_blk.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_req_item');&amp;#10;             else&amp;#10;             &#x9;&#x9;set_item_property('wt_readings_upd_blk.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_item');&amp;#10;             &#x9;&amp;#10;            end if;&amp;#10;             -------------------&amp;#10;    if :WT_READINGS_UPD_BLK.reading is not null then&amp;#10;--    v_return:=validate_field(:WT_READINGS_UPD_BLK.reading);&amp;#10;--    IF v_return= TRUE THEN&amp;#10;         :wt_readings_upd_blk.qty:=:wt_readings_upd_blk.reading - :wt_readings_upd_blk.previous_reading;&amp;#10;         :parameter.p_change_next_reading:='N';&amp;#10;        --   message ('v_next_year-'||v_next_year);  message ('v_next_year-'||v_next_year);&amp;#10;       IF :parameter.curr_rec !=1 THEN&amp;#10;            ----------------------------------------------------------&amp;#10;            /* הודעה האם לעדכן קריאה הבאה רק אם יש קריאה הבאה */&amp;#10;          /*brachi change 23062014*/&amp;#10;            wt_year_period_pkg.get_next_period(:wt_readings_upd_blk.fiscal_year, :wt_readings_upd_blk.period_num, :wt_readings_blk.region_code, v_next_year, v_next_period);&amp;#10;      &amp;#10;            BEGIN     &amp;#10;             select reading_seq,reading,previous_reading&amp;#10;             into   v_next_seq ,v_next_reading,v_next_pervious_reading  &amp;#10;             from   WT_READINGS r1&amp;#10;             where  water_id = :wt_readings_upd_blk.water_id&amp;#10;               and  reading_type!=2&amp;#10;               and  reading_Seq!=:wt_readings_upd_blk.reading_seq&amp;#10;               and  reading_date>=:wt_readings_upd_blk.reading_date&amp;#10;               and  ( (:wt_Readings_upd_blk.reading_Type=1   and r1.fiscal_year >= v_next_year and r1.period_num >= v_next_period)&amp;#10;                    OR&amp;#10;                      (:wt_Readings_upd_blk.reading_Type!=1    and r1.fiscal_year = :wt_readings_upd_blk.fiscal_year and r1.period_num=:wt_readings_upd_blk.period_num)&amp;#10;                    )&amp;#10;               and  reading_date = (select min(reading_date)&amp;#10;                                    from   WT_READINGS r2&amp;#10;                                    where  r1.water_id = r2.water_id&amp;#10;                                      and  r2.reading_type!=2&amp;#10;                                      and  r2.reading_Seq!=:wt_readings_upd_blk.reading_seq&amp;#10;                                      and  r2.reading_date>=:wt_readings_upd_blk.reading_date&amp;#10;                                      and  ( (:wt_Readings_upd_blk.reading_Type=1  and r2.fiscal_year>= v_next_year  and r2.period_num>= v_next_period)&amp;#10;                                             OR&amp;#10;                                             (:wt_Readings_upd_blk.reading_Type!=1 and r2.fiscal_year = :wt_readings_upd_blk.fiscal_year and r2.period_num=r1.period_num)&amp;#10;                                           )&amp;#10;                                    )           &amp;#10;            and   rownum=1;&amp;#10;        EXCEPTION&amp;#10;            when NO_DATA_FOUND then&amp;#10;                 v_next_seq   :=0;&amp;#10;                 v_next_reading:=0;&amp;#10;                 v_next_pervious_reading:=0; &amp;#10;        END;&amp;#10;        &amp;#10;     -- message ('v_next_seq-'||v_next_seq);  message ('v_next_seq-'||v_next_seq);&amp;#10;            ------------------------------------------------------------------&amp;#10;       IF  v_next_seq   !=0 THEN&amp;#10;   &amp;#10;             IF   :PARAMETER.P_UPDATE_NEXT_READING='N' then  --ADD BY CHANI 11.2013&#x9;&amp;#10;               v_alert := DISPLAY_COMMENT('APP',1102,NULL,NULL,NULL,NULL);&amp;#10;               IF v_alert = ALERT_BUTTON1 THEN&amp;#10;                     :parameter.p_change_next_reading:='Y';&amp;#10;               END IF;  &amp;#10;               ELSE&amp;#10;              &amp;#10;                 :parameter.p_change_next_reading:='Y';&amp;#10;             END IF;&#x9;&amp;#10;            END IF;   &amp;#10;  END IF;&amp;#10;         /*if :WT_READINGS_UPD_BLK.reading&lt;:WT_READINGS_UPD_BLK.PREVIOUS_READING then&amp;#10;             v_alert := DISPLAY_COMMENT('APP',50207,NULL,NULL,NULL,NULL);&amp;#10;              :WT_READINGS_UPD_BLK.qty:=null;&amp;#10;             :WT_READINGS_UPD_BLK.reading:=null;&amp;#10;             :WT_READINGS_UPD_BLK.qty:=null;&amp;#10;             RAISE FORM_TRIGGER_FAILURE;&amp;#10;         end if;&amp;#10;         */--chani_h pass to btn_save&amp;#10;         --tzvia add 06/2015&amp;#10;         --קריאת פרוק תמיד הקריאה הבאה תתחיל מאפס&amp;#10;         if :WT_READINGS_UPD_BLK.reading_type = 3 then&amp;#10;         &#x9;:parameter.p_change_next_reading:='N';&amp;#10;         end if;&amp;#10;         --end tzvia&amp;#10;       IF  v_next_seq!=0 THEN  &amp;#10;          IF  :parameter.p_change_next_reading='Y' THEN&amp;#10;             IF :WT_READINGS_UPD_BLK.reading> v_next_reading THEN&amp;#10;             &#x9; v_alert := DISPLAY_COMMENT('APP',444,NULL,'עדכון הקריאה יגרום שבתקופה הבאה קריאה קודמת תהיה יותר גדולה מקריאה נוכחית.',NULL,NULL);&amp;#10;                 :WT_READINGS_UPD_BLK.reading:=null;&amp;#10;                 :WT_READINGS_UPD_BLK.qty:=null;&amp;#10;                 RAISE FORM_TRIGGER_FAILURE;&amp;#10;             END IF;             &amp;#10;             &amp;#10;          END IF;&amp;#10;       END IF;  --chani_h pass to btn_save   */&amp;#10;    end if;    &amp;#10;END;     &amp;#10;     &amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="READING_DATE" Enabled="false" YPosition="1357" XPosition="9657" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="475" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="YYYY_CAL_PC" Prompt="תאריך קריאה" TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" PromptFontSpacing="Normal" Width="2221" PromptAttachmentOffset="294" PromptFontWeight="Medium" PromptAlignOffset="37" CanvasName="READING_UPD_CV" ParentType="29" PromptFontStyle="Plain" Height="548" Required="false">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" SubclassSubObject="true" DirtyInfo="true"/>
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="/*brachi add*/&amp;#10;declare&amp;#10;v_reading_check date;&amp;#10;v_alert number;&amp;#10;begin&#x9;&amp;#10;&#x9;if :WT_READINGS_UPD_BLK.READING_DATE is not null then&amp;#10;&#x9;begin&amp;#10;&#x9;&#x9;select reading_date &amp;#10;&#x9;&#x9;into v_reading_check from(&amp;#10;&#x9;&#x9;select * &amp;#10;&#x9;&#x9;from wt_readings&amp;#10;&#x9;&#x9;where to_number(fiscal_year||period_num) &lt; to_number(:WT_READINGS_UPD_BLK.fiscal_year||:WT_READINGS_UPD_BLK.period_num) and water_id=:WT_READINGS_BLK.water_id&amp;#10;      order by reading_date desc)where rownum=1;&amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when others then &amp;#10;&#x9;&#x9;message('sqlerrm '||sqlerrm);&amp;#10;&#x9;&#x9;message('sqlerrm '||sqlerrm);&amp;#10;&#x9;end;&amp;#10;&#x9;if :WT_READINGS_UPD_BLK.READING_DATE &lt;=v_reading_check then&amp;#10;&#x9;&#x9; v_alert := DISPLAY_COMMENT('APP',444,NULL,'על תאריך קריאה להיות גדול יותר מתאריך הקריאה הקודם לו',NULL,NULL);&amp;#10;&#x9;&#x9; :WT_READINGS_UPD_BLK.READING_DATE:=null;&amp;#10;&#x9;&#x9; raise form_trigger_failure;&amp;#10;&#x9;end if;&amp;#10;end if;&amp;#10;end;" DirtyInfo="true"/>
         </Item>
         <Item Name="QTY" MaximumLength="12" YPosition="4847" XPosition="3965" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="475" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUMBER_COLOR_PC" Prompt="כמות " TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" Width="1988" PromptAttachmentOffset="2452" PromptAlignOffset="37" CanvasName="READING_UPD_CV" ParentType="29" Height="524"/>
         <Item Name="QTY_DISPLAY" MaximumLength="11" YPosition="6002" XPosition="3409" AutoHint="true" Comment="(שדה מספרי שיכול לקבל שברים (סכום" ItemsDisplay="0" DistanceBetweenRecords="475" ReadingOrder="Left To Right" ItemType="Text Item" Prompt="כמות תיקון" TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" DatabaseItem="false" Width="1905" PromptAttachmentOffset="101" PromptAlign="Center" PromptAlignOffset="-1" FormatMask="999999999"/>
         <Item Name="FISCAL_YEAR" MaximumLength="5" YPosition="1376" XPosition="2143" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUM_INT_COLOR_PC" Prompt="שנה" TabPageName="" DirtyInfo="true" PromptAttachmentOffset="868" Width="1017" PromptAlignOffset="37" CanvasName="READING_UPD_CV" ParentType="29" Height="505"/>
         <Item Name="PERIOD_NUM" MaximumLength="3" YPosition="1357" XPosition="4789" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUM_INT_COLOR_PC" Prompt="תקופה" TabPageName="" DirtyInfo="true" PromptAttachmentOffset="373" Width="1297" PromptAlignOffset="37" CanvasName="READING_UPD_CV" ParentType="29" Height="524"/>
         <Item Name="REPAIR_REASON_CODE" YPosition="4830" XPosition="9526" PromptFontSize="1100" DataType="Number" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_NUM_INT_PC" Prompt="סיבת תיקון" TabPageName="" DirtyInfo="true" DatabaseItem="true" PromptFontSpacing="Normal" Width="913" PromptAttachmentOffset="587" PromptFontWeight="Medium" PromptAlignOffset="54" CanvasName="READING_UPD_CV" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="524">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="&amp;#10;declare&amp;#10;&#x9;v_alert number;&amp;#10;begin&#x9;&amp;#10;if :WT_READINGS_UPD_BLK.REPAIR_REASON_CODE is null then&amp;#10;&#x9; :WT_READINGS_UPD_BLK.REPAIR_REASON_NAME := null;&amp;#10;else&amp;#10;&#x9;begin&amp;#10;&#x9; SELECT REPAIR_REASON_DESC&amp;#10;&#x9; INTO   :WT_READINGS_UPD_BLK.REPAIR_REASON_NAME&amp;#10;   FROM WT_REPAIR_REASONS&amp;#10;   WHERE REPAIR_REASON_TYPE=1 and REPAIR_REASON_CODE=:WT_READINGS_UPD_BLK.REPAIR_REASON_CODE&amp;#10;   AND stamp_action !='D';&amp;#10;        &amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when others then&amp;#10;      v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :WT_READINGS_UPD_BLK.REPAIR_REASON_CODE:=null;&amp;#10;      :WT_READINGS_UPD_BLK.REPAIR_REASON_NAME:=null;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end ;&#x9;    &amp;#10;end if;   &amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="REPAIR_REASON_NAME" MaximumLength="50" YPosition="4847" XPosition="11162" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="5073" CanvasName="READING_UPD_CV" ParentType="29" Height="524"/>
         <Item Name="PREVIOUS_READING" MaximumLength="12" YPosition="3239" XPosition="3494" AutoHint="true" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUMBER_COLOR_PC" Prompt="קריאה קודמת" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="2423" PromptAttachmentOffset="790" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="0" CanvasName="READING_UPD_CV" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="524"/>
         <Item Name="GAUGE_STATUS_CODE" MaximumLength="5" YPosition="2342" XPosition="9547" AutoHint="true" PromptFontSize="1100" DataType="Number" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_CODE_4INT_PC" Prompt="מצב מד" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="796" PromptAttachmentOffset="1031" PromptFontWeight="Medium" PromptAlignOffset="37" CanvasName="READING_UPD_CV" LovName="LOV_GAUGE_STATUS" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial" Height="524">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;&#x9;v_alert number;&amp;#10;begin&#x9;&amp;#10;if :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE is null then&amp;#10;&#x9; :WT_READINGS_UPD_BLK.GAUGE_STATUS_NAME := null;&amp;#10;else&amp;#10;&#x9;begin&amp;#10;&#x9;  SELECT status_name&amp;#10;    INTO    :WT_READINGS_UPD_BLK.GAUGE_STATUS_NAME&amp;#10;    FROM   wt_gauge_status_codes&amp;#10;    WHERE  status_code = :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE&amp;#10;    AND stamp_action !='D';&amp;#10;        &amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when others then&amp;#10;      v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE:=NULL;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end ;&#x9;    &amp;#10;end if;   &amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="LOV_REPAIR_REASONS" YPosition="4840" TabPageName="" XPosition="10471" DirtyInfo="true" DatabaseItem="false" Width="576" ParentType="29" CanvasName="READING_UPD_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="&amp;#10;DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_REASONS');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_LIST" YPosition="2363" XPosition="10471" AutoHint="true" Comment="כפתור רשימת ערכים" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC" TabPageName="" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" CanvasName="READING_UPD_CV" ParentType="29" Visible="true" Height="482">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_GAUGE_STATUS');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_STATUS_NAME" MaximumLength="40" RecordVisualAttributeGroupName="" YPosition="2342" XPosition="11162" Tooltip="" EditName="EDIT_COMMENTS" AutoHint="true" ItemsDisplay="1" DatabaseItem="false" DirtyInfo="true" Width="5189" CanvasName="READING_UPD_CV" Height="524" Hint="Editor Double_click" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="95" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="READING_TYPE" MaximumLength="5" YPosition="4498" XPosition="2725" AutoHint="true" DataType="Number" ItemsDisplay="0" DistanceBetweenRecords="475" Prompt="סוג תיקון" TabPageName="" PromptDisplayStyle="All Records" DirtyInfo="true" PromptAttachmentOffset="100" Width="953" PromptAlign="Center" PromptAlignOffset="0" CanvasName="" Required="true"/>
         <Item Name="READING_TYPE_NAME" RecordVisualAttributeGroupName="" MaximumLength="100" YPosition="2342" XPosition="2993" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" Prompt="סוג קריאה" PromptReadingOrder="Right To Left" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="2987" PromptAttachmentOffset="818" PromptFontWeight="Medium" PromptAlignOffset="37" CanvasName="READING_UPD_CV" ParentType="29" PromptFontStyle="Plain" Height="524"/>
         <Item Name="ESTIMATED_YN" MaximumLength="1" YPosition="4920" XPosition="4498" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="IN_RED_RADIO_PC" Prompt="הערכה" TabPageName="" DirtyInfo="true" DatabaseItem="true" Width="318" CanvasName="READING_UPD_CV" ParentType="29" OtherValues="N">
            <RadioButton Name="N" BackColor="metrogray" YPosition="3239" Label="לא" XPosition="10762" DirtyInfo="true" Width="953" ParentType="29" RadioButtonValue="N" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="IN_RED_RADIO_PC"/>
            <RadioButton Name="Y" BackColor="metrogray" YPosition="3239" Label="כן" XPosition="9573" DirtyInfo="true" Width="926" ParentType="29" RadioButtonValue="Y" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="IN_RED_RADIO_PC"/>
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="/*begin&amp;#10;&#x9;if :WT_READINGS_UPD_BLK.ESTIMATED_YN='Y'&amp;#10;&#x9;&#x9;THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.ESTIMATED_CODE',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.ESTIMATED_CODE',update_allowed,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.CODE_LIST',ENABLED,PROPERTY_TRUE);&amp;#10;&amp;#10;--&#x9;else&amp;#10;&#x9;&#x9;--:WT_READINGS_UPD_BLK.ESTIMATED_code:=null;&amp;#10;&#x9;&#x9;&#x9;--:WT_READINGS_UPD_BLK.code_desc:=null;&amp;#10;&#x9;&#x9;&#x9;&#x9;end if;&amp;#10;&#x9;end;*/&amp;#10;&#x9;null;&amp;#10;&#x9;" DirtyInfo="true"/>
            <Trigger Name="WHEN-RADIO-CHANGED" TriggerText="/* declare&amp;#10; &#x9;v_alert number;&amp;#10; &#x9;begin&amp;#10; IF :WT_READINGS_UPD_BLK.ESTIMATED_YN ='N'THEN&amp;#10; &#x9;&#x9;&#x9;--:WT_READINGS_UPD_BLK.ESTIMATED_CODE:=null;&amp;#10;   &#x9;&#x9;&#x9;:WT_READINGS_UPD_BLK.CODE_DESC:=null;&amp;#10;   &#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.CODE_LIST',ENABLED,PROPERTY_false);&#x9;&#x9;&amp;#10;   &#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.ESTIMATED_CODE',ENABLED,PROPERTY_false);&amp;#10;   &#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.CODE_LIST', VISUAL_ATTRIBUTE, 'VA_item');&amp;#10;  ELSE&amp;#10;  &#x9;  &#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.CODE_LIST',ENABLED,PROPERTY_true);&#x9;&#x9;&amp;#10;   &#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.ESTIMATED_CODE',ENABLED,PROPERTY_true);&amp;#10;   &#x9;&#x9;&#x9;SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.ESTIMATED_CODE', VISUAL_ATTRIBUTE, 'VA_req_item');&amp;#10;  END IF;&amp;#10;  &amp;#10;  &amp;#10;   &amp;#10;   end;*/&amp;#10;--tzvia add 08/2015&amp;#10;      IF  :wt_readings_upd_blk.ESTIMATED_YN ='Y'  then&amp;#10;    &#x9;  &#x9;SET_ITEM_PROPERTY('wt_readings_upd_blk.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_req_item');&amp;#10;    &#x9;  &#x9;SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_STATUS_CODE', VISUAL_ATTRIBUTE, 'VA_req_item');--Miri 19/04/17&amp;#10;    &#x9; &amp;#10;      else&amp;#10;         &#x9;SET_ITEM_PROPERTY('wt_readings_upd_blk.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_item');&amp;#10;         &#x9;SET_ITEM_PROPERTY('wt_readings_upd_blk.GAUGE_STATUS_CODE', VISUAL_ATTRIBUTE, 'VA_item');--Miri 19/04/17&amp;#10;         &#x9;&amp;#10;      end if;" DirtyInfo="true"/>
         </Item>
         <Item Name="COMMENTS" MaximumLength="100" RecordVisualAttributeGroupName="" YPosition="5609" XPosition="2143" Tooltip="Editor Double_click" EditName="EDIT_COMMENTS" AutoHint="true" MultiLine="true" DatabaseItem="true" DirtyInfo="true" Width="14128" CanvasName="READING_UPD_CV" Height="1132" Hint="Editor Double_click" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_TEXT_ITEM_HEB_PC" Prompt="הערות" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="497" PromptAlignOffset="318" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="edit_textitem;"/>
         </Item>
         <Item Name="PROCESS_SEQ" MaximumLength="7" Prompt="Process Seq" DirtyInfo="true" DatabaseItem="false" Width="1270" AutoHint="true" DataType="Number"/>
         <Item Name="READING_DATE_BUT" Enabled="false" YPosition="1363" XPosition="12121" IconFilename="date_icon" Iconic="true" Comment="תאריכון" ItemsDisplay="1" ItemType="Push Button" Label="PUSH_BUTTON223" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="640" CanvasName="READING_UPD_CV" VisualAttributeName="VA_BUTTON" Height="513" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   GO_ITEM('WT_READINGS_UPD_BLK.READING_DATE');&amp;#10;   EXECUTE_TRIGGER('WHEN-MOUSE-DOUBLECLICK');  &amp;#10;&amp;#10;END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCNochildren="false" DSCLength="12" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GAUGE_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="7" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="FISCAL_YEAR" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PERIOD_NUM" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="2" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PROCESS_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="15" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="8" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="READING_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PREVIOUS_READING" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="QTY" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="ESTIMATED_YN" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GAUGE_STATUS_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="COMMENTS" DSCNochildren="false" DSCLength="100" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCNochildren="false" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="REGION_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="9" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CONFIRMED_PROCESS_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="15" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING_STATUS" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="LOGIT_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="TAKE_CARE_OF_NAME" DSCNochildren="false" DSCLength="15" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="REPAIR_REASON_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="REDUCTION_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="REDUCTION_SUB_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="UPDATE_REDUCTION_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="ESTIMATED_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerText="/*buttons_pkg.enabled_true_false('control.update',0,&amp;#10;                               'control.exit',0,&amp;#10;                               NULL,NULL, NULL,NULL,&amp;#10;                               NULL,NULL, NULL,NULL); &amp;#10;:wt_readings_upd_blk.water_id_display := :wt_readings_blk.water_id;&amp;#10;:wt_readings_upd_blk.gauge_seq := :wt_readings_blk.gauge_seq;&amp;#10;populate_pkg.gauge_id(:wt_readings_blk.gauge_seq,&amp;#10;                      :wt_readings_blk.water_id,     &amp;#10;                      :wt_readings_upd_blk.gauge_id); */&amp;#10;DECLARE&amp;#10;v_old_date date;&amp;#10;BEGIN&amp;#10;:parameter.par_old_date:=:wt_readings_blk.reading_date;  &amp;#10;:parameter.par_old_repair_reason:=:wt_readings_blk.repair_reason_code;&amp;#10;:parameter.PAR_OLD_READING      := :wt_readings_blk.reading; /* 02/14 - ברכי */&amp;#10;:parameter.par_old_y_n:=:wt_readings_blk.ESTIMATED_YN;/* 02/14 - ברכי */&amp;#10;--------------brachi add &amp;#10;            &amp;#10;   IF  :parameter.PAR_OLD_READING = :wt_readings_upd_blk.reading  then&amp;#10;     --&#x9;message('came');  &#x9;message('came');--1602--:wt_readings_upd_blk.REPAIR_REASON_CODE is null  thEN&amp;#10;    &#x9;   &#x9;&#x9;&amp;#10;&amp;#10;   &#x9;set_item_property('wt_readings_upd_blk.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_item');&amp;#10;             &#x9;&amp;#10;      end if;&amp;#10;  --------&amp;#10;/*  &amp;#10;   --Miri Added 27/07/17&amp;#10;  if :WT_READINGS_UPD_BLK.reading_type =2 then&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('WT_READINGS_UPD_BLK.QTY',enabled,PROPERTY_TRUE);&#x9;&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.QTY',update_allowed,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.QTY',navigable,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY('wt_readings_upd_blk.QTY',CURRENT_RECORD, VISUAL_ATTRIBUTE, 'VA_req_ITAM');&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',update_allowed,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',enabled,PROPERTY_FALSE);&amp;#10;    P_SET_ITEM_PROPERTY('wt_readings_upd_blk.READING',navigable,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY('wt_readings_upd_blk.READING',CURRENT_RECORD, VISUAL_ATTRIBUTE, 'VA_display_ITAM');  &amp;#10;  end if;&amp;#10;   &amp;#10;  --End Miri&amp;#10;  */&amp;#10;  &amp;#10;&#x9;if :WT_READINGS_BLK.READING_READY_YN ='Y'&#x9;then &amp;#10;&#x9;&#x9;:WT_READINGS_UPD_BLK.READING_READY_YN :='Y';&amp;#10;&#x9;elsif :WT_READINGS_BLK.READING_READY_YN ='N' then&amp;#10;&#x9;&#x9;:WT_READINGS_UPD_BLK.READING_READY_YN:='N';&amp;#10;&#x9;end if;&amp;#10;&amp;#10;&amp;#10;END;&amp;#10;&#x9;"/>
         <Trigger Name="PRE-INSERT" TriggerText="stamps_pkg.stamps_suport_c('I', 'wt_readings_upd_blk', :global.user_name);&amp;#10;"/>
         <Trigger Name="KEY-EXIT" TriggerText="GO_ITEM('wt_readings_upd_blk.exit');&amp;#10;EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');"/>
         <Trigger Name="KEY-COMMIT" TriggerText="GO_ITEM('wt_readings_upd_blk.save');&amp;#10;EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');"/>
         <Trigger Name="POST-QUERY" TriggerText="BEGIN&amp;#10;  BEGIN&amp;#10;      SELECT value_name&amp;#10;       INTO   :wt_readings_upd_blk.reading_type_name&amp;#10;       FROM   rm_decode_values dv,rm_decode d&amp;#10;       WHERE  dv.decode_code = d.decode_code&amp;#10;       AND    value_code    = :wt_readings_upd_blk.reading_type&amp;#10;       AND    d.decode_code = :global.READING_TYPE;&amp;#10;  EXCEPTION&amp;#10;    WHEN OTHERS THEN&amp;#10;       NULL;&amp;#10;  END;&amp;#10;   IF :wt_readings_upd_blk.gauge_status_code IS NOT NULL THEN&amp;#10;      :wt_readings_upd_blk.gauge_status_name :=&amp;#10;      get_desc_query_pkg.get_gauge_status&amp;#10;                        (:wt_readings_upd_blk.gauge_status_code); &amp;#10;   END IF;&amp;#10;   &amp;#10;   --Add By Chani 15.8.2013&amp;#10;  BEGIN&amp;#10; &amp;#10;  if :WT_READINGS_UPD_BLK.REPAIR_REASON_CODE is not null then&amp;#10;  &#x9;SELECT REPAIR_REASON_DESC&amp;#10;&#x9;  INTO   :WT_READINGS_UPD_BLK.REPAIR_REASON_NAME&amp;#10;    FROM WT_REPAIR_REASONS&amp;#10;    WHERE REPAIR_REASON_TYPE=1 and REPAIR_REASON_CODE=:WT_READINGS_UPD_BLK.REPAIR_REASON_CODE&amp;#10;    AND stamp_action !='D';&amp;#10;  end if;&amp;#10;   EXCEPTION&amp;#10;    WHEN OTHERS THEN&amp;#10;       NULL;&amp;#10;  END;&amp;#10;  --End of Add By Chani 15.8.2013&amp;#10;  populate_pkg.gauge_id(:wt_readings_upd_blk.gauge_seq,&amp;#10;                      :wt_readings_upd_blk.water_id,     &amp;#10;                      :wt_readings_upd_blk.gauge_id);&amp;#10; &amp;#10;  set_record_property(to_number(:SYSTEM.TRIGGER_RECORD),'wt_readings_upd_blk',STATUS,QUERY_STATUS);&amp;#10;  &amp;#10;  /*IF :WT_READINGS_UPD_BLK.ESTIMATED_YN ='N'THEN&amp;#10;   &#x9;&amp;#10;   &#x9;&#x9;&#x9;set_item_property('WT_READINGS_UPD_BLK.CODE_LIST',ENABLED,PROPERTY_false);&#x9;&#x9;&amp;#10;   &#x9;&#x9;&#x9;set_item_property('WT_READINGS_UPD_BLK.ESTIMATED_CODE',ENABLED,PROPERTY_false);&amp;#10;   &#x9;&#x9;&amp;#10;  ELSE&amp;#10;  &#x9;  &#x9;set_item_property('WT_READINGS_UPD_BLK.CODE_LIST',ENABLED,PROPERTY_true);&#x9;&#x9;&amp;#10;   &#x9;&#x9;&#x9;set_item_property('WT_READINGS_UPD_BLK.ESTIMATED_CODE',ENABLED,PROPERTY_true);&amp;#10;  END IF;*/&amp;#10;  --:wt_readings_upd_blk.reading_status_desc := get_desc_query_pkg.get_code_desc_query(52,:wt_readings_upd_blk.reading_status);&amp;#10;--  declare&amp;#10;--&#x9;v_alert number;&amp;#10;/*brachi remove&amp;#10;begin&#x9;&amp;#10;if :WT_READINGS_UPD_BLK.ESTIMATED_CODE is null then&amp;#10;&#x9; :WT_READINGS_UPD_BLK.CODE_DESC := null;&amp;#10;else&amp;#10;begin&amp;#10;&#x9;select value_name&amp;#10;  into   :WT_READINGS_UPD_BLK.code_desc&amp;#10;  from rm_decode_values&amp;#10;  where value_code= :WT_READINGS_UPD_BLK.ESTIMATED_CODE&amp;#10;  and decode_code =5206;&amp;#10;        &amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when no_data_found then&amp;#10;    --  v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :WT_READINGS_UPD_BLK.CODE_desc:=NULL;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end ;&#x9;    &amp;#10;end if;   &amp;#10;end;*/&amp;#10;&amp;#10;END;"/>
         <Trigger Name="PRE-QUERY" TriggerText="&amp;#10;DECLARE&amp;#10;      v_where VARCHAR2(500) := '1=1';&amp;#10;BEGIN&amp;#10;&amp;#10;    v_where := v_where||' AND reading_seq = :WT_READINGS_BLK.reading_seq ';&amp;#10;&amp;#10;    SET_BLOCK_PROPERTY('wt_readings_upd_blk',DEFAULT_WHERE,v_where);&amp;#10;   &amp;#10;END;&amp;#10;"/>
         <Trigger Name="PRE-UPDATE" TriggerText="&amp;#10;stamps_pkg.stamps_suport_c('U', 'wt_readings_upd_blk', :global.user_name);&amp;#10;"/>
      </Block>
      <Block Name="UPD_READINGS" DirtyInfo="true" ScrollbarWidth="476" ScrollbarLength="4763">
         <Item Name="DISP_REPAIR_REASON_UPD" YPosition="3440" XPosition="3175" Justification="Right" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" TabPageName="" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" PromptAttachmentEdge="Start" Width="3254" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" CanvasName="UPD_READINGS_CV" PromptFontName="Arial" VisualAttributeName="VA_DISPLAY_ITEM" Height="524" MouseNavigate="false"/>
         <Item Name="BTN_REASON_UPD" YPosition="3450" XPosition="2674" IconFilename="down" Iconic="true" ItemsDisplay="1" ItemType="Push Button" Label="PUSH_BUTTON451" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" Width="450" CanvasName="UPD_READINGS_CV" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="537" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_REPAIR_REASON_upd');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="REPAIR_REASON_UPD" RecordVisualAttributeGroupName="" YPosition="3503" XPosition="1872" Justification="Right" AutoHint="true" DistanceBetweenRecords="50" ReadingOrder="Right To Left" BackColor="white" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="708" CanvasName="UPD_READINGS_CV" PromptFontName="Arial" Height="524" FormatMask="" MouseNavigate="true" Hint="" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" Prompt="סיבת תיקון" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="141" PromptAlign="Start" PromptFontWeight="Demilight" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;&#x9;v_alert number;&amp;#10;begin&#x9;&amp;#10;if :CONTROL.REPAIR_REASON_ADD is null then&amp;#10;&#x9; :CONTROL.DISP_REPAIR_REASON_ADD := null;&amp;#10;else&amp;#10;&#x9;begin&amp;#10;&#x9; SELECT REPAIR_REASON_DESC&amp;#10;&#x9; INTO   :CONTROL.DISP_REPAIR_REASON_ADD&amp;#10;   FROM WT_REPAIR_REASONS&amp;#10;   WHERE REPAIR_REASON_TYPE=1 and REPAIR_REASON_CODE=:CONTROL.REPAIR_REASON_ADD&amp;#10;   AND STAMP_ACTION !='D';&amp;#10;        &amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when others then&amp;#10;      v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :CONTROL.REPAIR_REASON_ADD:=null;&amp;#10;      :CONTROL.DISP_REPAIR_REASON_ADD:=null;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end ;&#x9;    &amp;#10;end if;   &amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="QTY_ADD" RecordVisualAttributeGroupName="" YPosition="2501" XPosition="3942" AutoHint="true" LowestAllowedValue="" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="NUMBER_PC" Prompt="תוספת/הפחתת כמות" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="1568" PromptAttachmentOffset="331" PromptFontWeight="Demilight" PromptForegroundColor="black" CanvasName="UPD_READINGS_CV" ParentType="29" PromptFontStyle="Plain"/>
         <Item Name="ADD" Enabled="true" YPosition="4704" XPosition="292" IconFilename="OK" Iconic="false" AutoHint="true" NextNavigationItemName="ADD" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="אישור" TabPageName="" FontStyle="Plain" PreviousNavigationItemName="" DirtyInfo="true" Width="2000" ParentType="29" CanvasName="UPD_READINGS_CV">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;&#x9; v_gauge_seq NUMBER;&amp;#10;&#x9; v_water_id wt_readings.water_id%type;&amp;#10;&#x9; v_fiscal_year NUMBER;&amp;#10;&#x9; v_period_num  NUMBER;&amp;#10;&#x9; v_reading_seq wt_readings.reading_seq%type;&amp;#10;&#x9; v_gauge_status_code wt_readings.gauge_status_code%type;&amp;#10;&#x9; v_reading wt_readings.reading%type:=0;&amp;#10;   v_previous_reading wt_readings.previous_reading%type:=0;&amp;#10;   v_reading_date wt_readings.reading_date%type;&amp;#10;BEGIN&amp;#10;  &amp;#10;    go_block('WT_READINGS_BLK');&amp;#10;    Go_record(:parameter.curr_rec);&amp;#10;    v_reading_seq := :wt_readings_blk.READING_SEQ;&amp;#10;  &amp;#10;    update wt_readings r&amp;#10;    set r.qty = :UPD_READINGS.QTY_ADD,&amp;#10;    &#x9;&#x9;r.repair_reason_code = NVL(:UPD_READINGS.REPAIR_REASON_UPD,'')&amp;#10;    where r.READING_SEQ = v_reading_seq;&amp;#10;    &amp;#10;&#x9;  :system.message_level:=5;&amp;#10;  &#x9;commit;&amp;#10;  &#x9;wt_readings_upd_pkg.get_retro_yn;&amp;#10;  &#x9;:system.message_level:=0;&amp;#10;  &#x9;execute_Query;&amp;#10;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT_ADD" YPosition="4704" XPosition="3652" IconFilename="exit" Iconic="false" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="יציאה" TabPageName="" FontStyle="Plain" DirtyInfo="true" Width="2000" CanvasName="UPD_READINGS_CV" ParentType="29">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_alert NUMBER;&amp;#10;BEGIN&amp;#10;  IF :CONTROL.qty_add IS NULL THEN&amp;#10;        hide_view('add_cv');&amp;#10;        hide_window('add_win');&amp;#10;        go_block('wt_readings_blk');&amp;#10;        :CONTROL.qty_add := NULL;&amp;#10;  ELSE&amp;#10;     SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;     v_alert := DISPLAY_COMMENT('APP',1,NULL,NULL,NULL,NULL);&amp;#10;     IF (v_alert = ALERT_BUTTON1) THEN    -- Want To Save Changes&amp;#10;          GO_ITEM('CONTROL.ADD');&amp;#10;          EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');&amp;#10;      ELSE&amp;#10;        hide_view('add_cv');&amp;#10;        hide_window('add_win');&amp;#10;        go_block('wt_readings_blk');&amp;#10;        :CONTROL.qty_add := NULL;&amp;#10;     END IF;&amp;#10; END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="FISCAL_YEAR" YPosition="899" XPosition="1559" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_NUMBER_PC" Prompt="שנה" TabPageName="" DirtyInfo="true" PromptAttachmentOffset="567" Width="1402" CanvasName="UPD_READINGS_CV" ParentType="29"/>
         <Item Name="PERIOD_NUM" YPosition="1761" XPosition="1559" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_NUMBER_PC" Prompt="תקופה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentOffset="197" Width="1402" PromptFontWeight="Medium" CanvasName="UPD_READINGS_CV" ParentType="29" PromptFontStyle="Plain"/>
      </Block>
      <Block Name="CONTROL" UpdateAllowed="true" DirtyInfo="true" ScrollbarWidth="318" ScrollbarLength="4763" DatabaseBlock="false" InsertAllowed="true" QueryDataSourceType="None">
         <Item Name="BTN_IMAGE" YPosition="11609" XPosition="12908" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray" FontWeight="Bold" Label="פרטים נוספים" TabPageName="" FontStyle="Plain" DirtyInfo="true" KeyboardNavigable="false" Width="2746" CanvasName="MAIN_CV_4" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="declare&amp;#10;  v_image_seq number;&#x9;&amp;#10;begin&amp;#10;&amp;#10;&amp;#10;go_block('WT_PERIODIC_BLK');&amp;#10;execute_query;&amp;#10;go_block('WT_PERIODIC_PRICELIST_BLK');&amp;#10;execute_query;&amp;#10;go_block('IMAGES');&amp;#10;execute_query;&amp;#10;go_block('WT_WORK_COMMANDS_BLK');&amp;#10;execute_query;&amp;#10;go_block('DETAILS');&amp;#10;clear_block(NO_VALIDATE);&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:IMAGES.stamp_cdate,'YYYY')||'/',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;:DETAILS.det:='פרטים נוספים עבור תקופה '||:WT_READINGS_BLK.period_num||' שנה '||:WT_READINGS_BLK.fiscal_year;&amp;#10;&amp;#10;end;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="LOGIT" Enabled="true" YPosition="11609" XPosition="15796" IconFilename="" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="בדיקה לוגית" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="3702" FontSize="1100" FontName="Arial" CanvasName="MAIN_CV_4" Visible="true" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="--message('control');message('control');&amp;#10;declare&amp;#10;&#x9;  v_run_status number;&amp;#10;&#x9;  v_text       varchar2(500); &amp;#10;&#x9;  v_alert      NUMBER;&amp;#10;Begin&amp;#10;&#x9;&#x9;v_Text:=null;&amp;#10;&#x9;&#x9;if  :WT_READINGS_BLK.WATER_ID is not null then&#x9;&#x9;   &amp;#10;&#x9;&#x9;   &amp;#10;&#x9;&#x9;   wt_logit_pkg.run_online&amp;#10;&#x9;&#x9;                (p_fiscal_year  => :wt_readings_blk.fiscal_year,&amp;#10;                     p_period_num   => :wt_readings_blk.period_num,&amp;#10;                     p_water_id     => :wt_readings_blk.water_id,&amp;#10;                     p_gauge_seq    => :wt_readings_blk.gauge_seq,&amp;#10;                     p_region_code  => :wt_readings_blk.region_code,&amp;#10;                     p_reading      => :wt_readings_blk.reading,&amp;#10;                     p_pre_reading  => :wt_readings_blk.previous_Reading,&amp;#10;                     p_qty          => :wt_readings_blk.qty,&amp;#10;                     p_estimated    => :wt_readings_blk.estimated_yn,&amp;#10;                     p_gauge_status => :wt_readings_blk.gauge_status_code,&amp;#10;                     p_old_gauge_status => :wt_readings_blk.gauge_status_code,&amp;#10;                     p_reading_seq  => :wt_readings_blk.reading_seq,&amp;#10;                     p_reading_date => :wt_readings_blk.reading_date,&amp;#10;                     p_reading_type => :wt_readings_blk.reading_type,&amp;#10;                     p_logit_seq    => :wt_readings_blk.logit_seq,&amp;#10;                     p_user_name    => :global.user_name,--:wt_readings_blk.stamp_user chani 11.2015,&amp;#10;                     p_CROSSBREEDING_YN=>NVL(:wt_readings_blk.CROSSBREEDING_YN,'N'),&amp;#10;                     p_rec_no       => 0,&amp;#10;                     run_status     => v_run_status,&amp;#10;                     p_logit_text   => v_text&amp;#10;                     );&amp;#10;&#x9;&#x9;end if;&#x9;&amp;#10;&#x9;&#x9;IF v_text IS NOT  NULL THEN&amp;#10;  &#x9;   v_text:=  'תקופה-'||:wt_readings_blk.fiscal_year||'-'||:wt_readings_blk.period_num||chr(10) || chr(10) ||v_text; &#x9;     &amp;#10;  &#x9;   v_alert := DISPLAY_COMMENT('APP',1101,NULL,v_text,NULL,NULL);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9; v_alert := DISPLAY_COMMENT('APP',1113,NULL,NULL,NULL,NULL); &amp;#10;  &#x9;END IF;  &#x9;    &amp;#10;  &#x9;&amp;#10;&amp;#10;End;" DirtyInfo="true"/>
         </Item>
         <Item Name="KARAM_CITYMIND_BTN" Enabled="true" YPosition="10899" XPosition="19685" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" Prompt="" FontWeight="Bold" Label="מעבר למערכת הסיטימיינד" FontStyle="Plain" DirtyInfo="true" Width="4475" CanvasName="MAIN_CV_4" ParentType="29" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="declare&amp;#10;&#x9;v_alert varchar(100);&amp;#10;&#x9;v_login_karam_citymind varchar2(1);&amp;#10;&#x9;v_path varchar2(300);&amp;#10;begin&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;select code_value&amp;#10;&#x9;into v_login_karam_citymind&amp;#10;&#x9;from sr_code_values&amp;#10;&#x9;where code_name = 'login_karam_citymind';&amp;#10;&#x9;&amp;#10;&#x9;if v_login_karam_citymind = 'Y' then&amp;#10;&#x9;&#x9;if :wt_readings_blk.water_id is not null then&amp;#10;v_path:='https://www.city-mind.com/Pages/Meter/MeterCards.aspx?mid='||to_char(:wt_readings_blk.water_id);&amp;#10;&#x9;&amp;#10;&#x9;&#x9;insert_debug('chani_h v_path: '||v_path);&amp;#10;&#x9;&#x9;&#x9;web.show_document(v_path,'_blank');&amp;#10;&#x9;&#x9;else&amp;#10;&#x9;&#x9;&#x9;v_alert := display_comment('APP',444,null,'לא נמצא מד ',null,null);&amp;#10;&#x9;&#x9;end if;&#x9;&#x9;&#x9;&amp;#10;&#x9;end if;&#x9;&amp;#10;end;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="BTN_PRINT_IMAGE" YPosition="11583" XPosition="10504" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray" FontWeight="Bold" Label="הצג תמונה" TabPageName="" FontStyle="Plain" DirtyInfo="true" Width="2319" CanvasName="MAIN_CV_4" ParentType="29" Height="588">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="------rachely 10/10/2013  הוספת  כפתור הצג תמונה&amp;#10;--print_rep;&amp;#10;declare&amp;#10;  v_image_seq number;&#x9;&amp;#10;begin&amp;#10; /*&amp;#10;select image_seq&amp;#10;into v_image_seq&amp;#10;from wt_reading_images r&amp;#10;where r.reading_seq = :WT_READINGS_BLK.reading_seq;&amp;#10;&amp;#10;&amp;#10;*/&amp;#10;--tzvia 19/06/2014&amp;#10;--show_image;&amp;#10;images_pkg.main(to_char(:wt_readings_blk.stamp_cdate,'YYYY')||'/',:WT_READINGS_BLK.reading_seq);&amp;#10;end;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="QTY_ADD" RecordVisualAttributeGroupName="" YPosition="2659" XPosition="3784" AutoHint="true" LowestAllowedValue="" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="NUMBER_PC" BackColor="white" Prompt="תוספת/הפחתת כמות" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="1568" PromptAttachmentOffset="-465" PromptFontWeight="Demilight" PromptForegroundColor="black" PromptAlignOffset="-3624" CanvasName="ADD_CV" ParentType="29" PromptFontStyle="Plain" Height="489">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="if :CONTROL.QTY_ADD is not null then&amp;#10;&#x9;&#x9;set_item_property('CONTROL.REPAIR_REASON_ADD', VISUAL_ATTRIBUTE, 'VA_req_item');&amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="REPAIR_REASON_ADD" RecordVisualAttributeGroupName="" YPosition="3503" XPosition="1872" AutoHint="true" Hint="" DataType="Number" DistanceBetweenRecords="50" ReadingOrder="Right To Left" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_TEXT_ITEM_HEB_PC" BackColor="white" Prompt="סיבת תיקון" DirtyInfo="true" DatabaseItem="false" PromptFontSpacing="Normal" Width="708" PromptAttachmentOffset="141" PromptFontWeight="Demilight" CanvasName="ADD_CV" ParentType="29" PromptFontStyle="Plain" FormatMask="">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="declare&amp;#10;&#x9;v_alert number;&amp;#10;begin&#x9;&amp;#10;if :CONTROL.REPAIR_REASON_ADD is null then&amp;#10;&#x9; :CONTROL.DISP_REPAIR_REASON_ADD := null;&amp;#10;else&amp;#10;&#x9;begin&amp;#10;&#x9; SELECT REPAIR_REASON_DESC&amp;#10;&#x9; INTO   :CONTROL.DISP_REPAIR_REASON_ADD&amp;#10;   FROM WT_REPAIR_REASONS&amp;#10;   WHERE REPAIR_REASON_TYPE=1 and REPAIR_REASON_CODE=:CONTROL.REPAIR_REASON_ADD&amp;#10;   AND STAMP_ACTION !='D';&amp;#10;        &amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when others then&amp;#10;      v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :CONTROL.REPAIR_REASON_ADD:=null;&amp;#10;      :CONTROL.DISP_REPAIR_REASON_ADD:=null;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end ;&#x9;    &amp;#10;end if;   &amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="ADD" Enabled="true" YPosition="4651" XPosition="81" IconFilename="OK" AutoHint="true" NextNavigationItemName="ADD" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" Label="אישור" PreviousNavigationItemName="" DirtyInfo="true" Width="2739" CanvasName="ADD_CV" ParentType="29">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;&#x9; v_gauge_seq NUMBER;&amp;#10;&#x9; v_water_id wt_readings.water_id%type;&amp;#10;&#x9; v_fiscal_year NUMBER;&amp;#10;&#x9; v_period_num  NUMBER;&amp;#10;&#x9; v_reading_seq wt_readings.reading_seq%type;&amp;#10;&#x9; v_gauge_status_code wt_readings.gauge_status_code%type;&amp;#10;&#x9; v_reading wt_readings.reading%type:=0;&amp;#10;   v_previous_reading wt_readings.previous_reading%type:=0;&amp;#10;   v_reading_date wt_readings.reading_date%type;&amp;#10;   v_alert number;&amp;#10;BEGIN&amp;#10;  IF :CONTROL.qty_add IS NULL THEN&amp;#10;       hide_view('add_cv');&amp;#10;       hide_window('add_win');&amp;#10;       go_block('wt_readings_blk');&amp;#10;  ELSE&amp;#10;  &#x9;if :CONTROL.REPAIR_REASON_ADD is null then   &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',873,NULL,'סיבת תיקון',NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;  &#x9;end if;&amp;#10;  &#x9;&amp;#10;   go_block('WT_READINGS_BLK');&amp;#10;    Go_record(:parameter.curr_rec);&amp;#10;    v_gauge_seq:=:wt_readings_blk.gauge_seq;&amp;#10;    v_water_id:=:wt_readings_blk.water_id;&amp;#10;    v_fiscal_year:=:wt_readings_blk.fiscal_year;&amp;#10;    v_period_num :=:wt_readings_blk.period_num;&amp;#10;    v_reading_date:=:wt_readings_blk.reading_date;&amp;#10;   SELECT wt_reading_seq.nextval&amp;#10;   INTO   v_reading_seq&amp;#10;   FROM DUAL;&amp;#10;   &amp;#10;   /* gauge_status */&amp;#10;   BEGIN&amp;#10;     select GAUGE_STATUS_CODE&amp;#10;     into   v_gauge_status_code&amp;#10;     from   WT_GAUGES&amp;#10;     where  WATER_ID = :wt_readings_blk.water_id&amp;#10;       and  GAUGE_SEQ = :wt_readings_blk.gauge_seq&amp;#10;       and  DISASSEMBLE_DATE IS NULL;&amp;#10;   EXCEPTION&amp;#10;        when NO_DATA_FOUND then&amp;#10;             v_gauge_status_code:=null;&amp;#10;   END;&amp;#10;   insert into wt_readings (&amp;#10;           reading_seq,&amp;#10;           reading_type,&amp;#10;           fiscal_year,&amp;#10;           period_num,&amp;#10;           --reading_type_name,&amp;#10;           qty,&amp;#10;           gauge_status_code,&amp;#10;           gauge_seq,&amp;#10;           reading,&amp;#10;           previous_reading,&amp;#10;           reading_date,&amp;#10;           estimated_yn,&amp;#10;           stamp_user,&amp;#10;           stamp_action,&amp;#10;           stamp_date,&amp;#10;           stamp_cdate,&amp;#10;           water_id,&amp;#10;           repair_reason_code)&amp;#10;   values (v_reading_seq,&amp;#10;           :global.CORRECTION_READING,           &amp;#10;           --general_pkg.get_decode(:global.READING_TYPE,:wt_readings_blk.reading_type),&amp;#10;           v_fiscal_year,&amp;#10;           v_period_num, &amp;#10;           :CONTROL.qty_add,&amp;#10;           v_gauge_status_code,&amp;#10;           v_gauge_seq,&amp;#10;           v_reading,&amp;#10;           v_previous_reading,&amp;#10;           v_reading_date,&amp;#10;           'N',&amp;#10;           :global.user_name,&amp;#10;           'I',&amp;#10;           sysdate,&amp;#10;           sysdate,&amp;#10;           v_water_id,&amp;#10;           NVL(:CONTROL.REPAIR_REASON_ADD,''));&amp;#10;     &amp;#10;  :CONTROL.qty_add := NULL;&amp;#10;  :system.message_level:=5;&amp;#10;  commit;&amp;#10;  wt_readings_upd_pkg.get_retro_yn;&amp;#10;  :system.message_level:=0;&amp;#10;  EXecute_Query;&amp;#10;END If;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="DISP_REPAIR_REASON_ADD" YPosition="3440" XPosition="3175" DirtyInfo="true" Width="3254" ParentType="29" CanvasName="ADD_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR"/>
         <Item Name="ADD_READING" Enabled="false" YPosition="11641" XPosition="24380" IconFilename="tosefet" Iconic="false" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="תוספת" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" Width="1429" FontSize="1100" FontName="Arial" ParentType="29" CanvasName="MAIN_CV_4" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="begin&amp;#10;if :wt_readings_blk.reading_seq is not null then&amp;#10;&amp;#10;  IF :system.cursor_block !='WT_READINGS' THEN&amp;#10;     Go_Block('wt_readings_blk');&amp;#10;  END If;&amp;#10;  :parameter.curr_rec:=:system.cursor_record; --Miri 353677 26/02/18&amp;#10;  go_block('control');&amp;#10;&#x9;CLEAR_BLOCK(no_validate);&amp;#10;  &amp;#10;  &amp;#10;  :control.fiscal_year:=:wt_readings_blk.fiscal_year;&amp;#10;  :control.period_num :=:wt_readings_blk.period_num;&amp;#10;  &amp;#10;  show_view('add_cv');&amp;#10;  show_window('add_win');&amp;#10;  go_item('control.add');&amp;#10;end if;&amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT_ADD" YPosition="4651" Label="יציאה" XPosition="4944" DirtyInfo="true" AutoHint="true" ParentType="29" CanvasName="ADD_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_EXIT_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_alert NUMBER;&amp;#10;BEGIN&amp;#10;  IF :CONTROL.qty_add IS NULL THEN&amp;#10;        hide_view('add_cv');&amp;#10;        hide_window('add_win');&amp;#10;        go_block('wt_readings_blk');&amp;#10;        :CONTROL.qty_add := NULL;&amp;#10;  ELSE&amp;#10;     SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;     v_alert := DISPLAY_COMMENT('APP',1,NULL,NULL,NULL,NULL);&amp;#10;     IF (v_alert = ALERT_BUTTON1) THEN    -- Want To Save Changes&amp;#10;          GO_ITEM('CONTROL.ADD');&amp;#10;          EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');&amp;#10;      ELSE&amp;#10;        hide_view('add_cv');&amp;#10;        hide_window('add_win');&amp;#10;        go_block('wt_readings_blk');&amp;#10;        :CONTROL.qty_add := NULL;&amp;#10;     END IF;&amp;#10; END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT" YPosition="13081" XPosition="24368" Iconic="false" AutoHint="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_EXIT_PC" BackColor="metrogray1" FontWeight="Bold" Label="יציאה" TabPageName="" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="1429" FontSize="1100" FontName="Arial" ParentType="29" CanvasName="MAIN_CV_4" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="Exit_Form(NO_VALIDATE);" DirtyInfo="true"/>
         </Item>
         <Item Name="FISCAL_YEAR" Prompt="שנה" YPosition="899" XPosition="1401" DirtyInfo="true" Width="1402" PromptAttachmentOffset="606" ParentType="29" CanvasName="ADD_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUM_INT_COLOR_PC"/>
         <Item Name="PERIOD_NUM" YPosition="1761" XPosition="1441" PromptFontSize="1100" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_NUM_INT_COLOR_PC" Prompt="תקופה" DirtyInfo="true" PromptFontSpacing="Normal" Width="1402" PromptAttachmentOffset="276" PromptFontWeight="Medium" CanvasName="ADD_CV" ParentType="29" PromptFontStyle="Plain" PromptFontName="Arial"/>
         <Item Name="PRINT_WORK" Enabled="true" YPosition="12327" XPosition="15789" IconFilename="" Iconic="false" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_SMALL_TEXT_PC" BackColor="metrogray1" FontWeight="Bold" Label="יצירת פקודות עבודה" TabPageName="" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" Width="3702" FontSize="1100" FontName="Arial" ParentType="29" CanvasName="MAIN_CV_4" Height="640">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   IF sr_code_values_pkg.GET_varchar_VALUE('USING_WORK_COMMANDS') = 'N' THEN   &amp;#10;      CALL_PRINT_WORK_ORDER;&amp;#10;   ELSE&amp;#10;      Go_Block('WT_WORK_COMMAND_BLK');&amp;#10;      Clear_Block;&amp;#10;      :WT_WORK_COMMAND_BLK.WATER_ID    := :query.WATER_ID;&amp;#10;      :WT_WORK_COMMAND_BLK.GAUGE_ID    := :wt_readings_blk.GAUGE_ID;&amp;#10;      :WT_WORK_COMMAND_BLK.FISCAL_YEAR := :wt_readings_blk.FISCAL_YEAR;&amp;#10;      :WT_WORK_COMMAND_BLK.PERIOD_NUM  := :wt_readings_blk.PERIOD_NUM;&amp;#10;      --tzvia 08/2015&amp;#10;      --CALL_FORM('WT_WORK_COMMANDS', NO_HIDE, NO_REPLACE, NO_QUERY_ONLY );&amp;#10;   END IF;&amp;#10;END IF;&amp;#10; &amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="BTN_REASON_ADD" YPosition="3450" Label="PUSH_BUTTON451" XPosition="2674" DirtyInfo="true" Width="450" ParentType="29" CanvasName="ADD_CV" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LOV_PC">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_REPAIR_REASON_ADD');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
      </Block>
      <Block Name="NEW_WATER_ID" ScrollbarTabPageName="" RecordsDisplayCount="1" ScrollbarYPosition="32" ShowScrollbar="false" DirtyInfo="true" ScrollbarCanvasName="NEW_WATER_ID_CV" NavigationStyle="Same Record" ScrollbarWidth="413" ScrollbarXPosition="14554" ScrollbarLength="3916" LockMode="Delayed" UpdateChangedColumns="true">
         <Item Name="READING_SOURCE" MaximumLength="6" DirtyInfo="true" Width="2381" DataType="Number" Height="476"/>
         <Item Name="READING_TYPE" DirtyInfo="true" Width="2381" DataType="Number" Height="476"/>
         <Item Name="FISCAL_YEAR" RecordVisualAttributeGroupName="" MaximumLength="4" YPosition="1486" XPosition="2630" Hint="Mandatory" DistanceBetweenRecords="50" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_NUM_INT_PC" Prompt="שנה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="1217" PromptAttachmentOffset="1758" PromptFontWeight="Medium" PromptAlignOffset="-3" CanvasName="NEW_WATER_ID_CV" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;&#x9;v_alert NUMBER;&amp;#10;&#x9;v_period NUMBER;&amp;#10;&#x9;v_check NUMBER;&amp;#10;&#x9; v_open_fiscal_year number;&amp;#10;  v_open_period_num number;&amp;#10;  &#x9; v_status varcHAR2(100);&amp;#10;BEGIN&amp;#10;&#x9;/* בדיקה האם כבר קיימת חיושב תקופתית לתקופה זו */&amp;#10;&amp;#10;---hodaya&amp;#10;&amp;#10;BEGIN&amp;#10;&#x9;IF :NEW_WATER_ID.FISCAL_YEAR IS NOT NULL THEN &amp;#10;&#x9;SELECT 1--count(*)&amp;#10;&#x9;INTO v_check&amp;#10;&#x9;FROM /*RM_FISCAL_YEARS*/rm_serv_region_codes sr, wt_net t&amp;#10;&#x9;WHERE sr.SUBJ_CODE = :GLOBAL.OBJ_SUBJ_CODE&amp;#10; &#x9;&#x9;AND sr.SERV_CODE = :GLOBAL.WATER_SERV_CODE&amp;#10; &#x9;&#x9;AND (FISCAL_YEAR=:NEW_WATER_ID.FISCAL_YEAR&amp;#10; &#x9;&#x9;or FISCAL_YEAR>:NEW_WATER_ID.FISCAL_YEAR)&amp;#10; &#x9;&#x9;and  t.region_code=sr.region_code &amp;#10;&#x9; &#x9;and t.water_id= :GLOBAL.WATER_id;&amp;#10;&amp;#10;/*&#x9;&#x9;&amp;#10;SELECT 1--count(*)&amp;#10;INTO v_check&amp;#10;FROM /*RM_FISCAL_YEARS*//*rm_serv_region_codes&amp;#10;WHERE SUBJ_CODE = :GLOBAL.OBJ_SUBJ_CODE&amp;#10;AND SERV_CODE = :GLOBAL.WATER_SERV_CODE&amp;#10;AND FISCAL_YEAR=:NEW_WATER_ID.FISCAL_YEAR&amp;#10;*/&amp;#10; &#x9;&#x9;&amp;#10; &#x9;END IF;&amp;#10; &#x9;&#x9;&amp;#10;EXCEPTION&amp;#10;when no_data_found then&amp;#10;         &#x9; v_alert := DISPLAY_COMMENT('APP',444,NULL,'שנה זו אינה קיימת במערכת',NULL,NULL);&amp;#10;&#x9;&#x9;:NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;when too_many_rows then null;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;--&#x9;message('1sqlerrm-'||sqlerrm);&amp;#10;--  message('1sqlerrm-'||sqlerrm);&amp;#10;--&#x9;v_alert := DISPLAY_COMMENT('APP',50401,NULL,substr(:parameter.P_LAST_PERIOD,5,2), NULL)||'.'||substr(:parameter.P_LAST_PERIOD,0,4);&#x9;&amp;#10;&#x9;&#x9;v_alert:=DISPLAY_COMMENT('APP',50089,NULL,NULL,NULL);&amp;#10;&#x9;&#x9;:NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;&amp;#10;---שליפה של הקריאה הנוכחית בתקופה הקודמת&amp;#10; IF :new_water_id.period_num IS NOT NULL AND :NEW_WATER_ID.FISCAL_YEAR IS NOT NULL  THEN&amp;#10; &#x9;t.p('2');&amp;#10;&#x9;&#x9; &#x9;&#x9;:NEW_WATER_ID.PREVIOUS_READING:=VALIDATE_NEW_READING.VALIDATE_PREV_QTY;&amp;#10; END IF;&amp;#10; &amp;#10; &amp;#10; &amp;#10;---&amp;#10;/*IF :NEW_WATER_ID.FISCAL_YEAR IS NOT NULL and :NEW_WATER_ID.PERIOD_NUM is not null THEN &amp;#10;  begin&amp;#10;  &#x9;select  1&amp;#10;  &#x9;into   v_period&amp;#10;  &#x9;from   WT_PERIODIC&amp;#10;  &#x9;where  WATER_ID = :query.WATER_ID&amp;#10;  &#x9;  and  FISCAL_YEAR = :new_water_id.FISCAL_YEAR&amp;#10;  &#x9;  and  PERIOD_NUM = :new_water_id.PERIOD_NUM;&amp;#10; &amp;#10;    v_alert := DISPLAY_COMMENT('APP',724,NULL,NULL, NULL,NULL);&#x9;&amp;#10;    :new_water_id.FISCAL_YEAR:=null;&amp;#10;  &#x9;:new_water_id.PERIOD_NUM:=null;&amp;#10;&amp;#10;  &#x9;:new_water_id.reading_date:=null;&amp;#10;  &amp;#10;    :NEW_WATER_ID.PREVIOUS_READING:=NULL;&amp;#10;    :NEW_WATER_ID.reading:=NULL;&amp;#10;    :NEW_WATER_ID.GAUGE_STATUS_CODE:=NULL;&amp;#10;    :NEW_WATER_ID.GAUGE_STATUS_DESC:=NULL;&amp;#10;    raise FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10;&amp;#10;EXCEPTION&amp;#10;/*&#x9;when no_data_found then&amp;#10;message('2sqlerrm-'||sqlerrm);&amp;#10;message('2sqlerrm-'||sqlerrm);*/&amp;#10;  --&#x9;when OTHERS  then null;&amp;#10;  &#x9;--NO_DATA_FOUND&amp;#10;&amp;#10;IF   :new_water_id.FISCAL_YEAR IS NOT NULL AND&amp;#10;:new_water_id.PERIOD_NUM IS NOT NULL &amp;#10;THEN&#x9;    &amp;#10;&#x9;-- נסיון להכניס תקופה, שעדדין לא הורץ עליה תקופתי&amp;#10;IF to_number(:new_water_id.FISCAL_YEAR||lpad(:new_water_id.PERIOD_NUM, 2, '0')) >= :parameter.P_LAST_PERIOD THEN&amp;#10;&#x9;v_alert := DISPLAY_COMMENT('APP',728,NULL,NULL, NULL,NULL);&#x9;&amp;#10;&#x9;:new_water_id.FISCAL_YEAR:=null;&amp;#10;&#x9;:new_water_id.PERIOD_NUM:=null;&amp;#10;&#x9;raise FORM_TRIGGER_FAILURE;&amp;#10;END IF;&amp;#10;&amp;#10; /*brachi add 022015*/&amp;#10;&amp;#10;&#x9;begin&amp;#10;&#x9;select 1&amp;#10;&#x9;into v_check&amp;#10;  from wt_readings&amp;#10;   where period_num=:NEW_WATER_ID.period_num&amp;#10;   and fiscal_year=:NEW_WATER_ID.fiscal_year&amp;#10;   and reading_type=1&amp;#10;   and water_id=:wt_readings_blk.water_id;&amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when no_data_found then null;&amp;#10;&#x9;&#x9;when others then message(sqlerrm||'sqlrrrm_period');message(sqlerrm||'sqlrrrm_period');&amp;#10;&#x9;end;&amp;#10;  if v_check=1 then &amp;#10;  &#x9; v_alert := DISPLAY_COMMENT('APP',444,' לא ניתן להוסיף קריאה עבור תקופה שכבר קיימת עבורה קריאה תקופתית', 'לא ניתן להוסיף קריאה עבור תקופה שכבר קיימת עבורה קריאה תקופתית'  ,NULL);  &#x9;&amp;#10;       :new_water_id.period_num:=NULL;&amp;#10;       :new_water_id.fiscal_year:=NULL;&amp;#10;       raise FORM_TRIGGER_FAILURE;&amp;#10;  end if;&amp;#10;  &amp;#10;  wt_run_retro_pkg.GET_YEAR_PERIOD (:global.obj_subj_code,&amp;#10;                                       :global.water_serv_code,&amp;#10;                                       :wt_readings_blk.water_id ,&amp;#10;                                       v_open_fiscal_year,&amp;#10;                                   v_open_period_num,&amp;#10;                                   v_STATUS);&amp;#10;&amp;#10; IF &amp;#10; &#x9; to_number(:NEW_WATER_ID.fiscal_year||:NEW_WATER_ID.period_num) >to_number(v_open_fiscal_year||v_open_period_num) /*or to_number(v_open_fiscal_year||v_open_period_num )is null*/ THEN&amp;#10; &#x9; v_alert := DISPLAY_COMMENT('APP',444,'לא ניתן להוסיף קריאה לתקופה הגדולה מהתקופה הפתוחה במערכת','לא ניתן להוסיף קריאה לתקופה הגדולה מתקופה הפתוחה במערכת',NULL,NULL);       &amp;#10;   :NEW_WATER_ID.period_num:=null;&amp;#10; end if;&amp;#10;&amp;#10; /*brachi end*/&amp;#10;--end;&amp;#10;--END IF;&amp;#10;/*IF :NEW_WATER_ID.FISCAL_YEAR IS NULL THEN&amp;#10;&#x9;Set_Item_Property('NEW_WATER_ID.ESTIMATED_YN', ENABLED, PROPERTY_FALSE);&amp;#10;ELSE&amp;#10;&#x9;Set_Item_Property('NEW_WATER_ID.ESTIMATED_YN',  ENABLED, PROPERTY_TRUE);&amp;#10;END IF;  */&amp;#10;&amp;#10;end if;&amp;#10;eND ; " DirtyInfo="true"/>
         </Item>
         <Item Name="PERIOD_NUM" RecordVisualAttributeGroupName="" YPosition="2522" XPosition="2656" Hint="Mandatory" DistanceBetweenRecords="50" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_NUM_INT_PC" Prompt="תקופה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="1244" PromptAttachmentOffset="1413" PromptFontWeight="Medium" PromptAlignOffset="76" CanvasName="NEW_WATER_ID_CV" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="&#x9;-------------------------------------------&amp;#10;&#x9;DECLARe&amp;#10;&#x9; v_alert  NUMBER;&amp;#10;&#x9; v_period NUMBER:=0;&amp;#10;&#x9; p_reading NUMBER;&amp;#10;&#x9; v_check number;&amp;#10;&#x9; v_open_fiscal_year number;&amp;#10;&#x9; v_open_period_num number;&amp;#10;&#x9; v_status varcHAR(3);&amp;#10;&#x9; &amp;#10;&#x9;&#x9;-- בדיקה האם תקופה קיימת&amp;#10;begin&amp;#10;IF :new_water_id.period_num IS NOT NULL THEN&amp;#10;&#x9;begin&amp;#10;&amp;#10;&amp;#10; select 1&amp;#10;&#x9;   into   v_period&amp;#10;&#x9;   from   RM_PERIODS&amp;#10;&#x9;   where  subj_code = :global.obj_subj_code&amp;#10;&#x9;     and  serv_code = :global.water_serv_code&amp;#10;&#x9;     and  debit_code = 0&amp;#10;&#x9;     and  period_num =:new_water_id.period_num&amp;#10;&#x9;     and  (region_code is null OR region_code=NVL(:PARAMETER.P_REGION, -1));&amp;#10;&amp;#10;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;when NO_DATA_FOUND then&amp;#10;&amp;#10;       v_alert := DISPLAY_COMMENT('APP',50088,NULL,NULL,NULL);  &#x9;&amp;#10;       :new_water_id.period_num:=NULL;&amp;#10;       raise FORM_TRIGGER_FAILURE;&amp;#10;  when others then&amp;#10;   null;&amp;#10;&amp;#10;end;&amp;#10;END IF;&amp;#10;&amp;#10;/*brachi add 022015*/&amp;#10;if :NEW_WATER_ID.period_num is not null and :NEW_WATER_ID.FISCAL_YEAR is not null then&amp;#10;&#x9;begin&amp;#10;&#x9;select 1&amp;#10;&#x9;into v_check&amp;#10;  from wt_readings&amp;#10;   where period_num=:NEW_WATER_ID.period_num&amp;#10;   and fiscal_year=:NEW_WATER_ID.fiscal_year&amp;#10;   and reading_type=1&amp;#10;   and water_id=:wt_readings_blk.water_id;&amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when no_data_found then null;&amp;#10;&#x9;&#x9;when others then message(sqlerrm||'sqlrrrm_period');message(sqlerrm||'sqlrrrm_period');&amp;#10;&#x9;end;&amp;#10;  if v_check=1 then &amp;#10;  &#x9; v_alert := DISPLAY_COMMENT('APP',444,' לא ניתן להוסיף קריאה עבור תקופה שכבר קיימת עבורה קריאה תקופתית', 'לא ניתן להוסיף קריאה עבור תקופה שכבר קיימת עבורה קריאה תקופתית'  ,NULL);  &#x9;&amp;#10;       :new_water_id.period_num:=NULL;&amp;#10;       :new_water_id.fiscal_year:=NULL;&amp;#10;       raise FORM_TRIGGER_FAILURE;&amp;#10;  end if;&amp;#10;  &amp;#10;  wt_run_retro_pkg.GET_YEAR_PERIOD (:global.obj_subj_code,&amp;#10;                                       :global.water_serv_code,&amp;#10;                                       :wt_readings_blk.water_id ,&amp;#10;                                       v_open_fiscal_year,&amp;#10;                                   v_open_period_num,&amp;#10;                                   v_status);&amp;#10;&amp;#10; IF &amp;#10; &#x9; to_number(:NEW_WATER_ID.fiscal_year||:NEW_WATER_ID.period_num) >to_number(v_open_fiscal_year||v_open_period_num) /*or to_number(v_open_fiscal_year||v_open_period_num )is null*/ THEN&amp;#10; &#x9; v_alert := DISPLAY_COMMENT('APP',444,'לא ניתן להוסיף קריאה לתקופה הגדולה מהתקופה הפתוחה במערכת','לא ניתן להוסיף קריאה לתקופה הגדולה מהתקופה הפתוחה לאותו אזור',NULL,NULL);       &amp;#10;   :NEW_WATER_ID.period_num:=null;&amp;#10; end if;&amp;#10; end if;&amp;#10;/*brachi end*/&amp;#10; /* IF :new_water_id.period_num IS NOT NULL AND :NEW_WATER_ID.FISCAL_YEAR IS NOT NULL  THEN&amp;#10; &amp;#10;  &#x9;p_reading:=VALIDATE_NEW_READING.VALIDATE_PREV_QTY;&amp;#10;&amp;#10;  &#x9;IF p_reading=-1 THEN&amp;#10;&amp;#10;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;  &#x9;&#x9;--אין תקופה קודמת&amp;#10;  &#x9;ELSE&amp;#10;  &#x9;&#x9;-- MESSAGE(3);MESSAGE(3);&amp;#10;  &#x9;&#x9;:NEW_WATER_ID.PREVIOUS_READING:=p_reading;&amp;#10;  &#x9;END IF;  &#x9;*/&amp;#10;&amp;#10;&amp;#10;  /* בדיקה האם כבר קיימת חיושב תקופתית לתקופה זו */&amp;#10;/*  BEGIN&amp;#10; --MESSAGE(3);MESSAGE(3);&amp;#10;    &amp;#10;                         &amp;#10;  &#x9;select 1&amp;#10;  &#x9;into   v_period&amp;#10;  &#x9;from   WT_PERIODIC&amp;#10;  &#x9;where  WATER_ID = :query.WATER_ID&amp;#10;  &#x9;  and  FISCAL_YEAR = :new_water_id.FISCAL_YEAR&amp;#10;  &#x9;  and  PERIOD_NUM = :new_water_id.PERIOD_NUM;&amp;#10; -- MESSAGE(4);MESSAGE(4);&amp;#10;    v_alert := DISPLAY_COMMENT('APP',724,NULL,NULL, NULL,NULL);&#x9;&amp;#10;    :new_water_id.FISCAL_YEAR:=null;&amp;#10;  &#x9;:new_water_id.PERIOD_NUM:=null;&amp;#10;  &#x9;:new_water_id.reading_date:=null;&amp;#10;  &#x9;:NEW_WATER_ID.PREVIOUS_READING:=NULL;&amp;#10;  &#x9; :NEW_WATER_ID.GAUGE_STATUS_CODE:=NULL;&amp;#10;    :NEW_WATER_ID.GAUGE_STATUS_DESC:=NULL;&amp;#10;   --  MESSAGE(5);MESSAGE(5); &amp;#10;    raise FORM_TRIGGER_FAILURE;&amp;#10;  /*EXCEPTION&amp;#10;  &amp;#10;  &#x9;when NO_DATA_FOUND then&amp;#10; &#x9;  message('6sqlerrm-'||sqlerrm);&amp;#10; &#x9;  message('6sqlerrm-'||sqlerrm);*/&amp;#10;  /*&#x9;IF   :new_water_id.FISCAL_YEAR IS NOT NULL AND&amp;#10;  &#x9;     :new_water_id.PERIOD_NUM IS NOT NULL &amp;#10;  &#x9;THEN&#x9;    &amp;#10;  &#x9;     -- נסיון להכניס תקופה, שעדין לא הורץ עליה תקופתי&amp;#10;  &#x9;     IF to_number(:new_water_id.FISCAL_YEAR||lpad(:new_water_id.PERIOD_NUM, 2, '0')) > :parameter.P_LAST_PERIOD THEN&amp;#10;  &#x9;      --   MESSAGE(7);MESSAGE(7);&amp;#10;  &#x9;        --MESSAGE(substr(:parameter.P_LAST_PERIOD,0,4)||':parameter.P_LAST_PERIOD');&amp;#10;  &#x9;          v_alert := DISPLAY_COMMENT('APP',,NULL,substr(:parameter.P_LAST_PERIOD,5,2)||'.'||substr(:parameter.P_LAST_PERIOD,0,4), NULL);&#x9;&amp;#10;  &#x9;          :new_water_id.FISCAL_YEAR:=null;&amp;#10;  &#x9;          :new_water_id.PERIOD_NUM:=null;&amp;#10;  &#x9;          :NEW_WATER_ID.PREVIOUS_READING:=NULL;&amp;#10;  &#x9;          :NEW_WATER_ID.GAUGE_STATUS_CODE:=NULL;&amp;#10;    &#x9;&#x9;&#x9;&#x9;&#x9;:NEW_WATER_ID.GAUGE_STATUS_DESC:=NULL;&amp;#10;    &#x9;&#x9;&#x9;&#x9;--&#x9; MESSAGE(8);MESSAGE(8); &amp;#10;              raise FORM_TRIGGER_FAILURE;&amp;#10;  &#x9;        END IF;&amp;#10;  &#x9;     END IF;   &amp;#10; -- END ;*&amp;#10;    --END IF;&amp;#10;&amp;#10;&#x9;&amp;#10;  when others then&amp;#10;       null;&amp;#10;       end;*/&amp;#10;&amp;#10;&#x9;  &amp;#10;      --v_alert := DISPLAY_COMMENT('APP',50088,NULL,NULL,NULL);  &#x9;&amp;#10;      -- :new_water_id.period_num:=NULL;&amp;#10;       --raise FORM_TRIGGER_FAILURE;&amp;#10;END;&amp;#10;&#x9;    " DirtyInfo="true"/>
         </Item>
         <Item Name="READING_DATE" RecordVisualAttributeGroupName="" YPosition="3570" XPosition="2604" DistanceBetweenRecords="50" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_REQ_YYYY_CAL_PC" Prompt="תאריך קריאה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Roman" PromptAttachmentOffset="-596" PromptAlign="Start" PromptFontWeight="Medium" PromptAlignOffset="-2393" PromptForegroundColor="black" CanvasName="NEW_WATER_ID_CV" ParentType="29" PromptFontStyle="Plain" CaseRestriction="Upper">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="DECLARE&amp;#10;&amp;#10;    -- DATE FORMAT used in the CALENDAR form ...&amp;#10;    SYS_DATE_FORMAT_ CONSTANT VARCHAR2(12) := 'DD/MM/YYYY';&amp;#10;&amp;#10;    -- standard DATE FORMAT ...&amp;#10;    STD_DATE_FORMAT_ CONSTANT VARCHAR2(12) := 'DD/MON/YYYY';&amp;#10;&amp;#10;    -- standard constant for numbers for DAYS OF THE WEEK ...&amp;#10;    WD_SUNDAY    CONSTANT VARCHAR2(1) := '1';&amp;#10;    WD_MONDAY    CONSTANT VARCHAR2(1) := '2';&amp;#10;    WD_TUESDAY   CONSTANT VARCHAR2(1) := '3';&amp;#10;    WD_WEDNESDAY CONSTANT VARCHAR2(1) := '4';&amp;#10;    WD_THURSDAY  CONSTANT VARCHAR2(1) := '5';&amp;#10;    WD_FRIDAY    CONSTANT VARCHAR2(1) := '6';&amp;#10;    WD_SATURDAY  CONSTANT VARCHAR2(1) := '7';&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;    -- SET THIS VARIABLE TO THE DEFAULT HOLIDAY ... IF THIS IS NOT SET OR IF IT CONTAINS&amp;#10;    -- AN INVALID VALUE, THE DEFAULT VALUE WD_FRIDAY WILL BE USED ...&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    -- this variable defines the day of the week which is the default HOLIDAY ...&amp;#10;    cDefHoliday  VARCHAR2(1) := WD_SATURDAY;&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    cCurItem      VARCHAR2(64);  &#x9;/* item which triggered the double click event&#x9;*/&amp;#10;    cCurValue     VARCHAR2(64);  &#x9;/* value contained in SYSTEM.TRIGGER_ITEM&#x9;      */&amp;#10;    cWinPos       VARCHAR2(32);&#x9;/* variable to store the ITEMS co-ordinates&#x9;*/&amp;#10;    cDefDate      VARCHAR2(16);&#x9;/* DEFAULT DATE ie sysdate&#x9;&#x9;&#x9;      */&amp;#10;&amp;#10;    plParamList   PARAMLIST;&#x9;&#x9;/* parameter list for the form CAL2000&#x9;&#x9;*/&amp;#10;    plListName    VARCHAR2(16);&#x9;/* name of the parameter list&#x9;&#x9;&#x9;      */&amp;#10;    bParameters&#x9;BOOLEAN := TRUE;&#x9;/* whether a valid parameter has been specified */&amp;#10;&amp;#10;    cCalendarForm VARCHAR2(30) := 'CAL_OBJ_YYYY';   /* name of the CALENDAR FORM&#x9;*/&amp;#10;&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;    -- Function to get the operating system date ...&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;    /*FUNCTION GET_SYSDATE RETURN DATE IS&amp;#10;    BEGIN&amp;#10;       RETURN (TO_DATE( :SYSTEM.CURRENT_DATETIME, 'DD-MON-YYYY HH24:MI:SS' ));&amp;#10;    EXCEPTION&amp;#10;       WHEN OTHERS THEN&amp;#10;            RETURN (NULL);&amp;#10;    END GET_SYSDATE;*/&amp;#10;    -- ---------------------------------------------------------------------------------&amp;#10;&amp;#10;BEGIN&amp;#10;    -- get the name of the item where the MOUSE DOUBLECLICK event occurred ...&amp;#10;    cCurItem := :SYSTEM.TRIGGER_ITEM;&amp;#10;&amp;#10;    -- if it is NOT A DATE field then that's it ...&amp;#10;    IF GET_ITEM_PROPERTY(cCurItem, DATATYPE) &lt;> 'DATE' THEN&amp;#10;       RETURN;&amp;#10;    END IF;&amp;#10;&amp;#10;    -- clear the console and get the current value in the date field ...&amp;#10;    CLEAR_MESSAGE;&amp;#10;    cDefDate  := TO_CHAR(GENERAL_PKG.GET_SYSDATE, SYS_DATE_FORMAT_ );&amp;#10;    cCurValue := NVL( SUBSTR(NAME_IN(cCurItem),1,64), cDefDate );&amp;#10;&amp;#10;    -- if the date format reverts to DD-MON-YY (?!!), set it right ...&amp;#10;    IF INSTR(cCurValue, '-', 1) &lt;> 0 THEN&amp;#10;       BEGIN&amp;#10;           cCurValue := TO_CHAR(TO_DATE(cCurValue,STD_DATE_FORMAT_),SYS_DATE_FORMAT_);&amp;#10;       EXCEPTION&amp;#10;           WHEN OTHERS THEN cCurValue := cDefDate;&amp;#10;       END;&amp;#10;    END IF;&amp;#10;&amp;#10;    -- set the global variable :GLOBAL.LABOLG_ETAD_ ...&amp;#10;    :GLOBAL.LABOLG_ETAD_ := cCurValue;&amp;#10;&amp;#10;    -- save the ITEM position in the GLOBAL variable ...&amp;#10;    cWinPos := LPAD(GET_ITEM_PROPERTY(cCurItem,X_POS),7,'0')||&amp;#10;               LPAD(GET_ITEM_PROPERTY(cCurItem,Y_POS),7,'0');&amp;#10;    :GLOBAL.WODNIW_SOP_ := cWinPos;&amp;#10;&amp;#10;    -- create a parameter list ...&amp;#10;    plListName  := 'PL_CAL2000_';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;    if not ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    end if;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    -- add the parameter 'HOLIDAY' with the value cDefHoliday ...&amp;#10;    if ID_NULL(plParamList) then&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;    else&amp;#10;       ADD_PARAMETER(plParamList, 'HOLIDAY', TEXT_PARAMETER, cDefHoliday );&amp;#10;    end if;&amp;#10;&amp;#10;    -- invoke the calendar with or without the PARAMETERS ...&amp;#10;    IF bParameters THEN&amp;#10;       CALL_FORM(cCalendarForm, NO_HIDE, NO_REPLACE, NO_QUERY_ONLY, plParamList );&amp;#10;    ELSE&amp;#10;       CALL_FORM(cCalendarForm, NO_HIDE );&amp;#10;    END IF;&amp;#10;&amp;#10;    -- if there is a value in :GLOBAL.LABOLG_ETAD_, copy it back &amp;#10;    -- CONVERT the date value to the STANDARD format before copying ....&amp;#10;    IF :GLOBAL.LABOLG_ETAD_ IS NOT NULL THEN&amp;#10;       cCurValue := LTRIM(RTRIM(:GLOBAL.LABOLG_ETAD_));&amp;#10;       cCurValue := to_char(to_date(cCurValue,SYS_DATE_FORMAT_),STD_DATE_FORMAT_);&amp;#10;       COPY ( cCurValue, cCurItem );&amp;#10;    END IF;&amp;#10;&amp;#10;    -- clear all the global variables ...&amp;#10;    ERASE('GLOBAL.LABOLG_ETAD_');&amp;#10;    ERASE('GLOBAL.WODNIW_SOP_');&amp;#10;END;" DirtyInfo="true"/>
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="/* Formatted on 25/08/2019 14:20:02 (QP5 v5.300) */&amp;#10;DECLARE&amp;#10;    V_ALERT       NUMBER;&amp;#10;    P_READING     NUMBER;&amp;#10;    MAX_DATE      DATE;&amp;#10;    V_CHECK       NUMBER;&amp;#10;    V_IND         NUMBER;&amp;#10;    MAX_READING   DATE;&amp;#10;    MIN_READING   DATE;&amp;#10;    V_P           NUMBER;&amp;#10;BEGIN&amp;#10;    --------------&amp;#10;--Adi add 08/19 crm 403192&amp;#10;    SELECT COUNT (*)&amp;#10;      INTO V_IND&amp;#10;      FROM WT_GAUGES&amp;#10;     WHERE     1 = 1&amp;#10;           AND WATER_ID = :QUERY.WATER_ID&amp;#10;           AND (   (    DISASSEMBLE_DATE >= :NEW_WATER_ID.READING_DATE&amp;#10;                    AND INSTALL_DATE &lt;= :NEW_WATER_ID.READING_DATE)&amp;#10;                OR (    DISASSEMBLE_DATE IS NULL&amp;#10;                    AND INSTALL_DATE &lt;= :NEW_WATER_ID.READING_DATE));&amp;#10;&amp;#10;    IF V_IND > 1&amp;#10;    THEN&amp;#10;        V_ALERT :=&amp;#10;            DISPLAY_COMMENT (&amp;#10;                'APP',&amp;#10;                444,&amp;#10;                NULL,&amp;#10;                'יש להזין תאריך קריאה שונה מתאריך החלפת המד',&amp;#10;                NULL,&amp;#10;                NULL);&amp;#10;        :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;        RAISE FORM_TRIGGER_FAILURE;&amp;#10;    END IF;&amp;#10;--end Adi add 08/19 crm 403192&amp;#10;&amp;#10;&amp;#10;    P_READING := VALIDATE_NEW_READING.VALIDATE_PREV_QTY;&amp;#10;&amp;#10;    --message('p-reading-'||p_reading);message('p-reading-'||p_reading);&amp;#10;&amp;#10;    IF     :NEW_WATER_ID.PERIOD_NUM IS NOT NULL&amp;#10;       AND :NEW_WATER_ID.FISCAL_YEAR IS NOT NULL&amp;#10;    THEN&amp;#10;        --&amp;#10;        /*if p_reading=null&amp;#10;         then&amp;#10;         :nEW_WATER_ID.PREVIOUS_READING:=0;&amp;#10;         end if;*/&amp;#10;        IF P_READING = -1&amp;#10;        THEN&amp;#10;            RAISE FORM_TRIGGER_FAILURE;&amp;#10;        --אין תקופה קודמת&amp;#10;        ELSE&amp;#10;            --  MESSAGE(3);MESSAGE(3);&amp;#10;            :NEW_WATER_ID.PREVIOUS_READING := P_READING;&amp;#10;        --  message(':new_water_id.PREVIOUS_READING-2'|| :new_water_id.PREVIOUS_READING);&amp;#10;        --  message(':new_water_id.PREVIOUS_READING-2'|| :new_water_id.PREVIOUS_READING);&amp;#10;        --19&amp;#10;        END IF;&amp;#10;    -- END IF;&amp;#10;    END IF;&amp;#10;&amp;#10;    ------בדיקת תקינות תאריך קריאה-ברכי&amp;#10;    IF :NEW_WATER_ID.READING_DATE IS NOT NULL&amp;#10;    THEN&amp;#10;        IF :NEW_WATER_ID.READING_DATE > SYSDATE&amp;#10;        THEN&amp;#10;            SET_APPLICATION_PROPERTY (CURSOR_STYLE, 'DEFAULT');&amp;#10;            V_ALERT :=&amp;#10;                DISPLAY_COMMENT ('APP',&amp;#10;                                 50464,&amp;#10;                                 NULL,&amp;#10;                                 NULL,&amp;#10;                                 NULL,&amp;#10;                                 NULL);&amp;#10;            :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;            --go_item(':NEW_WATER_ID.READING_DATE');&amp;#10;            RAISE FORM_TRIGGER_FAILURE;&amp;#10;        ELSE&amp;#10;            /*message(':parameter.P_READING_DATE'||:parameter.P_READING_DATE);&amp;#10;            message(':parameter.P_READING_DATE'||:parameter.P_READING_DATE);&amp;#10;            if (:NEW_WATER_ID.READING_DATE &lt; :WT_READINGS_BLK.reading_date) or&amp;#10;             (:NEW_WATER_ID.READING_DATE > :parameter.P_READING_DATE)&amp;#10;             then&amp;#10;               SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;                v_alert := DISPLAY_COMMENT('APP',50450,NULL,null,NULL,NULL);&amp;#10;                :NEW_WATER_ID.READING_DATE:=null;&amp;#10;            end if;*/&amp;#10;            BEGIN&amp;#10;                  -- message(0); message(0);--55&amp;#10;                  SELECT MAX (READING_DATE)&amp;#10;                    INTO MAX_READING&amp;#10;                    FROM WT_READINGS&amp;#10;                   WHERE     FISCAL_YEAR &lt;= :NEW_WATER_ID.FISCAL_YEAR&amp;#10;                         AND (   (    FISCAL_YEAR = :NEW_WATER_ID.FISCAL_YEAR&amp;#10;                                  AND PERIOD_NUM &lt;= :NEW_WATER_ID.PERIOD_NUM)&amp;#10;                              OR FISCAL_YEAR &lt; :NEW_WATER_ID.FISCAL_YEAR)&amp;#10;                         AND WATER_ID = :QUERY.WATER_ID&amp;#10;                ORDER BY FISCAL_YEAR DESC, PERIOD_NUM DESC;&amp;#10;            --message('max_reading:'||max_reading);message('max_reading:'||max_reading);&amp;#10;            EXCEPTION&amp;#10;                WHEN OTHERS&amp;#10;                THEN&amp;#10;                    NULL;&amp;#10;            END;&amp;#10;&amp;#10;            BEGIN&amp;#10;                  SELECT MIN (READING_DATE)&amp;#10;                    INTO MIN_READING&amp;#10;                    FROM WT_READINGS&amp;#10;                   WHERE     FISCAL_YEAR >= :NEW_WATER_ID.FISCAL_YEAR&amp;#10;                         AND (   (    FISCAL_YEAR = :NEW_WATER_ID.FISCAL_YEAR&amp;#10;                                  AND :NEW_WATER_ID.PERIOD_NUM &lt; PERIOD_NUM)&amp;#10;                              OR FISCAL_YEAR > :NEW_WATER_ID.FISCAL_YEAR)&amp;#10;                         AND WATER_ID = :QUERY.WATER_ID&amp;#10;                ORDER BY FISCAL_YEAR DESC, PERIOD_NUM DESC;&amp;#10;            --message('min_reading:'||min_reading);--0704&amp;#10;            --message('min_reading:'||min_reading);--0704&amp;#10;            EXCEPTION&amp;#10;                WHEN OTHERS&amp;#10;                THEN&amp;#10;                    NULL;&amp;#10;            END;&amp;#10;        --  if :NEW_WATER_ID.READING_DATE = max_reading&amp;#10;        --then message(2); message(2);&amp;#10;        END IF;&amp;#10;    END IF;&amp;#10;&amp;#10;    IF    (    MAX_READING = MIN_READING&amp;#10;           AND :NEW_WATER_ID.READING_DATE &lt; MIN_READING)&amp;#10;       OR (       MAX_READING &lt; MIN_READING&amp;#10;              AND ( (:NEW_WATER_ID.READING_DATE &lt; MAX_READING))&amp;#10;           OR     MAX_READING != MIN_READING&amp;#10;              AND (:NEW_WATER_ID.READING_DATE > MIN_READING))&amp;#10;       OR (MIN_READING IS NULL AND :NEW_WATER_ID.READING_DATE &lt; MAX_READING)&amp;#10;    THEN&amp;#10;        SET_APPLICATION_PROPERTY (CURSOR_STYLE, 'DEFAULT');&amp;#10;        V_ALERT :=&amp;#10;            DISPLAY_COMMENT ('APP',&amp;#10;                             50450,&amp;#10;                             NULL,&amp;#10;                             NULL,&amp;#10;                             NULL,&amp;#10;                             NULL);&amp;#10;        :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;        :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;        RAISE FORM_TRIGGER_FAILURE;&amp;#10;    END IF;&amp;#10;&amp;#10;&amp;#10;&amp;#10;    --end if;&amp;#10;    ------------------------&amp;#10;    BEGIN&amp;#10;        --message(4);message(4);&amp;#10;        IF     (   :NEW_WATER_ID.FISCAL_YEAR IS NULL&amp;#10;                OR :NEW_WATER_ID.PERIOD_NUM IS NULL)&amp;#10;           AND :NEW_WATER_ID.READING_DATE IS NOT NULL&amp;#10;        THEN&amp;#10;            SET_APPLICATION_PROPERTY (CURSOR_STYLE, 'DEFAULT');&amp;#10;            V_ALERT :=&amp;#10;                DISPLAY_COMMENT ('APP',&amp;#10;                                 196,&amp;#10;                                 NULL,&amp;#10;                                 'תאריך קריאה',&amp;#10;                                 'שנה ותקופה',&amp;#10;                                 NULL);&amp;#10;            :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;            GO_ITEM (':NEW_WATER_ID.READING_DATE');&amp;#10;            RAISE FORM_TRIGGER_FAILURE;&amp;#10;        END IF;&amp;#10;    /* exception&amp;#10;     when no_data_found then&amp;#10;&amp;#10;         --GO_ITEM('CARDS_UPDATE.DEBIT_CODE');&amp;#10;     --    message(5);message(5);&amp;#10;        --RAISE FORM_TRIGGER_FAILURE;&amp;#10;      --END IF;&amp;#10;&amp;#10;  --------------&amp;#10;    if :new_water_id.READING_DATE is not null&amp;#10;   then&amp;#10;   set_item_instance_property('new_water_id.READING',current_record,UPDATE_ALLOWED,property_true);&amp;#10;   else&amp;#10;   set_item_instance_property('new_water_id.READING',current_record,UPDATE_ALLOWED,property_false);&amp;#10;   end if;&amp;#10;&amp;#10;&amp;#10;&amp;#10;  ---------------&amp;#10;  --אם הזיהוי היה פעיל, בדיקה שהיה לו מד פעיל&amp;#10;          if  :new_water_id.period_num IS NOT NULL AND :NEW_WATER_ID.FISCAL_YEAR IS NOT NULL and :new_water_id.READING_DATE is not null  THEN&amp;#10;            BEGIN&amp;#10;              --/brachi begin&amp;#10;              select 1&amp;#10;              into v_check&amp;#10;              from wt_gauges g&amp;#10;              where g.water_id = :QUERY.WATER_ID&amp;#10;               and INSTALL_DATE &lt;= :NEW_WATER_ID.reading_date&amp;#10;                 and (DISASSEMBLE_DATE >= :NEW_WATER_ID.reading_date or DISASSEMBLE_DATE is null);&amp;#10;&amp;#10;             --MESSAGE(3);MESSAGE(3);&amp;#10;          exception&amp;#10;          when no_data_found then&amp;#10;           SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;&amp;#10;                v_alert:=DISPLAY_COMMENT('APP',50404,NULL,NULL,NULL,NULL);&amp;#10;                   :NEW_WATER_ID.PERIOD_NUM:=NULL;&amp;#10;                    :NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;                     :NEW_WATER_ID.reading_date :=null;&amp;#10;       when others then&amp;#10;        SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;                v_alert:=DISPLAY_COMMENT('APP',50121,NULL,NULL,NULL,NULL);&amp;#10;                  -- :NEW_WATER_ID.PERIOD_NUM:=NULL;&amp;#10;                   -- :NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;                     :NEW_WATER_ID.reading_date :=null;&amp;#10;                      RAISE FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10;          end;&amp;#10;          end if;&amp;#10;  end;--brachi 17122013*/&amp;#10;&amp;#10;    END;&amp;#10;&amp;#10;    /*brachi 2402*/&amp;#10;    IF :NEW_WATER_ID.READING_DATE IS NOT NULL&amp;#10;    THEN&amp;#10;        BEGIN&amp;#10;            SELECT 1&amp;#10;              INTO V_CHECK&amp;#10;              FROM WT_GAUGES&amp;#10;             WHERE     WATER_ID = :QUERY.WATER_ID&amp;#10;                   AND (   DISASSEMBLE_DATE IS NULL&amp;#10;                        OR TO_DATE (TO_CHAR (:NEW_WATER_ID.READING_DATE),&amp;#10;                                    'dd/mm/yyyy') &lt; /*Adi remove &quot;=&quot; according to crm 420100*/&amp;#10;                                                   DISASSEMBLE_DATE)&amp;#10;                   AND TO_DATE (TO_CHAR (:NEW_WATER_ID.READING_DATE),&amp;#10;                                'dd/mm/yyyy') >= INSTALL_DATE&amp;#10;                   AND ROWNUM = 1;                                     --tzvia&amp;#10;        --tzvia add '=' 09/06/2015&amp;#10;        -- Go_Block('NEW_WATER_ID');--hodaya 07/2013&amp;#10;        EXCEPTION&amp;#10;            WHEN OTHERS&amp;#10;            THEN&amp;#10;                V_ALERT :=&amp;#10;                    DISPLAY_COMMENT (&amp;#10;                        'APP',&amp;#10;                        444,&amp;#10;                        NULL,&amp;#10;                        'לא ניתן להוסיף קריאה בתאריך שבו לזיהוי המים אין מד',&amp;#10;                        NULL,&amp;#10;                        NULL);&amp;#10;                :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;                RAISE FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10;                --  WHEN OTHERS THEN&amp;#10;                -- null;&amp;#10;                BEGIN&amp;#10;                    SELECT 1                                   ---אם המד מפורק&amp;#10;                      INTO V_CHECK&amp;#10;                      FROM WT_NET&amp;#10;                     WHERE     WATER_ID = :QUERY.WATER_ID&amp;#10;                           AND (   WATER_ID_END > SYSDATE&amp;#10;                                OR WATER_ID_END IS NULL);&amp;#10;                ---אם אין מד&amp;#10;                -- v_alert:=DISPLAY_COMMENT('APP',50428 ,NULL,NULL,NULL);&amp;#10;                -- Go_Block('WT_READINGS_BLK');&amp;#10;                --Hide_View('NEW_WATER_ID_CV');&amp;#10;                -- Hide_window('NEW_WATER_ID_WIN');&amp;#10;                EXCEPTION&amp;#10;                    WHEN OTHERS&amp;#10;                    THEN                                       ---אם המד מפורק&amp;#10;                        V_ALERT :=&amp;#10;                            DISPLAY_COMMENT ('APP',&amp;#10;                                             50430,&amp;#10;                                             NULL,&amp;#10;                                             NULL,&amp;#10;                                             NULL);&amp;#10;                        :NEW_WATER_ID.READING_DATE := NULL;&amp;#10;                        RAISE FORM_TRIGGER_FAILURE;&amp;#10;                -- Go_Block('WT_READINGS_BLK');&amp;#10;                --Hide_View('NEW_WATER_ID_CV');&amp;#10;                --Hide_window('NEW_WATER_ID_WIN');&amp;#10;                END;&amp;#10;        END;&amp;#10;    END IF;&amp;#10;&amp;#10;    /*brachi 2402*/&amp;#10;    /*brachi 0804*/&amp;#10;    BEGIN&amp;#10;        SELECT PERIOD_NUM&amp;#10;          INTO V_P&amp;#10;          FROM WT_READINGS R&amp;#10;         WHERE WATER_ID = :QUERY.WATER_ID;&amp;#10;    EXCEPTION&amp;#10;        WHEN NO_DATA_FOUND&amp;#10;        THEN&amp;#10;            --mESSAGE(SQLERRM||'0704');MESSAGE(SQLERRM||'0704');--0704&amp;#10;            BEGIN&amp;#10;                SELECT INSTALL_READING&amp;#10;                  INTO :NEW_WATER_ID.PREVIOUS_READING&amp;#10;                  FROM WT_GAUGES W&amp;#10;                 WHERE     W.WATER_ID = :QUERY.WATER_ID&amp;#10;                       AND W.INSTALL_DATE =&amp;#10;                               (SELECT W.INSTALL_DATE&amp;#10;                                  FROM WT_GAUGES W&amp;#10;                                 WHERE     W.WATER_ID = :QUERY.WATER_ID&amp;#10;                                       AND W.INSTALL_DATE &lt;&amp;#10;                                               :NEW_WATER_ID.READING_DATE&amp;#10;                                       AND NVL (DISASSEMBLE_DATE, SYSDATE) >&amp;#10;                                               :NEW_WATER_ID.READING_DATE);&amp;#10;            EXCEPTION&amp;#10;                WHEN OTHERS&amp;#10;                THEN&amp;#10;                    -- message('no '); message('no ');--0704&amp;#10;                    NULL;&amp;#10;            END;&amp;#10;        WHEN OTHERS&amp;#10;        THEN&amp;#10;            -- message('no '); message('no ');--0704&amp;#10;            NULL;&amp;#10;    END;&amp;#10;--end if;&amp;#10;END;" DirtyInfo="true"/>
            <Trigger Name="ON-ERROR" TriggerText="DECLARE&amp;#10;                v_alert NUMBER;&amp;#10;BEGIN&amp;#10;                --if :parameter.prev_but='insert' then&amp;#10;                                /*v_alert := DISPLAY_COMMENT('FRM',50026,NULL,NULL,NULL,NULL);&amp;#10;                                :NEW_WATER_ID.READING_DATE:=null;&amp;#10;                                RAISE FORM_TRIGGER_FAILURE;*/&amp;#10;                                &amp;#10;                                VALIDATE(ITEM_SCOPE);&amp;#10;                                IF ERROR_CODE= 50026 then &amp;#10;                                                  SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;                                     v_alert := DISPLAY_COMMENT('FRM',50026,NULL,NULL,NULL,NULL);&amp;#10;                                     :NEW_WATER_ID.READING_DATE:=null;&amp;#10;                                     RAISE FORM_TRIGGER_FAILURE;&amp;#10;                                END IF; &amp;#10;                                 &amp;#10;                                 IF ERROR_CODE= 50002 then &amp;#10;                                                  SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;                                     v_alert := DISPLAY_COMMENT('FRM',50002,NULL,NULL,NULL,NULL);&amp;#10;                                     :NEW_WATER_ID.READING_DATE:=null;&amp;#10;                                     RAISE FORM_TRIGGER_FAILURE;&amp;#10;                                END IF; &amp;#10;                                 &amp;#10;                                 IF ERROR_CODE= 50004 then &amp;#10;                                   SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;                     v_alert := DISPLAY_COMMENT('FRM',50004,NULL,NULL,NULL,NULL);&amp;#10;                     :NEW_WATER_ID.READING_DATE:=null;&amp;#10;                     RAISE FORM_TRIGGER_FAILURE;&amp;#10;                                END IF;  &amp;#10;--             END IF;  &amp;#10;&amp;#10;                END;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="PREVIOUS_READING" RecordVisualAttributeGroupName="" YPosition="2454" XPosition="10837" DistanceBetweenRecords="50" ReadingOrder="Right To Left" DirtyInfo="true" Width="1481" CanvasName="NEW_WATER_ID_CV" FormatMask="FM999,999,990.09MI" UpdateAllowed="false" Hint="" DataType="Number" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="DISP_ITEM_HEB_COLOR" Prompt="קריאה קודמת" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="730" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="/*DECLARe  &amp;#10;  v_alert NUMBER;&amp;#10;BEGIN   &amp;#10;   IF :new_water_id.PREVIOUS_READING >  :new_water_id.READING THEN&amp;#10;&#x9;     v_alert := DISPLAY_COMMENT('APP',723,NULL, NULL, NULL, NULL);&amp;#10;&#x9;      message('3');&amp;#10;&#x9;     message('3');--1818  &amp;#10;&#x9;     :new_water_id.READING:=NULL;&amp;#10;&#x9;     raise FORM_TRIGGER_FAILURE;&amp;#10;   END IF;*/&amp;#10;   begin&amp;#10;   IF :new_water_id.PREVIOUS_READING IS NOT NULL &amp;#10;   &#x9;  and :new_water_id.READING IS NOT NULL THEN&amp;#10;   &#x9;      :new_water_id.QTY:=nvl(:new_water_id.READING - :new_water_id.PREVIOUS_READING,0);&amp;#10;   END IF;&amp;#10;END;   " DirtyInfo="true"/>
         </Item>
         <Item Name="READING" RecordVisualAttributeGroupName="" YPosition="1450" XPosition="10837" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1793" CanvasName="NEW_WATER_ID_CV" PromptFontName="Arial" Height="524" FormatMask="FM999,999,990.09MI" Hint="" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="קריאה  נוכחית" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="-539" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="-2793" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText=" DECLARe  &amp;#10;  v_alert NUMBER;&amp;#10;  max_reading number;&amp;#10;  v_type number;&amp;#10;  v_next_year number;&amp;#10; v_next_period number;&amp;#10;  v_p number;&amp;#10;  v_type1 number;&amp;#10; BEGIN  &amp;#10; &#x9;/*brachi add this validate*/&amp;#10;if :new_water_id.READING is not null then&amp;#10;   &amp;#10;   IF :new_water_id.PREVIOUS_READING >  :new_water_id.READING THEN&amp;#10;&#x9;     &amp;#10;&#x9;     v_alert := DISPLAY_COMMENT('APP',723,NULL, NULL, NULL, NULL);  &amp;#10;&#x9;     :new_water_id.READING:=NULL;&amp;#10;&#x9;   --  message(2); message(2);&amp;#10;&#x9;     raise FORM_TRIGGER_FAILURE;&amp;#10;&#x9;    -- go_item(':new_water_id.READING');&amp;#10;   END IF;&amp;#10;   IF :new_water_id.PREVIOUS_READING IS NOT NULL &amp;#10;   &#x9;  and :new_water_id.READING IS NOT NULL THEN&amp;#10;   &#x9;      :new_water_id.QTY:=nvl(:new_water_id.READING - :new_water_id.PREVIOUS_READING,0);&amp;#10;   &#x9;      --VALIDATE_NEW_READING.VALIDATE_CURR_QTY;&amp;#10;   END IF;&amp;#10;   &amp;#10;  begin &amp;#10;  SELECT READING, READING_TYPE&amp;#10;   into max_reading ,v_type1&amp;#10;  FROM (  SELECT READING, READING_TYPE&amp;#10;            FROM WT_READINGS R&amp;#10;           WHERE     FISCAL_YEAR >= :NEW_WATER_ID.FISCAL_YEAR&amp;#10;                 AND (   (    FISCAL_YEAR = :NEW_WATER_ID.FISCAL_YEAR&amp;#10;                          AND PERIOD_NUM > :NEW_WATER_ID.PERIOD_NUM)&amp;#10;                      OR FISCAL_YEAR > :NEW_WATER_ID.FISCAL_YEAR)&amp;#10;                 AND WATER_ID = :QUERY.WATER_ID&amp;#10;                 --Adi crm 455353&amp;#10;                 AND NOT EXISTS&amp;#10;                         (SELECT 1&amp;#10;                            FROM WT_READINGS RR&amp;#10;                           WHERE     R.WATER_ID = RR.WATER_ID&amp;#10;                                 AND R.READING_DATE >&amp;#10;                                         :NEW_WATER_ID.READING_DATE&amp;#10;                                 AND READING_TYPE = 3)&amp;#10;                 --end Adi crm 455353&amp;#10;        ORDER BY FISCAL_YEAR ASC, PERIOD_NUM ASC)&amp;#10; WHERE ROWNUM = 1;&amp;#10;  exception&amp;#10;&#x9;when others then null;&amp;#10;  end;&amp;#10;  if :new_water_id.reading>max_reading and v_type1!= 3&amp;#10;&#x9;then  v_alert := DISPLAY_COMMENT('APP',444,NULL,'הוספת קריאה תגרום שבתקופה הבאה קריאה קודמת תהיה גדולה יותר מקריאה נוכחית.',NULL,NULL);&amp;#10;                 :NEW_WATER_ID.reading:=null;&amp;#10;                  :NEW_WATER_ID.QTY:=NULL;&amp;#10;                   raise FORM_TRIGGER_FAILURE;&amp;#10;                 &amp;#10;                &amp;#10;              &amp;#10;               &amp;#10;  end if;&amp;#10; /* begin&amp;#10;  select period_num&amp;#10;  into v_p&amp;#10;  from wt_readings r  &amp;#10;  where water_id=:query.water_id;&amp;#10;  EXCEPTION WHEN others  THEN&amp;#10;  --mESSAGE(SQLERRM||'0704');MESSAGE(SQLERRM||'0704');--0704&amp;#10;&amp;#10;&#x9; &#x9;begin select install_reading&amp;#10;         into :new_water_id.PREVIOUS_READING&amp;#10;          from   WT_GAUGES w&amp;#10;         where w.water_id=:query.water_id&amp;#10;         and w.install_date=(select w.install_date &amp;#10;                             from   WT_GAUGES w&amp;#10;                             where  w.water_id=:query.water_id&amp;#10;                             and    w.install_date &lt; :new_water_id.reading_date&amp;#10;                             and    nvl(disassemble_date,sysdate) > :new_water_id.reading_date);&amp;#10;        &amp;#10;       &amp;#10;&#x9;eXCEPTION WHEN others  THEN&amp;#10;&#x9;--&#x9;message('no ');&#x9;message('no ');--0704&amp;#10;&#x9;&#x9;null;&#x9;&amp;#10;&#x9;end;&amp;#10;&#x9;end;*/&amp;#10;end if;&amp;#10;&amp;#10;&amp;#10;END;   " DirtyInfo="true"/>
         </Item>
         <Item Name="QTY" RecordVisualAttributeGroupName="" YPosition="3473" XPosition="10837" DistanceBetweenRecords="50" ReadingOrder="Default" DirtyInfo="true" Width="1521" CanvasName="NEW_WATER_ID_CV" FormatMask="FM999,999,990.09MI" UpdateAllowed="false" Hint="" DataType="Number" ParentModule="WT_READINGS" ParentModuleType="12" InsertAllowed="false" ParentName="DISP_ITEM_HEB_COLOR" Prompt="כמות" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="2026" PromptFontWeight="Medium" ParentType="29" PromptFontStyle="Plain">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARe  &amp;#10;  v_alert NUMBER;&amp;#10;BEGIN   &amp;#10;   IF :new_water_id.PREVIOUS_READING >  :new_water_id.READING THEN&amp;#10;&#x9;     v_alert := DISPLAY_COMMENT('APP',723,NULL, NULL, NULL, NULL);  &amp;#10;&#x9;     :new_water_id.READING:=NULL;&amp;#10;&#x9;     raise FORM_TRIGGER_FAILURE;&amp;#10;   END IF;&amp;#10;END;   " DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_STATUS_CODE" RecordVisualAttributeGroupName="" YPosition="4678" XPosition="2629" DistanceBetweenRecords="50" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_CODE_4INT_PC" Prompt="מצב מד" TabPageName="" DirtyInfo="true" DatabaseItem="false" PromptAttachmentOffset="1202" Width="889" PromptAlignOffset="22" CanvasName="NEW_WATER_ID_CV" ParentType="29">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="DECLARE&amp;#10;&#x9;v_alert NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF :NEW_WATER_ID.GAUGE_STATUS_CODE IS NOT NULL THEN&amp;#10;&#x9;&#x9;select status_name&amp;#10;&#x9;&#x9;INTO :NEW_WATER_ID.GAUGE_STATUS_DESC&amp;#10;&#x9;&#x9;from wt_gauge_status_codes&amp;#10;&#x9;&#x9;where stamp_action &lt;> 'D'&amp;#10;&#x9;&#x9;AND status_code=:NEW_WATER_ID.GAUGE_STATUS_CODE;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;when no_data_found then&amp;#10;&amp;#10;      v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :NEW_WATER_ID.GAUGE_STATUS_CODE:=null;&amp;#10;      :NEW_WATER_ID.GAUGE_STATUS_desc:=null;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;:NEW_WATER_ID.GAUGE_STATUS_DESC:=NULL;&amp;#10;&#x9;:NEW_WATER_ID.GAUGE_STATUS_CODE:=NULL;&amp;#10;&#x9;v_alert:=DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="ESTIMATED_YN" MaximumLength="1" Enabled="true" YPosition="4691" UncheckedValue="N" XPosition="10837" CheckedValue="Y" InitializeValue="N" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="SB_CHECK_PC" Prompt="הערכה" TabPageName="" DirtyInfo="true" PromptFontSpacing="Normal" Width="424" PromptAttachmentOffset="1709" PromptFontWeight="Medium" CanvasName="NEW_WATER_ID_CV" ParentType="29" PromptFontStyle="Plain" CheckBoxOtherValues="Unchecked">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" TriggerText="if :NEW_WATER_ID.ESTIMATED_YN ='Y' then&amp;#10;&#x9;&#x9;  &#x9;set_item_property('NEW_WATER_ID.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_req_item');&amp;#10;      else&amp;#10;         set_item_property('NEW_WATER_ID.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_item');&amp;#10;    &amp;#10;end if;" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_STATUS_DESC" YPosition="4691" XPosition="4271" DistanceBetweenRecords="50" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="DISP_ITEM_HEB_COLOR" TabPageName="" DirtyInfo="true" DatabaseItem="false" InitializeKeyboardDirection="Local" PromptAttachmentOffset="64" Width="3243" CanvasName="NEW_WATER_ID_CV" ParentType="29"/>
         <Item Name="LOV_REPAIR_REASONS" YPosition="5739" XPosition="3567" IconFilename="down" Iconic="true" ItemsDisplay="1" ItemType="Push Button" TabPageName="" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="576" CanvasName="NEW_WATER_ID_CV" VisualAttributeName="VA_BUTTON" Height="537" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="&amp;#10;DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_REASON_ADD');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="REPAIR_REASON_NAME" MaximumLength="50" YPosition="5798" XPosition="4205" Justification="Right" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" TabPageName="" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" PromptAttachmentEdge="Start" Width="5267" PromptAlign="Start" PromptAlignOffset="0" PromptForegroundColor="black" CanvasName="NEW_WATER_ID_CV" LovName="LOV_REAGON_ADD" PromptFontName="Arial" VisualAttributeName="VA_DISPLAY_ITEM" Height="524" MouseNavigate="false"/>
         <Item Name="REPAIR_REASON_CODE" YPosition="5771" XPosition="2596" Justification="Right" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" DatabaseItem="true" Width="897" CanvasName="NEW_WATER_ID_CV" PromptFontName="Arial" Height="579" PromptFontSize="1100" Comment="שדה מספרי שלם" DataType="Number" ItemType="Text Item" Prompt="סיבת תיקון" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="772" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="-32" PromptFontWeight="Medium" LovName="LOV_REAGON_ADD" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="&amp;#10;declare&amp;#10;&#x9;v_alert number;&amp;#10;begin&#x9;&amp;#10;if :NEW_WATER_ID.REPAIR_REASON_CODE is null then&amp;#10;&#x9; :NEW_WATER_ID.REPAIR_REASON_NAME := null;&amp;#10;else&amp;#10;&#x9;begin&amp;#10;&#x9; SELECT REPAIR_REASON_DESC&amp;#10;&#x9; INTO   :NEW_WATER_ID.REPAIR_REASON_NAME&amp;#10;   FROM WT_REPAIR_REASONS&amp;#10;   WHERE REPAIR_REASON_TYPE=1 and REPAIR_REASON_CODE=:NEW_WATER_ID.REPAIR_REASON_CODE&amp;#10;   AND stamp_action !='D';&amp;#10;        &amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when others then&amp;#10;      v_alert := DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;      :NEW_WATER_ID.REPAIR_REASON_CODE:=null;&amp;#10;      :NEW_WATER_ID.REPAIR_REASON_NAME:=null;&amp;#10;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end ;&#x9;    &amp;#10;end if;   &amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="READING_DATE_BUT" YPosition="3570" XPosition="5025" IconFilename="date_icon" Iconic="true" Comment="תאריכון" ItemsDisplay="1" ItemType="Push Button" Label="PUSH_BUTTON186" DirtyInfo="true" KeyboardNavigable="false" Width="640" CanvasName="NEW_WATER_ID_CV" VisualAttributeName="VA_BUTTON" Height="513" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="Go_Item('NEW_WATER_ID.READING_DATE');&amp;#10;EXECUTE_TRIGGER('WHen-Mouse-Doubleclick');" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_LIST" YPosition="4737" XPosition="3606" IconFilename="down" Iconic="true" AutoHint="true" Comment="כפתור רשימת ערכים" ItemsDisplay="1" ItemType="Push Button" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" Width="576" CanvasName="NEW_WATER_ID_CV" Visible="true" VisualAttributeName="VA_BUTTON" Height="482" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;    v_lov   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF global.help_pressed != 'Y' THEN&amp;#10;      v_lov := SHOW_LOV('LOV_GAUGE_STATUS_2');&amp;#10;   END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT" YPosition="7291" XPosition="11563" IconFilename="exit" Iconic="false" Comment="יציאה" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="יציאה" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="2222" FontSize="1100" FontName="Arial" CanvasName="NEW_WATER_ID_CV" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;  v_alert NUMBER;&amp;#10;BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   VALIDATE(BLOCK_SCOPE);&amp;#10;   IF /*:system.cursor_record  = 1&amp;#10;      OR */:new_wateR_id.FISCAL_YEAR IS NOT NULL THEN&amp;#10;         SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;         v_alert := DISPLAY_COMMENT('APP',1,NULL,NULL,NULL,NULL); --save or no&amp;#10;         IF (v_alert = ALERT_BUTTON1) THEN --save changes by user&amp;#10;             Go_ITEM('New_WateR_ID.SAVE');&amp;#10;             Execute_Trigger('When-Button-Pressed');     &amp;#10;         ELSIF (v_alert = ALERT_BUTTON2) THEN -- no save changes by user&amp;#10;              Go_Block('WT_READINGS_BLK');&amp;#10;              Hide_View('NEW_WATER_ID_CV');&amp;#10;              Hide_window('NEW_WATER_ID_WIN');--&amp;#10;         ELSIF (v_alert = ALERT_BUTTON3) THEN -- no save changes by user&amp;#10;            RAISE FORM_TRIGGER_FAILURE;&amp;#10;         END IF;      &amp;#10;   ELSE --:system.record_status no change&amp;#10;      Go_Block('WT_READINGS_BLK');        &amp;#10;      Hide_View('NEW_WATER_ID_CV');&amp;#10;      Hide_window('NEW_WATER_ID_WIN');--Hide_View('NEW_WATER_ID_CV');&amp;#10;   END IF;&amp;#10; END IF;&amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Item Name="NIKUY_SHURA" YPosition="7288" XPosition="5713" IconFilename="clear_all" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="BUTTON_LARGE_PC" TabPageName="" DirtyInfo="true" Width="2222" CanvasName="NEW_WATER_ID_CV" ParentType="29" Height="645">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="CLEAR_RECORD;" DirtyInfo="true"/>
         </Item>
         <Item Name="SAVE" YPosition="7291" XPosition="335" IconFilename="OK" Iconic="false" Comment="אישור" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray1" FontWeight="Bold" Label="אישור" FontStyle="Plain" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="false" Width="2222" FontSize="1100" FontName="Arial" CanvasName="NEW_WATER_ID_CV" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="DECLARE&amp;#10;&#x9;v_alert NUMBER; &amp;#10;&#x9;v_periods VARCHAR2(50) := null;&amp;#10;&#x9;v_ans NUMBER:=1;&amp;#10;&#x9;p_place1 number;&amp;#10;&#x9;p_place2 number;&amp;#10;&#x9;p_count number:=-1;&amp;#10;  min_reading date;&amp;#10;  v_check number;&amp;#10;  v_check1 number;&amp;#10;  v_open_fiscal_year number;&amp;#10;  v_open_period_num number;&amp;#10;  v_reading number;&amp;#10;BEGIN&amp;#10;IF global.help_pressed != 'Y' THEN -- if help button not active&amp;#10;   VALIDATE(BLOCK_SCOPE);&amp;#10;   IF :system.cursor_record > 1 &amp;#10;      OR :new_water_id.fiscal_year IS NOT NULL THEN &amp;#10;         /* בדיקת ערכים שהכל מולא */&amp;#10;         -- message('a'); message('a');&amp;#10;      --   FOR i IN 1..99 LOOP&amp;#10;        -- &#x9; Go_Record(I);&amp;#10;         &#x9; IF NOT CHECK_IF_NULL('new_water_id') THEN&amp;#10;         &#x9; &#x9;  Raise Form_TRigger_Failure;&amp;#10;         &#x9; END IF;&amp;#10;         &#x9; IF (:new_water_id.PREVIOUS_READING IS NOT NULL&amp;#10;         &#x9; &#x9;  OR :new_water_id.READING IS NOT NULL&amp;#10;         &#x9; &#x9;  OR :new_water_id.READING_DATE IS NOT NULL&amp;#10;         &#x9; &#x9;  )&amp;#10;         &#x9; &#x9; /* AND &amp;#10;         &#x9; &#x9;  (:new_water_id.PREVIOUS_READING IS  NULL&amp;#10;         &#x9; &#x9;  OR :new_water_id.READING IS  NULL&amp;#10;         &#x9; &#x9;  OR :new_water_id.READING_DATE IS  NULL)*/&amp;#10;         &#x9; THEN&amp;#10;         &#x9; &#x9;---hodaya&amp;#10;         &#x9; &#x9;IF :new_water_id.READING_DATE IS  NULL THEN&amp;#10;         &#x9; &#x9;  v_alert := DISPLAY_COMMENT('APP',151,NULL,'תאריך קריאה',NULL,NULL);&amp;#10;         &#x9;    raise Form_TRigger_Failure;&amp;#10;         &#x9; &#x9;END IF;&amp;#10;         &#x9; &#x9;/*IF :new_water_id.PREVIOUS_READING IS  NULL THEN&amp;#10;         &#x9; &#x9;  v_alert := DISPLAY_COMMENT('APP',151,NULL,'קריאה קודמת',NULL,NULL);&amp;#10;         &#x9;    raise Form_TRigger_Failure;&amp;#10;         &#x9; &#x9;END IF;*/&amp;#10;         &#x9;-- &#x9;message('b'); message('b');&amp;#10;         &#x9; &#x9;IF :new_water_id.READING IS  NULL THEN&amp;#10;         &#x9; &#x9;  v_alert := DISPLAY_COMMENT('APP',151,NULL,'קריאה נוכחית',NULL,NULL);&amp;#10;         &#x9;    raise Form_TRigger_Failure;&amp;#10;         &#x9; &#x9;END IF;&amp;#10;         &#x9; &#x9;---end hodaya &amp;#10;         &#x9;  -------------brachi begin 19-12-12תקינות  קריאה קודמ,&amp;#10;         &#x9;  END IF;&amp;#10;         &#x9; IF :new_water_id.PREVIOUS_READING IS  NULL&amp;#10;         &#x9; &#x9;  OR :new_water_id.READING IS  NULL&amp;#10;         &#x9; &#x9;  OR :new_water_id.READING_DATE IS  NULL&amp;#10;         &#x9; THEN&amp;#10;         &#x9;    v_periods:=v_periods||:new_water_id.FISCAL_YEAR||'-'||:new_water_id.PERIOD_NUM||','; &amp;#10;         &#x9; END IF;&amp;#10;         &#x9; &amp;#10;         &#x9;  --tzvia 08/2015&amp;#10;&#x9;&#x9;&#x9;    if :NEW_WATER_ID.ESTIMATED_YN = 'Y' and :NEW_WATER_ID.REPAIR_REASON_CODE is null  thEN&amp;#10;&#x9;&#x9;&#x9;    &#x9;v_alert := DISPLAY_COMMENT('APP',444,NULL,'לאחר הערכה יש לעדכן סיבת תיקון.',NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;    &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;    end if;&amp;#10;           --EXIT WHEN :system.last_record='TRUE';&#x9;&amp;#10;  -- END LOOP;&amp;#10;   &amp;#10;  -- v_ans:=VALIDATE_NEW_READING.VALIDATE_CURR_QTY;&amp;#10;  --add by Miri 27/02/18&amp;#10;  IF   :PARAMETER.P_UPDATE_NEXT_READING='N' then  &amp;#10;&#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',1102,NULL,NULL,NULL,NULL);&amp;#10;&#x9;&#x9;IF v_alert = ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;&#x9;:parameter.p_change_next_reading:='Y';&amp;#10;&#x9;&#x9;END IF;  &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:parameter.p_change_next_reading:='Y';&amp;#10;&#x9;END IF;&amp;#10;&#x9;--end Miri&amp;#10;  &amp;#10;   --tzvia add 07/2015&amp;#10;   --קריאת פרוק תמיד הקריאה הבאה תתחיל מאפס&amp;#10;   if :new_water_id.reading_type = 3 then&amp;#10;   &#x9;:parameter.p_change_next_reading:='N';&amp;#10;   end if;&amp;#10;   --end tzvia &amp;#10;&#x9;&amp;#10;  &amp;#10;  -- IF v_ans=1 THEN&amp;#10;   &#x9;VALIDATE_NEW_READING.VALIDATE_DATE;&amp;#10;   &#x9;--brachi remove 3003&amp;#10;      /*   IF v_periods IS NOT NULL THEN&amp;#10;         &#x9;  v_alert := DISPLAY_COMMENT('APP',916,NULL,v_periods,NULL,NULL);&amp;#10;         &#x9;  IF ( v_alert = ALERT_BUTTON1)  THEN-- להמשיך&amp;#10;         &#x9;  &#x9; null;&amp;#10;         &#x9;  ELSE&amp;#10;         &#x9;  &#x9; raise FORM_TRIGGER_FAILURE;&amp;#10;         &#x9;  END IF;&#x9;&amp;#10;         END IF;&#x9;*/&amp;#10;         p_place1 := :new_water_id.fiscal_year;&amp;#10;         p_place2 := :new_water_id.period_num;&amp;#10;         add_water_id; &amp;#10;        -- message(:NEW_WATER_id.reading); message(:NEW_WATER_id.reading);--1805&amp;#10;         /*brachi add-כאשר מכניסים רטרו לדאוג שהקראה הבאה תיהיה תקינה בהתאם*/&amp;#10;         begin&amp;#10;&#x9;         /*select min(reading_date),min(reading)&amp;#10;           into  min_reading,v_reading&amp;#10;           from wt_readings&amp;#10;           where  reading_date>=:NEW_WATER_ID.reading_date&amp;#10;           and( fiscal_year>:NEW_WATER_ID.fiscal_year&amp;#10;            or( fiscal_year=:NEW_WATER_ID.fiscal_year and period_num>:NEW_WATER_id.period_num))&amp;#10;           and water_id=:QUERY.WATER_ID;&amp;#10;           -- message(v_reading); message(v_reading);--1805 &amp;#10;           */&amp;#10;           --Miri change&amp;#10;           select reading_date, reading&amp;#10;           into  min_reading,v_reading&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; from wt_readings&amp;#10; &#x9;&#x9;&#x9;&#x9;&#x9; where  reading_date>=:NEW_WATER_ID.reading_date&amp;#10; &#x9;&#x9;&#x9;&#x9;&#x9; and( fiscal_year>:NEW_WATER_ID.fiscal_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;or( fiscal_year=:NEW_WATER_ID.fiscal_year &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;and period_num>:NEW_WATER_id.period_num))&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; and reading_date = (select min(reading_date) &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                     from wt_readings&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                     where  reading_date>=:NEW_WATER_ID.reading_date&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                     and( fiscal_year>:NEW_WATER_ID.fiscal_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                     or( fiscal_year=:NEW_WATER_ID.fiscal_year &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                     &#x9;&#x9;&#x9;and period_num>:NEW_WATER_id.period_num))&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                     and water_id=:QUERY.WATER_ID);           &amp;#10;         exception&amp;#10;         &#x9;when others then &amp;#10;         &#x9;--message(sqlerrm||'NEW_WATER_ID');&#x9;message(sqlerrm||'NEW_WATER_ID');&amp;#10;         &#x9;null;&amp;#10;         end;&amp;#10;        &amp;#10;        if &#x9;:parameter.p_change_next_reading='Y' then--tzvia add condition 07/2015&amp;#10;         begin&amp;#10;           update wt_readings &amp;#10;            set PREVIOUS_READING=:NEW_WATER_id.reading,&amp;#10;            qty = v_reading -:NEW_WATER_id.reading,&amp;#10;            stamp_date = sysdate,&amp;#10;            stamp_user =:global.user_name            &amp;#10;            where READING_date=min_reading&amp;#10;            and (fiscal_year>:NEW_WATER_ID.fiscal_year&amp;#10;            or( fiscal_year=:NEW_WATER_ID.fiscal_year and period_num>:NEW_WATER_id.period_num))&amp;#10;            and water_id=:QUERY.WATER_ID;&amp;#10;            forms_ddl('commit');&amp;#10;            commit_form;&amp;#10;          &#x9;exception&amp;#10;&#x9;       &#x9;&#x9;when others&amp;#10;&#x9;       &#x9;&#x9;then&amp;#10;&#x9;       &#x9;--&#x9;message(sqlerrm||'NEW_WATER_ID1');&#x9;message(sqlerrm||'NEW_WATER_ID1');&amp;#10;&#x9;       &#x9;&#x9;null;&amp;#10;          &#x9;end; &amp;#10;         end if; &amp;#10;          &#x9;/*brachi end*/&amp;#10;   &amp;#10;         POPULATE_PKG.num_curr_rec(P_place1,P_place2,P_count);  &amp;#10;         Go_ITEM('QUERY.QUERY_BUTTON');&amp;#10;         Execute_Trigger('When-Button-Pressed'); &amp;#10;        &amp;#10;         ELSE&amp;#10;         &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;  -- END IF;&amp;#10;   &amp;#10;   END IF;&amp;#10;  &amp;#10;   &#x9;&amp;#10;   &amp;#10; GO_BLOCK('WT_READINGS_BLK'); &amp;#10; IF p_count&lt;>-1 THEN&amp;#10; &#x9;go_record(p_count);&amp;#10; &#x9;--10072014&amp;#10; &#x9;--go_block('control');&amp;#10; &#x9; &#x9;p_set_item_property('control.LOGIT',enabled,PROPERTY_TRUE);--brachi add&amp;#10; &#x9;go_item('control.logit');&amp;#10; &#x9;Execute_Trigger('When-Button-Pressed'); &amp;#10; END IF;&amp;#10; Hide_View('NEW_WATER_ID_CV');&amp;#10; HIDE_WINDOW('NEW_WATER_ID_WIN');&amp;#10;   &amp;#10;                               &amp;#10;                         &amp;#10;                          &amp;#10;&amp;#10;-------------הרצת רטרו&amp;#10;/*by brachi 10032014*/&amp;#10;--בדיקה האם בתקופה נוכחית-כי אז אין הרצת רטרו&amp;#10;&amp;#10;/*RM_REGION_PKG.GET_YEAR_PERIOD_RETRO (:global.obj_subj_code,&amp;#10;                                       :global.water_serv_code,&amp;#10;                                       :WT_READINGS_BLK.water_id ,&amp;#10;                                       v_open_fiscal_year,&amp;#10;                                   v_open_period_num);&amp;#10;&amp;#10;IF &amp;#10; &#x9; to_number(:WT_READINGS_BLK.fiscal_year||:WT_READINGS_BLK.period_num) &lt; to_number(v_open_fiscal_year||v_open_period_num) THEN&amp;#10; &#x9; v_alert := DISPLAY_COMMENT('APP',50848,NULL,NULL,NULL,NULL);       &amp;#10;   IF (v_alert = ALERT_BUTTON1) THEN &amp;#10;    call_form('WT_RETRO_VER2'); &amp;#10;   end if;*/&amp;#10; wt_readings_upd_pkg.get_retro_yn;&amp;#10;&amp;#10;/**end brachi and remove/&amp;#10;/*begin&amp;#10;select PERIOD_NUM   &amp;#10;into v_check1--FISCAL_YEAR,PERIOD_NUM,REGION_CODE&amp;#10;from rm_serv_region_codes&amp;#10;where FISCAL_YEAR=:new_water_id.FISCAL_YEAR&amp;#10;and PERIOD_NUM=:new_water_id.PERIOD_NUM&amp;#10;and REGION_CODE=:wt_readings_blk.REGION_CODE;&amp;#10;exception&amp;#10;&#x9;--אם לא נוכחית בדיקה האם כבר הורץ עליו חיוב&amp;#10;when no_data_found then&amp;#10;if :new_water_id.PERIOD_NUM&lt;v_check then&amp;#10;&#x9;begin&amp;#10;&#x9;select count(1)&amp;#10;  into   v_check&amp;#10;  from   wt_periodic&amp;#10;  where  wateR_id=:wt_readings_blk.water_id&amp;#10;  and  fiscal_year = :wt_readings_blk.fiscal_year&amp;#10;  and period_num =:wt_readings_blk.period_num;&amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when  no_data_found then &amp;#10;&#x9;&#x9;null;&amp;#10;  end;&amp;#10;&amp;#10;if v_check1 >0 then&amp;#10;  v_alert := DISPLAY_COMMENT('APP',50848,NULL,NULL,NULL,NULL);       &amp;#10;   IF (v_alert = ALERT_BUTTON1) THEN &amp;#10;    call_form('WT_RETRO_VER2'); &amp;#10;   end if;&amp;#10;end if;&amp;#10;end if;&amp;#10;end;*/&amp;#10;&amp;#10;&amp;#10;--end;&amp;#10; END IF;&#x9; &amp;#10;END;" DirtyInfo="true"/>
         </Item>
         <Trigger Name="WHEN-NEW-RECORD-INSTANCE" TriggerText="Set_Item_Instance_Property('NEW_WATER_ID.FISCAL_YEAR', to_number(:system.cursor_record),  VISUAL_ATTRIBUTE,'VA_REQ_ITEM');&amp;#10;Set_Item_Instance_Property('NEW_WATER_ID.PERIOD_NUM', to_number(:system.cursor_record),  VISUAL_ATTRIBUTE,'VA_REQ_ITEM');&amp;#10;--Set_Item_Instance_Property('NEW_WATER_ID.PREVIOUS_READING', to_number(:system.cursor_record),  VISUAL_ATTRIBUTE,'VA_REQ_ITEM');&amp;#10;Set_Item_Instance_Property('NEW_WATER_ID.READING', to_number(:system.cursor_record),  VISUAL_ATTRIBUTE,'VA_REQ_ITEM');&amp;#10;Set_Item_Instance_Property('NEW_WATER_ID.READING_DATE', to_number(:system.cursor_record),  VISUAL_ATTRIBUTE,'VA_REQ_ITEM');&amp;#10;/*IF :NEW_WATER_ID.FISCAL_YEAR IS NULL THEN&amp;#10;&#x9;set_item_property('NEW_WATER_ID.ESTIMATED_YN', ENABLED, PROPERTY_FALSE);&amp;#10;ELSE&amp;#10;&#x9;set_item_property('NEW_WATER_ID.ESTIMATED_YN',  ENABLED, PROPERTY_TRUE);&amp;#10;END IF;*/&amp;#10;set_item_property('NEW_WATER_ID.REPAIR_REASON_CODE', VISUAL_ATTRIBUTE, 'VA_item');--tzvia 08/2015&amp;#10;&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerText="Clear_Block;" DirtyInfo="true"/>
         <Trigger Name="PRE-INSERT" TriggerText=":new_water_id.reading_type:=1;&amp;#10;:new_water_id.READING_SOURCE:=2;--brachi 032015 מקור קריאה ידני" DirtyInfo="true"/>
      </Block>
      <Block Name="IVR_RM_PHON" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS">
         <Item Name="CHK_ADD_PHON" SubclassSubObject="true">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="P_AREA_CODE_PHON" SubclassSubObject="true"/>
         <Item Name="P_PHON" SubclassSubObject="true"/>
         <Item Name="PHONE_NUM" SubclassSubObject="true"/>
         <Item Name="PHONE_AREA_CODE" SubclassSubObject="true"/>
         <Item Name="CLIENT_ID" SubclassSubObject="true"/>
         <Item Name="CLIENT_TYPE" SubclassSubObject="true"/>
         <Item Name="DET_AREA_CODE_PHON" SubclassSubObject="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="DET_PHON" SubclassSubObject="true"/>
         <Item Name="FIRST_NAME" SubclassSubObject="true"/>
         <Item Name="LAST_NAME" SubclassSubObject="true"/>
         <Item Name="SMS" SubclassSubObject="true">
            <Trigger Name="WHEN-CHECKBOX-CHANGED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="UPDATE" SubclassSubObject="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT" SubclassSubObject="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="COMPANY" SubclassSubObject="true"/>
         <Item Name="PHON_TYPE_DESC" SubclassSubObject="true"/>
         <Item Name="PHON_TYPE" SubclassSubObject="true"/>
         <Trigger Name="PRE-BLOCK" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="PRE-QUERY" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="WEBUTIL" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="webutil.olb" ParentModule="WEBUTIL" ParentModuleType="25" ParentName="WEBUTIL">
         <Item Name="DUMMY" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_CLIENTINFO_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_FILE_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_HOST_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_SESSION_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_FILETRANSFER_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_OLE_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_C_API_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WEBUTIL_BROWSER_FUNCTIONS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
      </Block>
      <Block Name="QUERY_WATER_ID" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID">
         <Item Name="OK" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="EXIT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WATER_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="ROOT_WATER_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="OBJ_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CLIENT_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="WATER_ID_CLASS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="WATER_ID_CLASS_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SHOW_GAUGE_TYPE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_TYPE_CODE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="GAUGE_TYPE_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="REGION_CODE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="REGION_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="UNIT_FOR_READING" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="FIRST_TIME" SubclassSubObject="true"/>
         <Item Name="DEBIT_CODE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="DEBIT_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="PERSON_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STREET_NAME" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SHOW_CITY" SubclassSubObject="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CITY_NAME" SubclassSubObject="true"/>
         <Item Name="ENTRANCE_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CITY_CODE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="V_CITY_CODES" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SHOW_WATER_ID_TYPE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SHOW" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" TriggerText="VALIDATE(1);&amp;#10;if form_success then ---hodaya added 09/2014&amp;#10;&#x9;go_block('WATER_ID_SEARCH');&#x9;&amp;#10;&#x9;execute_query;&amp;#10;&#x9;&amp;#10;&#x9;:water_id_search.SUM_OF_RESULTS:=:parameter.SEARCH_V_SQL_RESULTS;&amp;#10;&#x9;&amp;#10;&#x9;IF :system.block_status &lt;> 'NEW' THEN&amp;#10;&#x9;&#x9;set_item_property('QUERY_WATER_ID.ORDER_WATER_ID',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;set_item_property('QUERY_WATER_ID.ORDER_ROOT_WATER_ID',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&amp;#10;&#x9;     &amp;#10;&#x9;END IF;  &amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="SHOW_STREET" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SHOW_DEBIT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SHOW_REGION" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SHOW_UNIT_FOR_READING" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CLIENT_TYPE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="GAUGE_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CLIENT_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="ORDER_WATER_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="ORDER_ROOT_WATER_ID" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="HOUSE_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STREET_CODE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
            <Trigger Name="WHEN-VALIDATE-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CONTRACT_ACC_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="FLAT_NUM" SubclassSubObject="true"/>
         <Item Name="DELETE" SubclassSubObject="true">
            <RadioButton Name="Y" SubclassSubObject="true"/>
            <RadioButton Name="N" SubclassSubObject="true"/>
            <RadioButton Name="A" SubclassSubObject="true"/>
         </Item>
         <Item Name="GAUGE_ACTIVE" SubclassSubObject="true">
            <RadioButton Name="Y" SubclassSubObject="true"/>
            <RadioButton Name="N" SubclassSubObject="true"/>
            <RadioButton Name="A" SubclassSubObject="true"/>
         </Item>
         <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="WATER_ID_SEARCH" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID">
         <Item Name="SUM_OF_RESULTS" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="WATER_ID" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="ROOT_WATER_ID" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="WATER_ID_CLASS_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="GAUGE_ID" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="GAUGE_TYPE_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="REGION_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="REGION_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="UNIT_FOR_READING" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="DEBIT_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SUBJ_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="DEBIT_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="PERSON_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="OBJ_ID" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CLIENT_ID" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CLIENT_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STREET_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="GAUGE_TYPE_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="WATER_ID_END" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="USAGE_TYPE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CLIENT_TYPE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CITY_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STREET_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="ENTRANCE_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="HOUSE_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CONTRACT_ACC_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STAMP_ACTION" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="LEVEL_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CARD_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="WATER_ID_CLASS" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="WATER_TYPE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STAMP_DATE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STAMP_USER" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="STAMP_ACTION_DISP" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="PRE-QUERY" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="WHEN-NEW-RECORD-INSTANCE" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="WHEN-MOUSE-DOUBLECLICK" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="TITLE" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS">
         <Item Name="SCREEN_HEADER" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="QUERY_ALLOWED" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="UPDATE_ALLOWED" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="INSERT_ALLOWED" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="DELETE_ALLOWED" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="ENTERANCE_MODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SCREEN_PRE_HEADER" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="TOOLBAR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS">
         <Item Name="BOMGAR" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="IVR" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="COPY" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="PRINT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="PASTE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="GO_BUTTON" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="FIND_FORM_NUM" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="KEY-NEXT-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="RM_CLIENTS" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="MAIN" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="FIND_FORM_NAME" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="KEY-NEXT-ITEM" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SEARCH_ALL" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="REPORT_RUN" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="RM_REPORTS_QUEUE" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="FILE_TRANSFER" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="ON_PRIVATE_MENU" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="ON_GENERAL_MENU" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CASH_TITLE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="CASH_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SCREEN_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SCREEN_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="SYS_DATE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="USER_NAME" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="PROGRAM_NUM" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="PRIVATE_MENU" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="GENERAL_MENU" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-CUSTOM-ITEM-EVENT" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="FIND_FORM_TEXT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="BACK" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="UP_SEARCH_CLIENT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="NEXT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="DOWN_SEARCH_CLIENT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="CURRENT_NUM" SubclassSubObject="true"/>
         <Item Name="QUEUE_BUT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="SUPPORT_PHONE" SubclassSubObject="true"/>
         <Trigger Name="KEY-CREREC" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="KEY-NXTREC" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="KEY-PRVREC" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="KEY-LISTVAL" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="KEY-DOWN" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="KEY-UP" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="RM_TAGS_ICONS" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS">
         <Item Name="TAG_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="TAGS_COLOR_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="TAGS_COLOR" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="TAGS_COLOR1" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="COUNT_TAGS" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="TAGS_COLOR2" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="TAGS_COLOR3" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="TAGS_COLOR4" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Item Name="TAGS_COLOR5" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
      </Block>
      <Block Name="RM_TAGS_CONTENT" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS">
         <Item Name="FILED_PROMT" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="START_DATE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="END_DATE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="FILED" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="TAG_CODE" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="TAG_CATEGORY_DESC" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="TAG_DESC" SubclassSubObject="true" DirtyInfo="true"/>
         <Item Name="BTN_EXIT" SubclassSubObject="true" DirtyInfo="true">
            <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
         </Item>
         <Trigger Name="PRE-QUERY" SubclassSubObject="true" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" SubclassSubObject="true" DirtyInfo="true"/>
      </Block>
      <Block Name="BIG_PIC" DirtyInfo="true" ScrollbarWidth="476" QueryDataSourceName="" ScrollbarLength="4763" DatabaseBlock="false">
         <Item Name="PIC" YPosition="185" XPosition="370" ImageDepth="Original" ItemType="Image" ImageFormat="TIFF" SizingStyle="Adjust" TabPageName="" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="24050" CanvasName="BIG_PIC" Height="13599">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="go_block('DETAILS');&amp;#10;" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="TAG_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="TAG_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="CLIENT_ID" DSCNochildren="false" DSCLength="20" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CLIENT_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CONTRACT_ACC_NUM" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="OBJ_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCNochildren="false" DSCLength="15" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="CHAR" DSCName="STAMP_ACTION" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCNochildren="false" DSCLength="100" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
      </Block>
      <Block Name="DETAILS" DirtyInfo="true" ScrollbarWidth="476" QueryDataSourceName="" ScrollbarLength="4763" DatabaseBlock="false">
         <Item Name="PIC" YPosition="714" XPosition="14896" ImageDepth="Original" ItemType="Image" ImageFormat="TIFF" SizingStyle="Adjust" TabPageName="" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="9710" CanvasName="DETAILS" Height="7276">
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerText="go_block('BIG_PIC');&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="DET" RecordVisualAttributeGroupName="" MaximumLength="1000" YPosition="53" XPosition="168" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" FontWeight="Bold" FontStyle="Plain" Bevel="None" ForegroundColor="red" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="true" Width="13961" FontSize="1100" FontName="Arial" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="STAMP_CDATE" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-79" PromptFontStyle="Plain" VisualAttributeName="DEFAULT">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:wt_readings_blk.stamp_cdate,'YYYY')||'/',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="TAG_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="TAG_CODE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="CLIENT_ID" DSCNochildren="false" DSCLength="20" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CLIENT_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CONTRACT_ACC_NUM" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="OBJ_TYPE" DSCNochildren="false" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="-127"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCNochildren="false" DSCLength="15" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="CHAR" DSCName="STAMP_ACTION" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCNochildren="false" DSCLength="100" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
      </Block>
      <Block Name="WT_WORK_COMMANDS_BLK" UpdateAllowed="false" ScrollbarTabPageName="" Alias="" QueryDataSourceName="WT_WORK_COMMANDS" DMLDataName="WT_WORK_COMMANDS" RecordsDisplayCount="4" InsertAllowed="false" ScrollbarYPosition="11035" ShowScrollbar="true" DeleteAllowed="false" KeyMode="Non-Updateable" DirtyInfo="true" ScrollbarCanvasName="DETAILS" ScrollbarWidth="397" ScrollbarXPosition="0" OrderByClause="fiscal_year desc,period_num desc,work_command_seq desc" ScrollbarLength="2618" LockMode="Delayed">
         <Item Name="WORK_COMMAND_SEQ" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="15" YPosition="11010" XPosition="441" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" LowestAllowedValue="" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="1808" CanvasName="DETAILS" PromptFontName="Arial" HighestAllowedValue="" Height="629" Required="false" FormatMask="" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Integer" ItemType="Text Item" Prompt="מס' פקודה" TabPageName="" PromptJustification="Left" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="192" ColumnName="WORK_COMMAND_SEQ" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="30" PrimaryKey="true" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STATUS_DESC" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="1000" YPosition="11022" XPosition="2328" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2262" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="סטטוס" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="169" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="263" VisualAttributeName="VA_ITEM"/>
         <Item Name="COMMAND_TYPE_DESC" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="100" YPosition="11022" XPosition="4657" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="4632" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="סוג" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="169" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="26" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="SUB_COMMAND_TYPE_DESC" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="100" YPosition="11022" XPosition="9386" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="4843" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="תת סוג" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="169" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="26" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="PLANNED_DATE_DUMMY" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" YPosition="9725" XPosition="11316" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1951" CanvasName="" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Date" ItemType="Text Item" Prompt="תאריך ביקור&amp;#10;    מתוכנן" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="169" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STAMP_CDATE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="11" YPosition="9725" XPosition="13333" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="1912" CanvasName="" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Date" ItemType="Text Item" InsertAllowed="true" Prompt="תאריך&amp;#10;פתיחה" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="173" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="304" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="PARENT_WATER_ID" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="1748" XPosition="3678" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1508" CanvasName="" PromptFontName="Arial" Height="632" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="זיהוי אב" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="192" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="211" VisualAttributeName="VA_ITEM"/>
         <Item Name="PARENT_GAUGE_SEQ" MaximumLength="12" UpdateAllowed="false" XPosition="0" NextNavigationItemName="" TabPageName="" ForegroundColor="white" Bevel="None" DatabaseItem="false" DirtyInfo="true" Width="10" CanvasName="" Height="10"/>
         <Item Name="OBJ_ID" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="15" YPosition="1085" XPosition="5821" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1520" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="true" Prompt="מספר" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="185" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="422" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="OBJECT_ADDRESS" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="50" YPosition="1085" XPosition="7379" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2040" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="true" Prompt="כתובת" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="185" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="317" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="CLIENT_NAME" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="50" YPosition="1099" XPosition="9446" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1773" CanvasName="" PromptFontName="Arial" Height="619" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="true" Prompt="שם" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="159" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="501" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="TRACK" YPosition="7928" XPosition="2671" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="2487" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" InsertAllowed="false" Prompt="מסלול" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1398" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="WHOLE_TRACKS" YPosition="6924" XPosition="2961" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" Width="2487" CanvasName="" PromptFontName="Arial" Height="524" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה מספרי סכום " DataType="Number" ItemType="Display Item" InsertAllowed="false" Prompt="מכלול" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1400" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" Visible="false" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="COMPLAINT_CORRECT_YN" YPosition="3704" XPosition="2643" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" Width="688" CanvasName="" PromptFontName="Arial" Height="524" UncheckedValue="N" CheckedValue="Y" PromptFontSize="1100" NextNavigationItemName="" Comment="check box עבור " ItemType="Check Box" InsertAllowed="false" QueryAllowed="false" Prompt="נכונות &amp;#10;תלונה" TabPageName="" Label="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1110" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="-158" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_SB_RADIO_CHECK_PC"/>
         <Item Name="PERIOD_NUM" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="2" YPosition="1100" XPosition="13866" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="713" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Integer" ItemType="Text Item" InsertAllowed="true" Prompt="תקופה" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="304" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-184" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="CLIENT_ID" UpdateAllowed="false" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="2381" CanvasName="" NextNavigationItemName="" Height="476"/>
         <Item Name="CLIENT_TYPE" UpdateAllowed="false" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="2381" CanvasName="" NextNavigationItemName="" DataType="Number" Height="476"/>
         <Item Name="FISCAL_YEAR" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="4" YPosition="1100" XPosition="14605" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="1085" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Integer" ItemType="Text Item" InsertAllowed="true" Prompt="שנה" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="304" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="185" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="WATER_ID" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="1748" XPosition="5241" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="2539" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="true" Prompt="זיהוי מים" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="192" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="0" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="GAUGE_ID" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="16" YPosition="1746" XPosition="7805" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1852" CanvasName="" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" Prompt="מספר &amp;#10; מד   " TabPageName="" PromptJustification="Left" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="192" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="0" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="ROOT_WATER_ID" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="1722" XPosition="2945" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2214" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="true" Prompt="זיהוי ראשי" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="192" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="0" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STATUS_COMMENTS" UpdateAllowed="false" MaximumLength="100" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" NextNavigationItemName="" Height="476"/>
         <Item Name="COMMAND_TO_DELETE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" YPosition="1748" XPosition="546" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="344" CanvasName="" PromptFontName="Arial" Height="627" CheckBoxOtherValues="Unchecked" UncheckedValue="N" CheckedValue="Y" PromptFontSize="1100" NextNavigationItemName="" Comment="check box עבור " ItemType="Check Box" Prompt="לביטול /&amp;#10;לאישור  " TabPageName="" Label="" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" PromptAttachmentOffset="192" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="9" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_CHECK_PC">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="go_item('WT_WORK_COMMANDS_BLK.COMMAND_TO_DELETE');&amp;#10;execute_trigger('WHEN-CHECKBOX-CHANGED'); " DirtyInfo="true"/>
         </Item>
         <Item Name="COMMAND_TO_PRINT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" YPosition="1745" XPosition="1364" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="344" CanvasName="" PromptFontName="Arial" Height="627" CheckBoxOtherValues="Unchecked" UncheckedValue="N" CheckedValue="Y" PromptFontSize="1100" NextNavigationItemName="" Comment="check box עבור " ItemType="Check Box" TabPageName="" Label="" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="298" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="426" PromptFontStyle="Plain" VisualAttributeName="VA_CHECK_PC"/>
         <Item Name="PRINT_ICON" YPosition="7754" XPosition="1350" IconFilename="print_10g_new" Iconic="true" Comment="כפתור טקסט צר" NextNavigationItemName="" ItemsDisplay="1" ItemType="Push Button" TabPageName="" DirtyInfo="true" KeyboardNavigable="false" DefaultButton="true" Width="556" CanvasName="" VisualAttributeName="VA_BUTTON" Height="481" MouseNavigate="false"/>
         <Item Name="NUMBER_SEQ_ID" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="100" YPosition="1100" XPosition="83" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" BackColor="white" FontWeight="Medium" FontStyle="Plain" ForegroundColor="black" Bevel="None" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" KeyboardNavigable="true" Width="4150" FontSize="1100" FontName="Arial" CanvasName="" PromptFontName="Arial" Height="426" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="מספר סידורי" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="607" PromptAlign="Start" PromptFontWeight="Medium" PromptAlignOffset="416" PromptForegroundColor="white" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="ORDER_SEQ" MaximumLength="15" YPosition="1032" XPosition="4082" Justification="Right" BackColor="white" FontWeight="Medium" FontStyle="Plain" Bevel="None" ForegroundColor="black" DirtyInfo="true" FontSpacing="Normal" Width="3986" FontSize="1100" FontName="Arial" CanvasName="" PromptFontName="Arial" Height="444" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" DataType="Number" ItemType="Text Item" Prompt="מספר הזמנה " TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="-2380" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-1004" Visible="false" PromptFontStyle="Plain"/>
         <Item Name="REGION" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="40" YPosition="1085" XPosition="11827" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1111" CanvasName="" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" Prompt="חבל" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="304" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="290" Visible="true" VisualAttributeName="VA_ITEM"/>
         <Item Name="REGION_CODE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="9" YPosition="1112" XPosition="12991" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="846" CanvasName="" PromptFontName="Arial" Height="621" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" Prompt="אזור" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="305" PromptAlign="Start" PromptFontWeight="Demilight" PromptForegroundColor="white" PromptAlignOffset="105" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STATUS" UpdateAllowed="false" MaximumLength="4" YPosition="847" XPosition="3789" NextNavigationItemName="" DataType="Number" DistanceBetweenRecords="50" BackColor="white" Prompt="סטטוס פקודה" TabPageName="" ForegroundColor="black" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="3043" PromptAttachmentOffset="-2178" FontSize="1100" PromptAlignOffset="-685" FontName="Arial" PromptForegroundColor="white" CanvasName="" Visible="false" Height="426"/>
         <Item Name="COMMAND_TYPE" UpdateAllowed="false" MaximumLength="4" YPosition="159" XPosition="3995" NextNavigationItemName="" DataType="Number" DistanceBetweenRecords="50" BackColor="white" TabPageName="" ForegroundColor="black" Bevel="None" DirtyInfo="true" Width="1006" FontSize="1100" FontName="Arial" CanvasName="" Visible="false" Height="452"/>
         <Item Name="COMMAND_SUB_TYPE" UpdateAllowed="false" MaximumLength="4" YPosition="850" XPosition="7619" NextNavigationItemName="" DataType="Number" DistanceBetweenRecords="50" BackColor="white" TabPageName="" ForegroundColor="black" Bevel="None" DirtyInfo="true" DatabaseItem="true" Width="2381" FontSize="1100" FontName="Arial" CanvasName="" Visible="false" Height="426"/>
         <Item Name="SUBJ_CODE" UpdateAllowed="false" MaximumLength="4" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="2381" CanvasName="" Visible="false" NextNavigationItemName="" DataType="Number" Height="476"/>
         <Item Name="STAMP_ACTION" UpdateAllowed="false" MaximumLength="1" YPosition="-3568" XPosition="5664" NextNavigationItemName="" ItemsDisplay="0" DistanceBetweenRecords="952" ItemType="Text Item" BackColor="white" Prompt="Stamp Action" TabPageName="" PromptDisplayStyle="All Records" ForegroundColor="black" DirtyInfo="true" Width="318" PromptAttachmentOffset="159" FontSize="1100" FontName="Arial" CanvasName="" Visible="true" Height="476" Required="true"/>
         <Item Name="STAMP_DATE" MaximumLength="11" YPosition="2413" XPosition="15958" ItemsDisplay="0" DistanceBetweenRecords="952" BackColor="white" ForegroundColor="black" DirtyInfo="true" Width="1905" FontSize="1100" FontName="Arial" CanvasName="" Height="476" Required="true" UpdateAllowed="false" NextNavigationItemName="" DataType="Date" ItemType="Text Item" Prompt="Stamp Date" TabPageName="" PromptDisplayStyle="All Records" PromptAttachmentOffset="159" PromptAlignOffset="-243" Visible="true"/>
         <Item Name="ERROR_RETURN" UpdateAllowed="false" MaximumLength="100" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="2381" CanvasName="" NextNavigationItemName="" Height="476"/>
         <Item Name="UNIT_FOR_EXECUTE_SEQ" MaximumLength="15" YPosition="926" XPosition="4082" Justification="Right" BackColor="white" FontWeight="Medium" FontStyle="Plain" Bevel="None" ForegroundColor="black" DirtyInfo="true" FontSpacing="Normal" Width="3986" FontSize="1100" FontName="Arial" CanvasName="" PromptFontName="Arial" Height="444" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" DataType="Number" ItemType="Text Item" Prompt="מספר מנה " TabPageName="" PromptFontSpacing="Normal" PromptAttachmentOffset="-2380" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-688" Visible="false" PromptFontStyle="Plain"/>
         <Item Name="PRICE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="10" YPosition="1073" XPosition="12322" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1503" CanvasName="" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" Prompt="ערך כספי" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" ColumnName="" PromptAttachmentOffset="169" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="DISPLAY_ACTION" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="1" YPosition="1126" XPosition="14154" Justification="Center" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1456" CanvasName="" PromptFontName="Arial" Height="426" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה בוטל / פג תוקף" DataType="Char" ItemType="Display Item" InsertAllowed="false" Prompt="בוטל" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="571" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="217" PromptFontStyle="Plain" VisualAttributeName="VA_ACTION_ITEM"/>
         <Item Name="PLANNED_DATE" UpdateAllowed="false" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" NextNavigationItemName="" DataType="Datetime" Height="476"/>
         <Item Name="PLANNED_TIME_DUMMY" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" YPosition="1073" XPosition="12558" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1357" CanvasName="" PromptFontName="Arial" Height="426" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" DataType="Char" ItemType="Text Item" Prompt="" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="465" PromptForegroundColor="white" PromptAlignOffset="1129" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="GAUGE_SEQ" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="7" YPosition="0" XPosition="7048" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" BackColor="white" ForegroundColor="black" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="1771" FontSize="1100" FontName="Arial" CanvasName="" PromptFontName="Arial" Height="426" Required="true" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה נומרי" DataType="Number" ItemType="Text Item" Prompt="מספר &amp;#10; מד   " TabPageName="" PromptJustification="Left" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="187" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="453" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="CONTRACTOR_CODE" YPosition="1054" XPosition="2721" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="1243" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" UpdateAllowed="true" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" InsertAllowed="true" Prompt="קבלן" TabPageName="" PromptAttachmentEdge="Start" PromptAttachmentOffset="1660" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="CONTRACTOR_DESC" MaximumLength="80" YPosition="1054" XPosition="4281" Justification="Right" ItemsDisplay="1" Bevel="None" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="5741" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" TabPageName="" PromptAttachmentEdge="Start" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="CONTRACTOR_USER_CODE" MaximumLength="40" YPosition="1929" XPosition="2721" Justification="Right" ItemsDisplay="1" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="1243" CanvasName="" PromptFontName="Arial" HighestAllowedValue="9999" Height="524" MouseNavigate="false" UpdateAllowed="true" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" InsertAllowed="true" Prompt="מבצע" TabPageName="" PromptAttachmentEdge="Start" PromptAttachmentOffset="1501" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="CONTRACTOR_USER_NAME" YPosition="1929" XPosition="4281" Justification="Right" PromptFontSize="1100" Comment="שדה הצגה מודגש לשדה טקסט בעברית " NextNavigationItemName="" ItemsDisplay="1" ItemType="Display Item" TabPageName="" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" PromptAttachmentEdge="Start" Width="5741" PromptAlign="Start" PromptAlignOffset="0" PromptForegroundColor="black" CanvasName="" PromptFontName="Arial" VisualAttributeName="VA_DISPLAY_ITEM" Height="524" MouseNavigate="false"/>
         <Item Name="OPERATION_FINDINGS" MaximumLength="1000" YPosition="3725" XPosition="2753" Justification="Right" ItemsDisplay="1" MultiLine="true" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="14339" CanvasName="" PromptFontName="Arial" Height="1752" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="false" Prompt="ממצאי מבצע" TabPageName="" ShowVerticalScrollbar="true" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptAttachmentOffset="474" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="CURRENT_READING_QTY" YPosition="1081" XPosition="13757" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="3279" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" UpdateAllowed="true" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Number" ItemType="Display Item" InsertAllowed="false" Prompt="קריאה" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="237" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="DISASSEMBLE_READING" YPosition="2793" XPosition="13750" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="3366" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" UpdateAllowed="true" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Number" ItemType="Display Item" InsertAllowed="false" Prompt="קריאת פירוק" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="263" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="NEW_GAUGE_ID" YPosition="9452" XPosition="2504" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="3555" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="מספר" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1257" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="NEW_DIAMETER_CODE" YPosition="9452" XPosition="7036" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="1184" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="קוטר" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" ColumnName="NEW_DIAMETER" PromptAttachmentOffset="132" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" LovName="LOV_DIAMETERS" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="NEW_DIAMETER_DESC" MaximumLength="400" YPosition="9478" XPosition="8331" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="1903" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="NEW_GAUGE_LETTER_CODE" YPosition="3534" XPosition="19604" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" Width="1218" CanvasName="" PromptFontName="Arial" Height="524" PromptFontSize="1100" NextNavigationItemName="" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="אות" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" LovName="LOV_GAUGE_LETTERS" Visible="false" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="NEW_GAUGE_LETTER_NAME" MaximumLength="400" YPosition="10299" XPosition="2535" Justification="Right" ItemsDisplay="1" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1267" CanvasName="" PromptFontName="Arial" Height="524" FormatMask="" MouseNavigate="true" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש למספר " DataType="Char" ItemType="Display Item" Prompt="אות" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1633" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="0" LovName="LOV_GAUGE_LETTERS" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="NEW_GAUGE_LETTER_DESC" MaximumLength="400" YPosition="10323" XPosition="4234" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="false" Width="6006" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="FEE_CODE" YPosition="10808" XPosition="2303" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="1297" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="סוג אגרה" TabPageName="" PromptAttachmentEdge="Start" PromptAttachmentOffset="343" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" Visible="true" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="FEE_CODE_DESC" YPosition="10808" XPosition="3832" Justification="Right" ItemsDisplay="1" Bevel="None" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="2758" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="" TabPageName="" PromptAttachmentEdge="Start" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" Visible="true" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="FEE_SUB_CODE" YPosition="10888" XPosition="9287" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="1296" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="תת &amp;#10;סוג אגרה" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="211" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="-53" PromptFontWeight="Medium" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="FEE_SUB_CODE_DESC" YPosition="10915" XPosition="11079" Justification="Right" ItemsDisplay="1" Bevel="None" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="5060" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="" TabPageName="" PromptAttachmentEdge="Start" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" Visible="true" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="COUNT_REC" UpdateAllowed="false" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="2381" CanvasName="" Visible="false" NextNavigationItemName="" DataType="Number" Height="476"/>
         <Item Name="STAMP_CUSER" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" YPosition="1073" XPosition="10594" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="1676" CanvasName="" PromptFontName="Arial" Height="629" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" InsertAllowed="false" Prompt="נפתח ע&quot;י" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="169" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="132" VisualAttributeName="VA_ITEM"/>
         <Item Name="AREA_ANSWER_CODE" EditYPosition="1000" MaximumLength="40" YPosition="2820" XPosition="2721" Justification="Right" ItemsDisplay="1" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="false" Width="1267" CanvasName="" PromptFontName="Arial" HighestAllowedValue="9999" Height="524" MouseNavigate="false" UpdateAllowed="true" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" InsertAllowed="false" Prompt="תשובה מהשטח" TabPageName="" PromptAttachmentEdge="Start" PromptAttachmentOffset="19" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="WORK_COMMAND_SENDING_DATE" EditYPosition="1000" MaximumLength="0" YPosition="5739" XPosition="14284" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="2773" CanvasName="" PromptFontName="Arial" Height="524" FormatMask="DD/MM/YYYY " MouseNavigate="false" Hint="הקש/י תאריך בפורמט DD/MM/YYYY" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Datetime" ItemType="Display Item" Prompt="תאריך מסירה לקבלן" QueryLength="10" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" PromptAttachmentOffset="362" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontStyle="Plain" LanguageDirection="Left To Right" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="WORK_COMMAND_RECEIVING_DATE" EditYPosition="1000" MaximumLength="0" YPosition="6534" XPosition="14275" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="2773" CanvasName="" PromptFontName="Arial" Height="524" FormatMask="HH24:MI   DD/MM/YYYY " MouseNavigate="false" Hint="הקש/י תאריך בפורמט DD/MM/YYYY" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Datetime" ItemType="Display Item" Prompt="תאריך קבלה מקבלן" QueryLength="10" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" PromptAttachmentOffset="370" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="-53" PromptFontStyle="Plain" LanguageDirection="Left To Right" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="CONTRACT_ACC" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="15" YPosition="1085" XPosition="53" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1693" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" InsertAllowed="true" Prompt="חשבון חוזה " TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" ColumnName="contract_seq" PromptAttachmentOffset="304" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="0" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="FIRST_INSTALL_DATE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="15" YPosition="1085" XPosition="1773" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2036" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Date" ItemType="Text Item" InsertAllowed="true" Prompt=" ת.התקנה&amp;#10;    ראשון " TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" ColumnName="" PromptAttachmentOffset="106" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="132" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="CHANGE_DATE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="15" YPosition="1085" XPosition="3875" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1919" CanvasName="" PromptFontName="Arial" Height="629" CaseRestriction="Upper" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" DataType="Date" ItemType="Text Item" InsertAllowed="true" Prompt="סיום תוקף&amp;#10;      מד" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" ColumnName="" PromptAttachmentOffset="80" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="0" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="WORK_COMMAND_COMMENT" MaximumLength="300" YPosition="5740" XPosition="2621" Justification="Right" ItemsDisplay="1" MultiLine="true" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="false" Width="7276" CanvasName="" PromptFontName="Arial" Height="1905" MouseNavigate="false" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Char" ItemType="Text Item" InsertAllowed="false" Prompt="הערה" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="1269" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="STAMP_CUSER_NAME" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" YPosition="1073" XPosition="10594" Justification="Right" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1676" CanvasName="" PromptFontName="Arial" Height="629" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" InsertAllowed="false" Prompt="נפתח ע&quot;י" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="169" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="132" VisualAttributeName="VA_ITEM"/>
         <Item Name="NEW_TRANSMITTER" YPosition="9452" XPosition="14275" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="2773" CanvasName="" PromptFontName="Arial" Height="524" MouseNavigate="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " ItemType="Display Item" Prompt="מספר משדר" TabPageName="" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" ColumnName="new_transmitter" PromptAttachmentOffset="448" PromptAlign="Start" PromptForegroundColor="black" PromptAlignOffset="0" PromptFontWeight="Medium" PromptFontStyle="Plain" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="REQUEST_SEQ" EditYPosition="1000" MaximumLength="20" YPosition="7245" XPosition="14275" Justification="Right" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="2773" CanvasName="" PromptFontName="Arial" DataLengthSemantics="Null" Height="524" FormatMask="" MouseNavigate="false" Hint="הקש/י תאריך בפורמט DD/MM/YYYY" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה הצגה מודגש לשדה טקסט בעברית " DataType="Number" ItemType="Display Item" Prompt="מספר פניה" QueryLength="10" TabPageName="" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" PromptAttachmentOffset="370" ColumnName="request_seq" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="black" PromptAlignOffset="-53" PromptFontStyle="Plain" LanguageDirection="Left To Right" VisualAttributeName="VA_DISPLAY_ITEM"/>
         <Item Name="AREA_ANSWER_DESC" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="100" YPosition="11022" XPosition="14301" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="3891" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" Comment="שדה טקסט בעברית" ItemType="Text Item" Prompt="תשובה מהשטח" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="169" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="26" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="EXECUTE_DATE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="50" YPosition="11022" XPosition="18255" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" Width="3335" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="HH24:MI   DD/MM/YYYY " UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" DataType="Datetime" Prompt="תאריך ושעת ביצוע" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="169" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="26" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STAMP_USER" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="50" YPosition="11022" XPosition="21655" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" Width="3003" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="" UpdateAllowed="false" PromptFontSize="1100" NextNavigationItemName="" DataType="Char" Prompt="שם משתמש" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="169" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="26" Visible="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="CASHIER_NAME" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CASH_NUM" DSCLength="0" DSCMandatory="true" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="DEFAULT_OPENING_BALANCE" DSCLength="0" DSCMandatory="false" DSCPrecision="7" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <Trigger Name="PRE-QUERY" TriggerText="DECLARE&amp;#10;      v_where VARCHAR2(500) := '1=1';&amp;#10;     &amp;#10;      v_red WT_READINGS.READING_DATE%type := NULL;&amp;#10;    &amp;#10;     &amp;#10;BEGIN&amp;#10;   IF :query.water_id IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND water_id = '''||:query.water_id||'''';&amp;#10;  end if;&amp;#10;  &amp;#10;  -- IF :WT_READINGS_BLK.period_num IS NOT NULL THEN &amp;#10;   -- v_where := v_where||' AND period_num = '||:WT_READINGS_BLK.period_num;&amp;#10;   --end if;&amp;#10;   &amp;#10;    &amp;#10;  -- IF :WT_READINGS_BLK.fiscal_year IS NOT NULL THEN &amp;#10;  --  v_where := v_where||' AND fiscal_year = '||:WT_READINGS_BLK.fiscal_year;&amp;#10;  --end if;&amp;#10;  &amp;#10;     --v_where := v_where||' AND Fiscal_Year >= TO_NUMBER(TO_CHAR(sysdate,''YYYY''))-1 ';&amp;#10;     &amp;#10;     &amp;#10;  --------------------------p_648945 בקשו לשלוף רק פקודות שנפתחו בשנה האחרונה&amp;#10;   --v_alert := DISPLAY_COMMENT('APP',444,NULL,(to_date(to_char(:WT_READINGS_BLK.READING_DATE,'dd/mm/yyyy'))-365),NULL,NULL);&amp;#10;&amp;#10; &amp;#10;select READING_DATE&amp;#10;into v_red&amp;#10;from WT_READINGS&amp;#10;where READING_DATE=:WT_READINGS_BLK.READING_DATE&amp;#10; AND water_id =:query.water_id;&amp;#10;&amp;#10;&amp;#10;&amp;#10;v_where := v_where||' AND execute_date >='''||to_char(add_months(v_red,-12),'dd/mm/yyyy')||'''';&amp;#10;v_where := v_where||' AND execute_date &lt;='''||to_char(v_red,'dd/mm/yyyy')||'''';&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&#x9;SET_BLOCK_PROPERTY('WT_WORK_COMMANDS_BLK',DEFAULT_WHERE,v_where);&amp;#10;&amp;#10;   &amp;#10;END;" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" TriggerText="DECLARE&amp;#10;&#x9;v_comments VARCHAR2(200);&amp;#10;&#x9;v_client_phone varchar2(100);&amp;#10;&#x9;v_trace  NUMBER:=0;&amp;#10;BEGIN&amp;#10;&amp;#10;v_trace:=1;&amp;#10;--:parameter.COUNT_REC := nvl(:parameter.COUNT_REC,0)+1;&amp;#10;--:WT_WORK_COMMANDS_BLK.COUNT_REC := :parameter.COUNT_REC;&amp;#10;&amp;#10;    get_desc_query_pkg2.root_water_obj_id_region(:WT_WORK_COMMANDS_BLK.water_id,:WT_WORK_COMMANDS_BLK.GAUGE_SEQ,&amp;#10;                                             :WT_WORK_COMMANDS_BLK.ROOT_WATER_ID,:WT_WORK_COMMANDS_BLK.PARENT_WATER_ID,&amp;#10;                                               :WT_WORK_COMMANDS_BLK.OBJ_ID,:WT_WORK_COMMANDS_BLK.REGION_CODE,:WT_WORK_COMMANDS_BLK.PARENT_GAUGE_SEQ); &amp;#10;                                                &amp;#10;&amp;#10;  &amp;#10;  :WT_WORK_COMMANDS_BLK.REGION:=get_desc_query_pkg2.GET_ROPE_DESC(:WT_WORK_COMMANDS_BLK.REGION_CODE);                                             &amp;#10; v_trace:=2;&#x9;                                            &amp;#10; &amp;#10; &#x9;if :WT_WORK_COMMANDS_BLK.COMMAND_TYPE is null then &amp;#10;&#x9;&#x9;:WT_WORK_COMMANDS_BLK.COMMAND_TYPE_DESC := '';&amp;#10;&#x9;else&amp;#10;&#x9;&#x9;:WT_WORK_COMMANDS_BLK.COMMAND_TYPE_DESC := get_desc_query_pkg2.COMMAND_TYPE_desc(:WT_WORK_COMMANDS_BLK.COMMAND_TYPE);&amp;#10;&#x9;end if;&amp;#10;v_trace:=3;&#x9;&amp;#10;&#x9;if :WT_WORK_COMMANDS_BLK.COMMAND_TYPE is null or&amp;#10;                                             &#x9;:WT_WORK_COMMANDS_BLK.COMMAND_SUB_TYPE is null then&amp;#10;       :WT_WORK_COMMANDS_BLK.SUB_COMMAND_TYPE_DESC := '';&amp;#10;  else                                     &#x9;&amp;#10;    :WT_WORK_COMMANDS_BLK.SUB_COMMAND_TYPE_DESC := get_desc_query_pkg2.COMMAND_SUB_TYPE_DESC(:WT_WORK_COMMANDS_BLK.COMMAND_TYPE,&amp;#10;                                             &#x9;:WT_WORK_COMMANDS_BLK.COMMAND_SUB_TYPE);&amp;#10;  end if; &amp;#10;  :WT_WORK_COMMANDS_BLK.status := WT_GET_WORK_STATUS_PKG.F_WORK_COMMAND_STATUS(:WT_WORK_COMMANDS_BLK.work_command_seq,v_comments);&amp;#10;v_trace:=4;&#x9;&amp;#10;  IF :WT_WORK_COMMANDS_BLK.STATUS IS NULL THEN &amp;#10;      :WT_WORK_COMMANDS_BLK.STATUS_desc := '';&amp;#10;  ELSE&amp;#10;&amp;#10;     get_desc_query_pkg2.COMMAND_STATUS_desc(:WT_WORK_COMMANDS_BLK.STATUS,:WT_WORK_COMMANDS_BLK.STATUS_desc);&amp;#10;&amp;#10;     IF :WT_WORK_COMMANDS_BLK.status_comments IS NOT NULL THEN&amp;#10;       IF :WT_WORK_COMMANDS_BLK.STATUS = sr_code_values_pkg.get_number_value('WORK_COMMAND_STATUS_CLOSED','Y') THEN&amp;#10;         :WT_WORK_COMMANDS_BLK.STATUS_desc := :WT_WORK_COMMANDS_BLK.STATUS_desc||' '||NVL(:WT_WORK_COMMANDS_BLK.status_comments,' ');&amp;#10;       ELSIF :WT_WORK_COMMANDS_BLK.STATUS = sr_code_values_pkg.get_number_value('WORK_COMMAND_STATUS_CANCELED','Y') THEN&amp;#10;     &#x9;   :WT_WORK_COMMANDS_BLK.STATUS_desc := :WT_WORK_COMMANDS_BLK.STATUS_desc||'-'||NVL(:WT_WORK_COMMANDS_BLK.status_comments,' ');&amp;#10;       END IF;&amp;#10;     END IF;&amp;#10;  END IF;&amp;#10;v_trace:=5;&amp;#10; if :WT_WORK_COMMANDS_BLK.OBJ_ID is null then&amp;#10; &#x9; :WT_WORK_COMMANDS_BLK.subj_code := 0;&amp;#10; &#x9; :WT_WORK_COMMANDS_BLK.client_name := '';&amp;#10; else  &amp;#10; &#x9; get_desc_query_pkg2.client_obj(:WT_WORK_COMMANDS_BLK.OBJ_ID,:WT_WORK_COMMANDS_BLK.subj_code,:WT_WORK_COMMANDS_BLK.client_id,:WT_WORK_COMMANDS_BLK.client_type);&amp;#10;    :WT_WORK_COMMANDS_BLK.client_name := get_desc_query_pkg.get_client_desc_query(:WT_WORK_COMMANDS_BLK.client_id,:WT_WORK_COMMANDS_BLK.client_type);&amp;#10; end if;&amp;#10; if :WT_WORK_COMMANDS_BLK.subj_code = 0 or :WT_WORK_COMMANDS_BLK.OBJ_ID is null&#x9;then&amp;#10; &#x9; &#x9;:WT_WORK_COMMANDS_BLK.OBJECT_ADDRESS := '';&amp;#10; else&amp;#10;&#x9;&#x9;address_pkg.get_obj_address(:WT_WORK_COMMANDS_BLK.subj_code,:WT_WORK_COMMANDS_BLK.OBJ_ID,:WT_WORK_COMMANDS_BLK.OBJECT_ADDRESS);&amp;#10; end if;&amp;#10; :WT_WORK_COMMANDS_BLK.NUMBER_SEQ_ID :=   :WT_WORK_COMMANDS_BLK.PARENT_GAUGE_SEQ || '-'||:WT_WORK_COMMANDS_BLK.obj_id || '-'||to_char(:WT_WORK_COMMANDS_BLK.PERIOD_NUM);&amp;#10;&#x9;&amp;#10;&amp;#10;v_trace:=6;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT GAUGE_ID &amp;#10;&#x9;&#x9;INTO :WT_WORK_COMMANDS_BLK.GAUGE_ID&amp;#10;&#x9;&#x9;FROM WT_GAUGES &amp;#10;&#x9;&#x9;WHERE GAUGE_SEQ=:WT_WORK_COMMANDS_BLK.GAUGE_SEQ;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN NULL;&amp;#10;&#x9;END;&amp;#10;v_trace:=7;&amp;#10;&#x9;IF :WT_WORK_COMMANDS_BLK.status = sr_code_values_pkg.get_number_value('WORK_COMMAND_STATUS_APPROVED','Y') THEN&amp;#10;&#x9;  wt_count_command_cost(:WT_WORK_COMMANDS_BLK.WORK_COMMAND_SEQ,:WT_WORK_COMMANDS_BLK.region_code,:WT_WORK_COMMANDS_BLK.EXECUTE_DATE,:WT_WORK_COMMANDS_BLK.PRICE,:WT_WORK_COMMANDS_BLK.ERROR_RETURN);&amp;#10;&#x9;  IF :WT_WORK_COMMANDS_BLK.PRICE = 0 THEN&amp;#10;&#x9;&#x9;  :WT_WORK_COMMANDS_BLK.PRICE := NULL;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;  :WT_WORK_COMMANDS_BLK.PRICE := NULL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;IF :WT_WORK_COMMANDS_BLK.stamp_action = 'D' THEN&amp;#10;&#x9;  :WT_WORK_COMMANDS_BLK.display_action := 'X';&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;IF :WT_WORK_COMMANDS_BLK.AREA_ANSWER_CODE IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;select AREA_ANSWER_NAME&amp;#10;&#x9;&#x9;&#x9;into :WT_WORK_COMMANDS_BLK.AREA_ANSWER_DESC&amp;#10;&#x9;&#x9;&#x9;from wt_area_answer_codes&amp;#10;&#x9;&#x9;&#x9;where AREA_ANSWER_CODE=:WT_WORK_COMMANDS_BLK.AREA_ANSWER_CODE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF :WT_WORK_COMMANDS_BLK.CONTRACTOR_CODE IS NOT NULL THEN &amp;#10;&#x9;&#x9;  BEGIN&amp;#10;&#x9;&#x9;    SELECT RDV.VALUE_DESC&amp;#10;&#x9;&#x9;    INTO :WT_WORK_COMMANDS_BLK.CONTRACTOR_DESC&amp;#10;&#x9;&#x9;    FROM RM_DECODE rd,&amp;#10;&#x9;&#x9;          RM_DECODE_VALUES rdv&amp;#10;&#x9;&#x9;    WHERE RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9;    AND RD.DECODE_CODE = 501&amp;#10;&#x9;&#x9;    AND RDV.VALUE_CODE = :WT_WORK_COMMANDS_BLK.CONTRACTOR_CODE;&amp;#10;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;END IF;&amp;#10;v_trace:=8;&amp;#10;&#x9;&#x9;  IF :WT_WORK_COMMANDS_BLK.CONTRACTOR_CODE IS NOT NULL &amp;#10;&#x9;&#x9;  &#x9;AND :WT_WORK_COMMANDS_BLK.CONTRACTOR_USER_CODE IS NOT NULL THEN &amp;#10;&#x9;&#x9;      BEGIN&amp;#10;&#x9;&#x9;       SELECT&#x9;CONTRACTOR_USER_NAME&amp;#10;&#x9;&#x9;  &#x9;   INTO :WT_WORK_COMMANDS_BLK.CONTRACTOR_USER_NAME&amp;#10;&#x9;&#x9;  &#x9;   FROM WT_CONTRACTOR_USERS&amp;#10;&#x9;&#x9;&#x9;     WHERE CONTRACTOR_CODE = :WT_WORK_COMMANDS_BLK.CONTRACTOR_CODE &amp;#10;&#x9;&#x9;       AND &#x9;CONTRACTOR_USER_CODE = :WT_WORK_COMMANDS_BLK.CONTRACTOR_USER_CODE;&amp;#10;&#x9;&#x9;      EXCEPTION&amp;#10;&#x9;&#x9;      &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;          :WT_WORK_COMMANDS_BLK.CONTRACTOR_USER_NAME := NULL;&amp;#10;&#x9;&#x9;      END;&amp;#10;&#x9;&#x9;  END IF;  &amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;IF :WT_WORK_COMMANDS_BLK.NEW_DIAMETER_CODE IS NOT NULL THEN &amp;#10;&#x9;&#x9;  BEGIN&amp;#10;&#x9;&#x9;    SELECT RDV.VALUE_DESC&amp;#10;&#x9;&#x9;    INTO :WT_WORK_COMMANDS_BLK.NEW_DIAMETER_DESC&amp;#10;&#x9;&#x9;    FROM RM_DECODE rd,&amp;#10;&#x9;&#x9;          RM_DECODE_VALUES rdv&amp;#10;&#x9;&#x9;    WHERE RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9;    AND RD.DECODE_CODE = 4486&amp;#10;&#x9;&#x9;    AND RDV.VALUE_CODE = :WT_WORK_COMMANDS_BLK.NEW_DIAMETER_CODE;&amp;#10;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;  :WT_WORK_COMMANDS_BLK.NEW_DIAMETER_DESC := NULL;&amp;#10;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;v_trace:=9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :WT_WORK_COMMANDS_BLK.NEW_GAUGE_LETTER_CODE IS NOT NULL THEN &amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;  select GAUGE_LETTER_NAME,GAUGE_LETTER_DESC&amp;#10;&#x9; &#x9;  into :WT_WORK_COMMANDS_BLK.NEW_GAUGE_LETTER_NAME, &amp;#10;&#x9; &#x9;&#x9;&#x9;&#x9; :WT_WORK_COMMANDS_BLK.NEW_GAUGE_LETTER_DESC      &amp;#10;&#x9;&#x9;&#x9;from WT_GAUGE_LETTER_CODEs&amp;#10;&#x9;&#x9;&#x9;where stamp_action &lt;> 'D'&amp;#10;&#x9;  &#x9;and GAUGE_LETTER_CODE = :WT_WORK_COMMANDS_BLK.NEW_GAUGE_LETTER_CODE;&amp;#10;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;  :WT_WORK_COMMANDS_BLK.NEW_GAUGE_LETTER_NAME := NULL;&amp;#10;&#x9;&#x9;  &#x9;  :WT_WORK_COMMANDS_BLK.NEW_GAUGE_LETTER_DESC := NULL;&amp;#10;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;END IF;&amp;#10;v_trace:=10;&amp;#10;&#x9;&#x9;/*&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :WT_WORK_COMMANDS_BLK.FEE_CODE IS NOT NULL  AND :WT_WORK_COMMANDS_BLK.FEE_SUB_CODE IS NOT NULL THEN &amp;#10;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;select c.debit_name, t.type_name&amp;#10;&#x9;&#x9;&#x9;  &#x9;into :WT_WORK_COMMANDS_BLK.FEE_SUB_CODE_DESC,:WT_WORK_COMMANDS_BLK.FEE_CODE_DESC&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;from rm_debit_codes c,rm_debit_types t&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;where c.subj_code = :global.OBJ_SUBJ_CODE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.serv_code = :parameter.SERV_CODE_WATER_FEE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.subj_code = t.subj_code&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.serv_code = t.serv_code&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.debit_type = T.DEBIT_TYPE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.stamp_action &lt;> 'D'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.debit_type = :WT_WORK_COMMANDS_BLK.fee_code&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;and c.debit_code = :WT_WORK_COMMANDS_BLK.fee_sub_code;&amp;#10;&amp;#10;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;  :WT_WORK_COMMANDS_BLK.FEE_CODE_DESC := NULL;&amp;#10;&#x9;&#x9;  &#x9;  :WT_WORK_COMMANDS_BLK.FEE_SUB_CODE_DESC := NULL;&amp;#10;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&#x9;&amp;#10;*/&amp;#10;v_trace:=11; &amp;#10; &amp;#10;   IF :WT_WORK_COMMANDS_BLK.PLANNED_DATE IS NOT NULL THEN&amp;#10;   &#x9;  :WT_WORK_COMMANDS_BLK.PLANNED_DATE_DUMMY := to_date(to_char(:WT_WORK_COMMANDS_BLK.PLANNED_DATE,'DD/MM/YYYY'),'DD/MM/YYYY');&amp;#10;   &#x9;  :WT_WORK_COMMANDS_BLK.PLANNED_TIME_DUMMY := TO_CHAR(:WT_WORK_COMMANDS_BLK.PLANNED_DATE,'HH24:MI');&amp;#10;   END IF;&amp;#10;&amp;#10;   begin&amp;#10;   &#x9;&amp;#10;   &#x9; select t.first_name||' '||t.family_name&amp;#10; into :WT_WORK_COMMANDS_BLK.STAMP_CUSER_NAME&amp;#10; from rm_users t&amp;#10; where t.user_name=:WT_WORK_COMMANDS_BLK.STAMP_CUSER;&amp;#10;   exception when others then&amp;#10;   &#x9;:WT_WORK_COMMANDS_BLK.STAMP_CUSER_NAME:=:WT_WORK_COMMANDS_BLK.STAMP_CUSER;&amp;#10;   &#x9;end;&amp;#10;&amp;#10;v_trace:=12;&amp;#10;&amp;#10;&amp;#10;begin&amp;#10;select ADD_MONTHS(g.first_install_date, gm.monthes_for_disassemble) change_date&amp;#10;into :WT_WORK_COMMANDS_BLK.change_date&amp;#10;  from wt_gauges g,Wt_Gauge_Maintenance gm&amp;#10; where g.gauge_letter_code = gm.gauge_letter_code&amp;#10;   and g.diameter = gm.diameter&amp;#10;   and gm.stamp_action &lt;> 'D'&amp;#10;   and g.stamp_action &lt;> 'D'&amp;#10;   and g.water_id = :WT_WORK_COMMANDS_BLK.water_id&amp;#10;   and g.gauge_seq = :WT_WORK_COMMANDS_BLK.gauge_seq;&amp;#10;exception&amp;#10;   WHEN OTHERS THEN&amp;#10;      NULL;&amp;#10;end;&amp;#10;&amp;#10;begin &amp;#10;    select  FIRST_INSTALL_DATE&amp;#10;    into :WT_WORK_COMMANDS_BLK.FIRST_INSTALL_DATE&amp;#10;    from  wt_gauges &amp;#10;    where water_id=:WT_WORK_COMMANDS_BLK.water_id&amp;#10;    and   gauge_seq=:WT_WORK_COMMANDS_BLK.gauge_seq;&amp;#10;exception&amp;#10;   WHEN OTHERS THEN&amp;#10;      NULL;&amp;#10;end;    &amp;#10;&amp;#10;   &amp;#10;   :WT_WORK_COMMANDS_BLK.contract_acc:=get_desc_query_pkg2.get_contract_acc_num(:WT_WORK_COMMANDS_BLK.obj_id)  ;&amp;#10; &amp;#10;&amp;#10;&amp;#10;&amp;#10; EXCEPTION &amp;#10; &#x9;  when OTHERS then&amp;#10; &#x9;       message('WT_WORK_COMMANDS_BLK, POST_QUERY: '||v_trace||', '||SQLERRM);  &amp;#10; &#x9;       message('WT_WORK_COMMANDS_BLK, POST_QUERY: '||v_trace||', '||SQLERRM);  &amp;#10; END;&amp;#10;&amp;#10;&amp;#10;" DirtyInfo="true"/>
      </Block>
      <Block Name="IMAGES" UpdateAllowed="false" ScrollbarTabPageName="" QueryDataSourceName="/*look at pre query*/" RecordsDisplayCount="3" InsertAllowed="false" QueryDataSourceType="FROM clause query" ScrollbarYPosition="1721" ShowScrollbar="true" DeleteAllowed="false" DirtyInfo="true" ScrollbarCanvasName="DETAILS" WhereClause="1=1" ScrollbarWidth="382" ScrollbarXPosition="15" ScrollbarLength="2011">
         <Item Name="BTN_EXIT" YPosition="13862" XPosition="22727" Iconic="false" Comment="כפתור טקסט צר" ItemsDisplay="1" ItemType="Push Button" BackColor="metrogray" FontWeight="Bold" Label="יציאה" TabPageName="" FontStyle="Plain" DirtyInfo="true" KeyboardNavigable="true" Width="2381" CanvasName="DETAILS" PopupMenuName="" VisualAttributeName="VA_BUTTON" Height="640" MouseNavigate="false">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="&amp;#10;go_item('control.BTN_IMAGE');&amp;#10;&amp;#10;Hide_View('DETAILS');&amp;#10;              Hide_window('DETAILS');" DirtyInfo="true"/>
         </Item>
         <Item Name="SEQ" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="9" YPosition="1758" XPosition="472" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="2381" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" CopyValueFromItem="" Prompt="מס' קריאה/פקודה" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" ColumnName="seq" PromptAttachmentOffset="143" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-185" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:IMAGES.stamp_cdate,'YYYY')||'\',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="IMAGE_SEQ" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="11" YPosition="1758" XPosition="2906" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" FontWeight="Medium" FontStyle="Plain" Bevel="None" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="true" Width="2858" FontSize="1100" FontName="Arial" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Number" ItemType="Text Item" Prompt="מס' תמונה" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="IMAGE_SEQ" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="53" PromptForegroundColor="white" PrimaryKey="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:IMAGES.stamp_cdate,'YYYY')||'/',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="STAMP_CDATE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="20" YPosition="1758" XPosition="5883" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" FontWeight="Medium" FontStyle="Plain" Bevel="None" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="true" Width="2858" FontSize="1100" FontName="Arial" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Date" ItemType="Text Item" Prompt="תאריך יצירה" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="STAMP_CDATE" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-79" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:IMAGES.stamp_cdate,'YYYY')||'/',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="STAMP_USER" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="20" YPosition="1758" XPosition="8835" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" FontWeight="Medium" FontStyle="Plain" Bevel="None" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="true" Width="2858" FontSize="1100" FontName="Arial" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" Prompt="משתמש" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="stamp_user" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-105" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:IMAGES.stamp_cdate,'YYYY')||'/',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="IMAGE_LINK" RecordVisualAttributeGroupName="" MaximumLength="1000" Enabled="true" YPosition="8127" XPosition="11853" Justification="Right" ItemsDisplay="1" DistanceBetweenRecords="50" ReadingOrder="Left To Right" FontWeight="Medium" FontStyle="Underline" Bevel="None" ForegroundColor="metroblue1" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="true" Width="13127" FontSize="1100" FontName="Arial" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="IMAGE_LINK" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="53" PromptForegroundColor="white" PromptFontStyle="Plain" VisualAttributeName="DEFAULT">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="declare&amp;#10;&#x9;V_NAME varchar2(20000);&amp;#10;begin&amp;#10;&#x9;&amp;#10;V_NAME := computer_data_pkg.get_url_string||:IMAGES.IMAGE_LINK;&#x9;&#x9;&amp;#10;&#x9;web.show_document(V_NAME,'_SELF');&amp;#10;&#x9;images_pkg.main(to_char(:wt_readings_blk.stamp_cdate,'YYYY')||'/',:WT_READINGS_BLK.reading_seq);&amp;#10;&#x9;end;" DirtyInfo="true"/>
         </Item>
         <Item Name="FROM_TABLE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="200" YPosition="1300" XPosition="20286" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" FontWeight="Medium" FontStyle="Plain" Bevel="None" DirtyInfo="true" FontSpacing="Normal" KeyboardNavigable="true" Width="4109" FontSize="1100" FontName="Arial" CanvasName="" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" Prompt="משתמש" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="FROM_TABLE" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="53" PromptForegroundColor="white" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="FROM_TABLE_DESC" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="200" YPosition="1758" XPosition="11708" Justification="Right" ItemsDisplay="0" DistanceBetweenRecords="50" FontWeight="Medium" FontStyle="Plain" Bevel="None" DirtyInfo="true" DatabaseItem="false" FontSpacing="Normal" KeyboardNavigable="true" Width="2521" FontSize="1100" FontName="Arial" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" DataType="Char" ItemType="Text Item" Prompt="נוצר מתהליך" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" PromptAttachmentEdge="Top" InitializeKeyboardDirection="Local" PromptAttachmentOffset="143" ColumnName="" PromptAlign="Center" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="53" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM">
            <Trigger Name="WHEN-MOUSE-CLICK" TriggerText="if :IMAGES.IMAGE_SEQ is not null then &amp;#10;images_pkg.show_image2(to_char(:IMAGES.stamp_cdate,'YYYY')||'/',:IMAGES.IMAGE_SEQ);&amp;#10;end if;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="READING_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="8" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="IMAGE_SEQ" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="10" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCNochildren="false" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCNochildren="false" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCNochildren="false" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <Trigger Name="PRE-QUERY" TriggerText="declare&amp;#10;&#x9;&amp;#10;&#x9;v_select varchar2(32767);&amp;#10;&#x9;&amp;#10;begin&amp;#10;&#x9;v_select:='(select r.image_seq, &amp;#10;&#x9;r.reading_seq as seq, &amp;#10;&#x9;''WT_READING_IMAGES'' as from_table, &amp;#10;&#x9;null as image_link, &amp;#10;&#x9;r.stamp_user, &amp;#10;&#x9;r.stamp_cdate &amp;#10;&#x9;from WT_READING_IMAGES r &amp;#10;&#x9;where r.reading_seq='||:WT_READINGS_BLK.reading_seq ||'&amp;#10;&#x9;union &amp;#10;&#x9;select c.image_seq, &amp;#10;&#x9;c.work_command_seq as seq, &amp;#10;&#x9;''WT_WORK_COMMANDS_IMAGES'' as from_table, &amp;#10;&#x9;c.image_link, &amp;#10;&#x9;c.stamp_user, &amp;#10;&#x9;c.stamp_cdate &amp;#10;&#x9;from WT_WORK_COMMANDS_IMAGES c &amp;#10;&#x9;where c.work_command_seq in( select t.work_command_seq from wt_work_commands t &amp;#10;&#x9;where t.water_id='''||:WT_READINGS_BLK.water_id ||''' &amp;#10;&#x9;and t.period_num= '||:WT_READINGS_BLK.period_num ||'&amp;#10;&#x9;and t.fiscal_year= '||:WT_READINGS_BLK.fiscal_year||'))';&amp;#10;&#x9;&amp;#10;&#x9;set_block_property('IMAGES',QUERY_DATA_SOURCE_NAME,v_select);&amp;#10;end;&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" TriggerText="begin&amp;#10;&#x9;if :IMAGES.FROM_TABLE='WT_READING_IMAGES' then &amp;#10;&#x9;:IMAGES.FROM_TABLE_DESC:='קריאות';&amp;#10;&#x9;elsif :IMAGES.FROM_TABLE='WT_WORK_COMMANDS_IMAGES' then &#x9;&#x9;&amp;#10;&#x9;:IMAGES.FROM_TABLE_DESC:='פק&quot;ע';&amp;#10;&#x9;else&amp;#10;&#x9;&#x9;&#x9;:IMAGES.FROM_TABLE_DESC:=null;&amp;#10;&#x9;&#x9;end if;&amp;#10;&#x9;&amp;#10;&#x9;end;" DirtyInfo="true"/>
      </Block>
      <Block Name="WT_PERIODIC_PRICELIST_BLK" UpdateAllowed="false" RecordVisualAttributeGroupName="" ScrollbarTabPageName="" QueryDataSourceName="&amp;#10;       select water_id, fiscal_year, period_num, serv_code, debit_code, &amp;#10;       multiplier, sum_add, sum_substract,real_step, process_seq, sum(actual_step_width) actual_step_width      &amp;#10;from wt_periodic_pricelist&amp;#10;where (multiplier != 0&amp;#10;                        OR debit_code IN (SELECT   DISTINCT debit_code_2&amp;#10;                                          FROM   rm_debit_connections&amp;#10;                                          WHERE   connection_type IN (5, 9)                        &amp;#10;                                          AND stamp_action &lt;> 'D'))&amp;#10;group by water_id, fiscal_year, period_num, serv_code, debit_code, &amp;#10;       multiplier, sum_add, sum_substract, real_step,process_seq" DMLDataName="WT_PERIODIC_PRICELIST" RecordsDisplayCount="4" QueryAllRecords="true" InsertAllowed="false" QueryDataSourceType="FROM clause query" ScrollbarYPosition="5144" ShowScrollbar="true" DeleteAllowed="false" DirtyInfo="true" ScrollbarCanvasName="DETAILS" WhereClause="water_id = :query.water_id &amp;#10;AND fiscal_year =     :WT_READINGS_BLK.fiscal_year&amp;#10;AND period_num =     :WT_READINGS_BLK.period_num&amp;#10;AND ( serv_code = :global.water_serv_code&amp;#10;      OR serv_code = :parameter.KEREN_SHIKUM_SERV_CODE&amp;#10;      OR serv_code = :parameter.DROUGHT_DEBIT_SERV_CODE  &amp;#10;    )&amp;#10;" NavigationStyle="Change Record" ScrollbarWidth="402" ScrollbarXPosition="0" OrderByClause="debit_code, multiplier" ScrollbarLength="2660">
         <Item Name="DISPLAY_DEBIT_CODE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="4" YPosition="5145" XPosition="458" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1108" CanvasName="DETAILS" PromptFontName="Arial" HighestAllowedValue="9999" Height="629" PromptFontSize="1100" Comment="(שדה קוד (4 ספרות" DataType="Integer" ItemType="Text Item" Prompt="מהות שימוש" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="103" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="DEBIT_CODE" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="4" YPosition="2602" XPosition="8884" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="959" CanvasName="" PromptFontName="MS Sans Serif" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="800" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="מהות שימוש" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="101" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="105" PrimaryKey="true" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="PERSON_NUM" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="4" YPosition="5145" XPosition="4341" Justification="Right" DistanceBetweenRecords="50" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1189" CanvasName="DETAILS" PromptFontName="Arial" HighestAllowedValue="9999" Height="629" UpdateAllowed="false" PromptFontSize="1100" Comment="שדה מספרי שלם" DataType="Integer" ItemType="Text Item" InsertAllowed="false" Prompt=" &amp;#10; נפשות" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" PromptAttachmentOffset="77" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-53" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="DEBIT_NAME" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="40" YPosition="5145" XPosition="1594" Justification="Right" AutoHint="true" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2725" CanvasName="DETAILS" PromptFontName="Arial" Height="629" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" ItemType="Text Item" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="64" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="STEP_NUM" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="2" YPosition="2602" XPosition="11958" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="635" CanvasName="" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="מדרגה" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="98" PromptAlign="Center" PromptForegroundColor="white" PromptAlignOffset="-80" VisualAttributeName="VA_ITEM"/>
         <Item Name="DISPLAY_STEP_NUM" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="2" YPosition="5145" XPosition="5583" Justification="Right" AutoHint="true" DistanceBetweenRecords="50" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" DatabaseItem="true" KeyboardNavigable="true" Width="899" CanvasName="DETAILS" PromptFontName="Arial" Height="629" PromptFontSize="1100" Comment="שדה מספרי שלם" DataType="Integer" ItemType="Text Item" Prompt="מדרגה" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" ColumnName="real_step" PromptAttachmentOffset="103" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="-26" VisualAttributeName="VA_ITEM"/>
         <Item Name="ACTUAL_STEP_WIDTH" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="13" YPosition="5144" XPosition="6552" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="1535" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.099MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="כמות" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="103" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="448" VisualAttributeName="VA_ITEM"/>
         <Item Name="MULTIPLIER" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="7" YPosition="5145" XPosition="8121" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" KeyboardNavigable="true" Width="1268" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.099MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="תעריף" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="103" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="ALL_DEBIT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="13" YPosition="5145" XPosition="9437" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="4745" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.099MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="חיוב" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="103" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="STAMP_ACTION" MaximumLength="1" Prompt="Stamp Action" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="318" AutoHint="true" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_CDATE" MaximumLength="0" Prompt="Stamp Cdate" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1905" AutoHint="true" DataType="Datetime" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_DATE" MaximumLength="0" Prompt="Stamp Date" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="1905" AutoHint="true" DataType="Datetime" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_USER" MaximumLength="15" Prompt="Stamp User" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2540" AutoHint="true" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="FISCAL_YEAR" MaximumLength="5" Prompt="Fiscal Year" DirtyInfo="true" KeyboardNavigable="true" Width="953" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="PERIOD_NUM" MaximumLength="3" Prompt="Period Num" DirtyInfo="true" KeyboardNavigable="true" Width="635" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="WATER_ID" MaximumLength="12" Prompt="Water Id" DirtyInfo="true" KeyboardNavigable="true" Width="2064" AutoHint="true" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="SUM_SUBSTRACT" MaximumLength="15" Prompt="Sum Substract" DirtyInfo="true" KeyboardNavigable="true" Width="2540" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="SERV_CODE" MaximumLength="5" Prompt="Serv Code" DirtyInfo="true" KeyboardNavigable="true" Width="953" AutoHint="true" DataType="Number" Height="476" ItemType="Text Item"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="FISCAL_YEAR" DSCLength="0" DSCMandatory="true" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PERIOD_NUM" DSCLength="0" DSCMandatory="true" DSCPrecision="2" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCLength="12" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="DEBIT_CODE" DSCLength="0" DSCMandatory="true" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="STEP_NUM" DSCLength="0" DSCMandatory="true" DSCPrecision="2" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="ACTUAL_STEP_WIDTH" DSCLength="0" DSCMandatory="true" DSCPrecision="11" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="MULITPLIER" DSCLength="0" DSCMandatory="true" DSCPrecision="8" DSCScale="3"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="SUM_ADD" DSCLength="0" DSCMandatory="false" DSCPrecision="13" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="SUM_SUBSTRACT" DSCLength="0" DSCMandatory="false" DSCPrecision="13" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="SERV_CODE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <Trigger Name="PRE-QUERY" TriggerText="DECLARE&amp;#10;      v_where VARCHAR2(500) := '1=1';&amp;#10;BEGIN&amp;#10;   IF :query.water_id IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND water_id = '''||:query.water_id||'''';&amp;#10;  end if;&amp;#10;  &amp;#10;   IF :WT_READINGS_BLK.period_num IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND period_num = '||:WT_READINGS_BLK.period_num;&amp;#10;   end if;&amp;#10;   &amp;#10;    &amp;#10;   IF :WT_READINGS_BLK.fiscal_year IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND fiscal_year = '||:WT_READINGS_BLK.fiscal_year;&amp;#10;  end if;&amp;#10;  &amp;#10;&#x9;&amp;#10;&#x9;SET_BLOCK_PROPERTY('wt_periodic_blk',DEFAULT_WHERE,v_where);&amp;#10;   &amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" TriggerText="declare&amp;#10;&#x9;v_debit_type number;&amp;#10;&#x9;v_check_dISABLED varchar2(1);&amp;#10;BEGIN&#x9;&amp;#10;        :wt_periodic_pricelist_blk.all_debit := :wt_periodic_pricelist_blk.actual_step_width &amp;#10;                                             * :wt_periodic_pricelist_blk.multiplier; &amp;#10;BEGIN &amp;#10;&#x9;      :wt_periodic_pricelist_blk.display_debit_code := :wt_periodic_pricelist_blk.debit_code;&amp;#10;      &amp;#10;  &#x9;&#x9;&#x9;:wt_periodic_pricelist_blk.debit_name := &amp;#10;       &#x9;get_desc_query_pkg.get_debit_desc_query(nvl(:wt_periodic_blk.subj_code,:global.obj_subj_code),&amp;#10;                                    :wt_periodic_pricelist_blk.serv_code,&amp;#10;     &#x9;&#x9;&#x9;&#x9;            :wt_periodic_pricelist_blk.debit_code);&amp;#10;   &amp;#10;      :WT_PERIODIC_PRICELIST_BLK.person_num:=:wt_periodic_blk.person_num;&amp;#10;     EXCEPTION&amp;#10;        WHEN OTHERS THEN&amp;#10;           NULL;&amp;#10;       &amp;#10;     END;&amp;#10;    &amp;#10;    &amp;#10;    --פרמטר האם להציג את מהספר נפשות כאשר מהות שימוש היא זכאים - 100&amp;#10;    select t.code_value &amp;#10;    into v_check_dISABLED &amp;#10;    from sr_code_values t &amp;#10;    where t.code_name ='CHECK_DISABLEDֹֹ_FOR_PERSONS' ;&amp;#10;       &amp;#10;     --לפי מייל מעדי פרץ&amp;#10;     -- מסכים של חיוב-126,820,892-עבור מהויות שימוש שסוג גורם החיוב שלהן הוא  1(1,2,70,72,73) במידה והגיע 0 או שלא הגיעה הגדרה נציג 2(אם הגיעה 1 נציג 1 אבל החישוב כמובן מתבצע ע&quot;פ 2)&amp;#10;     &amp;#10;     &#x9;select distinct debit_Type&amp;#10;     &#x9;into v_debit_Type&amp;#10;     &#x9;from rm_Debit_codes&amp;#10;     &#x9;where debit_code=:WT_PERIODIC_PRICELIST_BLK.DEBIT_CODE&amp;#10;     &#x9;and subj_code=3&amp;#10;     &#x9;and serv_code=:WT_PERIODIC_PRICELIST_BLK.serv_CODE;&amp;#10;     &amp;#10;     &#x9;if v_debit_type=1 then&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;    IF NVL(:WT_PERIODIC_PRICELIST_BLK.person_num,0) = 0 THEN&amp;#10;&#x9;&#x9;      :WT_PERIODIC_PRICELIST_BLK.person_num:=2 ;&amp;#10;&#x9;&#x9;    ELSE&amp;#10;&#x9;&#x9; &#x9;    :WT_PERIODIC_PRICELIST_BLK.person_num:=:WT_PERIODIC_PRICELIST_BLK.person_num;&amp;#10;&#x9;&#x9;    END IF;&#x9;  &amp;#10;&#x9;    ELSE &amp;#10;&#x9;&#x9;    :WT_PERIODIC_PRICELIST_BLK.person_num:=null ;&amp;#10;&#x9;    END IF;&amp;#10;&#x9; &amp;#10;&#x9;   &amp;#10;&#x9;   if v_check_dISABLED='Y' and :WT_PERIODIC_PRICELIST_BLK.DEBIT_CODE=100 then &amp;#10;&#x9;     :WT_PERIODIC_PRICELIST_BLK.person_num:=null ;&amp;#10;&#x9;     end if;&amp;#10;&#x9;     &#x9;&amp;#10;END;  &amp;#10;        " DirtyInfo="true"/>
      </Block>
      <Block Name="WT_PERIODIC_BLK" UpdateAllowed="false" ScrollbarTabPageName="" OptionHint="/*+ INDEX_DESC (wt_periodic wt_periodic_id) */" QueryDataSourceName="WT_PERIODIC" DMLDataName="WT_PERIODIC" RecordsDisplayCount="6" FillPattern="" InsertAllowed="false" ScrollbarYPosition="8416" BackColor="white" ShowScrollbar="false" DeleteAllowed="false" ForegroundColor="white" DirtyInfo="true" ScrollbarCanvasName="" NavigationStyle="Change Record" ScrollbarWidth="421" ScrollbarXPosition="146" OrderByClause="fiscal_year desc, period_num desc" ScrollbarLength="4282" VisualAttributeName="DEFAULT">
         <Item Name="FISCAL_YEAR" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="4" YPosition="8349" XPosition="582" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" Width="953" CanvasName="" PromptFontName="Arial" Height="673" Required="true" PromptFontSize="1100" Comment="שדה מספרי שלם" DataType="Integer" ItemType="Text Item" Prompt="שנה" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="86" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="-79" VisualAttributeName="VA_ITEM"/>
         <Item Name="PERIOD_NUM" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="2" YPosition="8349" XPosition="1567" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" LowestAllowedValue="0" Bevel="None" DirtyInfo="true" Width="629" CanvasName="" PromptFontName="Arial" Height="673" Required="true" PromptFontSize="1100" Comment="שדה מספרי שלם" DataType="Integer" ItemType="Text Item" Prompt="תקופה" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="86" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="-317" VisualAttributeName="VA_ITEM"/>
         <Item Name="MEASURED_QTY" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="15" YPosition="8349" XPosition="2256" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="2242" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="פרטית" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="86" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="79" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="COMMON_QTY" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="9" YPosition="8349" XPosition="4529" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1209" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="משותפת" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="86" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="-105" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="PUBLIC_QTY" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="9" YPosition="8349" XPosition="5794" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1005" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="ציבורית" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="86" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="26" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="ALL_QTY" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="20" YPosition="8349" XPosition="6853" Justification="Right" AutoHint="true" ItemsDisplay="0" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1639" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="כוללת" TabPageName="" PromptDisplayStyle="First Record" PromptFontSpacing="Normal" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="86" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="158" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="MEASURED_DEVIATION_PERCENT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="923" XPosition="0" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1372" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="פרטית" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" ColumnName="MEASURED_DEVIATION_PERCENT" PromptAttachmentOffset="63" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="-27" VisualAttributeName="VA_ITEM"/>
         <Item Name="COMMON_DEVIATION_PERCENT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="937" XPosition="1431" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1425" CanvasName="" PromptFontName="Arial" Height="671" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="משותפת" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" ColumnName="COMMON_DEVIATION_PERCENT" PromptAttachmentOffset="64" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="-105" VisualAttributeName="VA_ITEM"/>
         <Item Name="MEASURED_DEVIATION_P_ROOT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="924" XPosition="2900" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="2022" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="במד ראשי" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" ColumnName="" PromptAttachmentOffset="50" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="89" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="AVG_COMMON_DEVIATION_PERCENT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="911" XPosition="1459" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1425" CanvasName="" PromptFontName="Arial" Height="671" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="משותפת" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" ColumnName="AVG_COMMON_DEVIATION_PERCENT" PromptAttachmentOffset="38" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="AVG_MEASURED_DEVIATION_PERCENT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="924" XPosition="0" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1372" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="פרטית" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" ColumnName="AVG_MEASURED_DEVIATION_PERCENT" PromptAttachmentOffset="64" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="DEBIT_CODE" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" Height="476"/>
         <Item Name="STAMP_ACTION" MaximumLength="1" Prompt="Stamp Action" TabPageName="" DirtyInfo="true" Width="318" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_CDATE" MaximumLength="0" Prompt="Stamp Cdate" TabPageName="" DirtyInfo="true" Width="1905" AutoHint="true" CanvasName="" DataType="Datetime" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_DATE" MaximumLength="0" Prompt="Stamp Date" TabPageName="" DirtyInfo="true" Width="1905" AutoHint="true" CanvasName="" DataType="Datetime" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="STAMP_USER" MaximumLength="15" Prompt="Stamp User" TabPageName="" DirtyInfo="true" Width="2540" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="PERIOD_NAME" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="40" YPosition="4865" XPosition="2300" Justification="Right" AutoHint="true" DistanceBetweenRecords="50" Bevel="None" DirtyInfo="true" DatabaseItem="false" KeyboardNavigable="true" Width="2722" CanvasName="" PromptFontName="Arial" Height="629" MouseNavigate="true" UpdateAllowed="false" PromptFontSize="1100" Comment="שדה טקסט בעברית" ItemType="Text Item" InsertAllowed="false" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Top" PromptAttachmentOffset="64" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="READING" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="11" YPosition="4303" XPosition="2565" Justification="Right" AutoHint="true" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1322" CanvasName="" PromptFontName="Arial" Height="629" FormatMask="99,999,999" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="נוכחית" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="0" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="-211" VisualAttributeName="VA_ITEM"/>
         <Item Name="PREVIOUS_READING" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="11" YPosition="4303" XPosition="3881" Justification="Right" AutoHint="true" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1322" CanvasName="" PromptFontName="Arial" Height="629" FormatMask="99,999,999" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="קודמת" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptAttachmentOffset="0" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" VisualAttributeName="VA_ITEM"/>
         <Item Name="PREVIOUS_CLIENTS_QTY" MaximumLength="12" YPosition="1823" XPosition="10706" AutoHint="true" ItemsDisplay="1" DatabaseItem="true" DirtyInfo="true" Width="2064" CanvasName="" PromptFontName="MS Sans Serif" Height="475" PromptFontSize="800" DataType="Number" ItemType="Text Item" Prompt="צריכת משלמים&amp;#10;קודמים" TabPageName="" PromptDisplayStyle="First Record" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="154" PromptAlign="Center" PromptAlignOffset="-2" PromptFontWeight="Medium" PromptFontStyle="Plain"/>
         <Item Name="CORRECTIONS_AFTER_QTY" MaximumLength="12" YPosition="2707" XPosition="10706" AutoHint="true" ItemsDisplay="1" DatabaseItem="false" DirtyInfo="true" Width="2064" CanvasName="" PromptFontName="MS Sans Serif" Height="475" PromptFontSize="800" DataType="Number" ItemType="Text Item" Prompt="כמות תיקונים&amp;#10;(אחרי)" TabPageName="" PromptDisplayStyle="First Record" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="340" PromptAlign="Center" PromptAlignOffset="-1" PromptFontWeight="Medium" PromptFontStyle="Plain"/>
         <Item Name="GARDEN_QTY" MaximumLength="12" YPosition="4461" XPosition="10706" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="כמות צריכה&amp;#10;לגינון" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="2064" PromptAttachmentOffset="578" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="COMMON_GARDEN_QTY" MaximumLength="12" YPosition="4461" XPosition="10706" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="כמות צריכה&amp;#10;לגינון" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="2064" PromptAttachmentOffset="578" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="NOT_GARDEN_QTY" MaximumLength="12" YPosition="5337" XPosition="10706" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="כמות צריכה&amp;#10;לא לגינון" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="2064" PromptAttachmentOffset="578" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="GARDEN_DEBIT" MaximumLength="12" YPosition="7295" XPosition="16088" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="חיוב צריכת&amp;#10;גינה" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="2064" PromptAttachmentOffset="869" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="PERSON_NUM" MaximumLength="11" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" DataType="Number" Height="476" LowestAllowedValue="0"/>
         <Item Name="NOT_GARDEN_DEBIT" MaximumLength="12" YPosition="8272" XPosition="16088" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="חיוב צריכת&amp;#10;לא גינה" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="2064" PromptAttachmentOffset="869" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-2" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="ALLOCATION_QTY" MaximumLength="12" YPosition="2707" XPosition="16088" AutoHint="true" ItemsDisplay="1" DatabaseItem="false" DirtyInfo="true" Width="2064" CanvasName="" PromptFontName="MS Sans Serif" Height="475" PromptFontSize="800" DataType="Number" ItemType="Text Item" Prompt="כמות הקצבה&amp;#10;שנתית" TabPageName="" PromptDisplayStyle="First Record" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="737" PromptAlign="Center" PromptAlignOffset="-1" PromptFontWeight="Medium" PromptFontStyle="Plain"/>
         <Item Name="YEARLY_USED_QTY" MaximumLength="12" YPosition="3556" XPosition="16088" AutoHint="true" ItemsDisplay="1" DatabaseItem="false" DirtyInfo="true" Width="2064" CanvasName="" PromptFontName="MS Sans Serif" Height="475" PromptFontSize="800" DataType="Number" ItemType="Text Item" Prompt="כמות צריכה&amp;#10;נצברת השנה" TabPageName="" PromptDisplayStyle="First Record" PromptAttachmentEdge="Start" PromptFontSpacing="Normal" PromptAttachmentOffset="763" PromptAlign="Center" PromptAlignOffset="-1" PromptFontWeight="Medium" PromptFontStyle="Plain"/>
         <Item Name="ACTUAL_GARDEN_AREA" MaximumLength="8" YPosition="4461" XPosition="16088" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="שטח גינה&amp;#10;משותף לחיוב" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="1429" PromptAttachmentOffset="604" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="ACTUAL_PRIVATE_GARDEN_AREA" MaximumLength="8" YPosition="5337" XPosition="16088" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="שטח גינה &amp;#10;פרטי לחיוב" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="1429" PromptAttachmentOffset="869" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="DEVIATION_CODE" MaximumLength="5" YPosition="6293" XPosition="16088" AutoHint="true" PromptFontSize="800" DataType="Number" ItemsDisplay="1" ItemType="Text Item" Prompt="קוד סטייה מתחום&amp;#10;סבירות לצריכה" TabPageName="" PromptDisplayStyle="First Record" DirtyInfo="true" PromptFontSpacing="Normal" PromptAttachmentEdge="Start" Width="953" PromptAttachmentOffset="75" PromptAlign="Center" PromptFontWeight="Medium" PromptAlignOffset="-1" CanvasName="" PromptFontStyle="Plain" PromptFontName="MS Sans Serif" Height="475"/>
         <Item Name="READING_SEQ" MaximumLength="9" Prompt="Reading Seq" TabPageName="" DirtyInfo="true" Width="1588" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="GAUGE_SEQ" MaximumLength="8" Prompt="Gauge Seq" TabPageName="" DirtyInfo="true" Width="1429" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="WATER_ID" MaximumLength="12" YPosition="9022" XPosition="22622" Justification="Right" AutoHint="true" ItemsDisplay="1" BackColor="white" Bevel="None" ForegroundColor="white" DirtyInfo="true" KeyboardNavigable="true" Width="26" CanvasName="DETAILS" PromptFontName="Arial" Height="212" Required="true" MouseNavigate="true" PromptFontSize="1100" Comment="שדה טקסט בעברית" ItemType="Text Item" TabPageName="" InitializeKeyboardDirection="Local" PromptAttachmentEdge="Start" PromptAlign="Start" PromptForegroundColor="white" PromptAlignOffset="0" Visible="true" VisualAttributeName="DEFAULT"/>
         <Item Name="PARENT_WATER_ID" MaximumLength="12" Prompt="Parent Water Id" TabPageName="" DirtyInfo="true" Width="2064" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item"/>
         <Item Name="ROOT_WATER_ID" MaximumLength="12" Prompt="Root Water Id" TabPageName="" DirtyInfo="true" Width="2064" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item"/>
         <Item Name="COMBINED_WATER_ID" MaximumLength="12" Prompt="Combined Water Id" TabPageName="" DirtyInfo="true" Width="2064" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item"/>
         <Item Name="WATER_ID_TYPE" MaximumLength="5" Prompt="Water Id Type" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="WATER_ID_CLASS" MaximumLength="5" Prompt="Water Id Class" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="REGION_CODE" MaximumLength="5" Prompt="Region Code" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="LEVEL_NUM" MaximumLength="2" Prompt="Level Num" TabPageName="" DirtyInfo="true" Width="476" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="USAGE_TYPE" MaximumLength="5" Prompt="Usage Type" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="SEWAGE_YN" MaximumLength="1" Prompt="Sewage Yn" TabPageName="" DirtyInfo="true" Width="318" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="SUBJ_CODE" MaximumLength="5" Prompt="Subj Code" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="OBJ_ID" MaximumLength="15" YPosition="3121" XPosition="1663" Justification="Right" AutoHint="true" ItemsDisplay="1" Bevel="None" DirtyInfo="true" KeyboardNavigable="false" Width="2252" CanvasName="" PromptFontName="Arial" Height="629" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" ItemType="Display Item" Prompt="מס' נכס" TabPageName="" PromptAttachmentEdge="Top" PromptAttachmentOffset="-421" PromptAlign="Center" PromptForegroundColor="metroblue1" PromptAlignOffset="-1665" PromptFontWeight="Bold" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="CARD_NUM" MaximumLength="8" Prompt="Card Num" TabPageName="" DirtyInfo="true" Width="1429" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="COMMON_YN" MaximumLength="1" Prompt="Common Yn" TabPageName="" DirtyInfo="true" DatabaseItem="false" Width="318" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="COMMON_TYPE" MaximumLength="5" Prompt="Common Type" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="COMMON_WEIGHT" MaximumLength="7" Prompt="Common Weight" TabPageName="" DirtyInfo="true" Width="1270" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="PUBLIC_TYPE" MaximumLength="5" Prompt="Public Type" TabPageName="" DirtyInfo="true" Width="953" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="GARDEN_YN" MaximumLength="1" Prompt="Garden Yn" TabPageName="" DirtyInfo="true" Width="318" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item"/>
         <Item Name="GARDEN_AREA" MaximumLength="8" Prompt="Garden Area" TabPageName="" DirtyInfo="true" Width="1429" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="PRIVATE_GARDEN_AREA" MaximumLength="8" Prompt="Private Garden Area" TabPageName="" DirtyInfo="true" Width="1429" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="WALKING_ORDER" MaximumLength="11" Prompt="Walking Order" TabPageName="" DirtyInfo="true" Width="1746" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item"/>
         <Item Name="WATER_ID_START" MaximumLength="11" Prompt="Water Id Start" TabPageName="" DirtyInfo="true" Width="1905" AutoHint="true" CanvasName="" DataType="Date" Height="476" ItemType="Text Item"/>
         <Item Name="WATER_ID_END" MaximumLength="11" Prompt="Water Id End" TabPageName="" DirtyInfo="true" Width="1905" AutoHint="true" CanvasName="" DataType="Date" Height="476" ItemType="Text Item"/>
         <Item Name="PROCESS_SEQ" MaximumLength="7" Prompt="Process Seq" TabPageName="" DirtyInfo="true" Width="1270" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="ALLOCATION_YN" MaximumLength="1" Prompt="Allocation Yn" TabPageName="" DirtyInfo="true" Width="318" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item" Required="true"/>
         <Item Name="COMMENTS" MaximumLength="100" Prompt="Comments" TabPageName="" DirtyInfo="true" Width="9684" AutoHint="true" CanvasName="" Height="476" ItemType="Text Item"/>
         <Item Name="ALLOCATION_USED_QTY" MaximumLength="9" Prompt="Allocation Used Qty" TabPageName="" DirtyInfo="true" Width="1588" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="ACTUAL_COMMON_QTY" MaximumLength="12" Prompt="Actual Common Qty" TabPageName="" DirtyInfo="true" Width="2064" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="ACTUAL_PUBLIC_QTY" MaximumLength="12" Prompt="Actual Public Qty" TabPageName="" DirtyInfo="true" Width="2064" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="AVG_MEASURED_QTY" MaximumLength="9" Prompt="Avg Measured Qty" TabPageName="" DirtyInfo="true" Width="1588" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="AVG_COMMON_QTY" MaximumLength="9" Prompt="Avg Common Qty" TabPageName="" DirtyInfo="true" Width="1588" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="AVG_PUBLIC_QTY" MaximumLength="9" Prompt="Avg Public Qty" TabPageName="" DirtyInfo="true" Width="1588" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="PREVIOUS_CLIENTS_COMMON_QTY" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" DataType="Number" Height="476"/>
         <Item Name="FIXED_DEBIT" MaximumLength="12" Prompt="Fixed Debit" TabPageName="" DirtyInfo="true" Width="2064" AutoHint="true" CanvasName="" DataType="Number" Height="476" ItemType="Text Item"/>
         <Item Name="FUND_DEBIT" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" Height="476"/>
         <Item Name="FUND_QTY" TabPageName="" DirtyInfo="true" Width="2381" CanvasName="" Height="476"/>
         <Item Name="AVG_MEASURED_DEVIATION_P_ROOT" RecordVisualAttributeGroupName="VA_CURRENT_RECORD" MaximumLength="12" YPosition="924" XPosition="2964" Justification="Right" DistanceBetweenRecords="50" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="2009" CanvasName="" PromptFontName="Arial" Height="673" FormatMask="FM999,999,990.00MI" PromptFontSize="1100" Comment="(שדה מספרי שיכול לקבל שברים (סכום" DataType="Number" ItemType="Text Item" Prompt="במד ראשי" TabPageName="" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Top" PromptFontSpacing="Normal" ColumnName="" PromptAttachmentOffset="50" PromptAlign="Start" PromptFontWeight="Medium" PromptForegroundColor="white" PromptAlignOffset="132" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM"/>
         <Item Name="SEWAGE_QTY" MaximumLength="13" YPosition="8957" XPosition="2085" Justification="Right" AutoHint="true" ItemsDisplay="1" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" Width="1535" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="ביוב" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="325" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="0" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="SEWAGE_DEBIT" MaximumLength="13" YPosition="8480" XPosition="8968" Justification="Right" AutoHint="true" ItemsDisplay="1" ReadingOrder="Left To Right" Bevel="None" DirtyInfo="true" DatabaseItem="true" Width="2462" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="חיוב ביוב" TabPageName="" PromptDisplayStyle="First Record" InitializeKeyboardDirection="Roman" PromptAttachmentEdge="Start" PromptAttachmentOffset="245" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="0" PromptFontWeight="Bold" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="SUM_CONSUMPTION" MaximumLength="13" YPosition="8429" XPosition="2138" Justification="Right" AutoHint="true" ItemsDisplay="1" SummaryItemName="" SummaryFunction="None" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1535" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="צריכה" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="166" CalculateMode="None" PromptAlign="Start" PromptFontWeight="Bold" SummaryBlockName="" PromptForegroundColor="metroblue1" PromptAlignOffset="-35" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="COMMON_QTY_TO_STEP_1" MaximumLength="13" YPosition="7901" XPosition="2118" Justification="Right" AutoHint="true" ItemsDisplay="1" SummaryItemName="" SummaryFunction="None" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="2222" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="תיקון נזילה" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="60" CalculateMode="None" PromptAlign="Start" PromptFontWeight="Bold" SummaryBlockName="" PromptForegroundColor="metroblue1" PromptAlignOffset="0" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="SUM_DEBIT" MaximumLength="13" YPosition="7925" XPosition="9048" Justification="Right" AutoHint="true" ItemsDisplay="1" SummaryItemName="" SummaryFunction="None" ReadingOrder="Left To Right" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="2453" CanvasName="DETAILS" PromptFontName="Arial" Height="629" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="חיוב מים" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="351" CalculateMode="None" PromptAlign="Start" PromptFontWeight="Bold" SummaryBlockName="" PromptForegroundColor="metroblue1" PromptAlignOffset="-35" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="SUM_ALL_DEBIT" MaximumLength="13" YPosition="9115" XPosition="8969" Justification="Right" AutoHint="true" ItemsDisplay="1" SummaryItemName="" SummaryFunction="None" ReadingOrder="Left To Right" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="2453" CanvasName="DETAILS" PromptFontName="Arial" Height="544" Required="false" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="סה&quot;כ חיוב" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="86" CalculateMode="None" PromptAlign="Start" PromptFontWeight="Bold" SummaryBlockName="" PromptForegroundColor="metroblue1" PromptAlignOffset="-61" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="GAUGE_ID" MaximumLength="16" YPosition="12875" XPosition="1654" Justification="Right" ItemsDisplay="1" BackColor="gray4" Bevel="None" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="3506" CanvasName="" PromptFontName="Arial" Height="486" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" ItemType="Display Item" Prompt="מס' מד" TabPageName="" PromptAttachmentOffset="199" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="-26" PromptFontWeight="Bold" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="REMARK" MaximumLength="100" YPosition="13486" XPosition="14165" Justification="Right" AutoHint="true" ItemsDisplay="1" Bevel="None" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="7161" CanvasName="" PromptFontName="Arial" Height="629" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" InitializeValue="" ItemType="Display Item" TabPageName="" PromptAttachmentOffset="271" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="0" PromptFontWeight="Bold" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="UNEXP_PRIVATE_GARDEN_QTY" MaximumLength="8" YPosition="13473" XPosition="7343" Justification="Right" ItemsDisplay="1" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1405" CanvasName="" PromptFontName="Arial" Height="629" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="הקצבה לא מנוצלת לגינה פרטית / משותפת" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="185" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="-30" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="NUM_OF_DAYS" MaximumLength="8" YPosition="12796" XPosition="18370" Justification="Right" ItemsDisplay="1" LowestAllowedValue="0" BackColor="gray4" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1405" CanvasName="" PromptFontName="Arial" Height="486" PromptFontSize="1100" Comment="שדה הצגה למספר שלם" DataType="Integer" ItemType="Display Item" Prompt="מספר ימים בתקופה לחיוב" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="113" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="12" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="WATER_ID_GET_PUBLIC" MaximumLength="15" YPosition="12769" XPosition="22573" Justification="Right" ItemsDisplay="1" BackColor="gray4" Bevel="None" DatabaseItem="false" DirtyInfo="true" KeyboardNavigable="false" Width="3145" CanvasName="" PromptFontName="Arial" Height="486" MouseNavigate="false" PromptFontSize="1100" Comment="שדה הצגה לשדה טקסט בעברית" ItemType="Display Item" Prompt="זיהוי מים ציבורי" TabPageName="" PromptAttachmentOffset="60" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="0" PromptFontWeight="Bold" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <Item Name="UNEXP_COMMON_GARDEN_QTY" MaximumLength="8" YPosition="13474" XPosition="9280" Justification="Right" ItemsDisplay="1" ReadingOrder="Right To Left" Bevel="None" DirtyInfo="true" DatabaseItem="false" Width="1349" CanvasName="" PromptFontName="Arial" Height="629" FormatMask="FM999,999,990.09MI" PromptFontSize="1100" Comment="שדה הצגה לשדה מספרי סכום " DataType="Number" ItemType="Display Item" Prompt="" TabPageName="" InitializeKeyboardDirection="Roman" PromptFontSpacing="Normal" PromptAttachmentOffset="271" PromptAlign="Start" PromptForegroundColor="metroblue1" PromptAlignOffset="0" PromptFontWeight="Bold" PromptFontStyle="Plain" VisualAttributeName="VA_ITEM_NOT_IN_ROW"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="FISCAL_YEAR" DSCLength="0" DSCMandatory="true" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PERIOD_NUM" DSCLength="0" DSCMandatory="true" DSCPrecision="2" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WATER_ID" DSCLength="12" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="PARENT_WATER_ID" DSCLength="12" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="ROOT_WATER_ID" DSCLength="12" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="COMBINED_WATER_ID" DSCLength="12" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="WATER_ID_TYPE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="WATER_ID_CLASS" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="LEVEL_NUM" DSCLength="0" DSCMandatory="false" DSCPrecision="1" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="USAGE_TYPE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="SEWAGE_YN" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="SUBJ_CODE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="OBJ_ID" DSCLength="15" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CARD_NUM" DSCLength="0" DSCMandatory="false" DSCPrecision="7" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="COMMON_YN" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="COMMON_TYPE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="COMMON_WEIGHT" DSCLength="0" DSCMandatory="false" DSCPrecision="5" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PUBLIC_TYPE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="GARDEN_YN" DSCLength="1" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GARDEN_AREA" DSCLength="0" DSCMandatory="false" DSCPrecision="6" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PRIVATE_GARDEN_AREA" DSCLength="0" DSCMandatory="false" DSCPrecision="6" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="REGION_CODE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="WALKING_ORDER" DSCLength="10" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="WATER_ID_START" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="WATER_ID_END" DSCLength="0" DSCMandatory="false" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="MEASURED_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PREVIOUS_CLIENTS_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="CORRECTIONS_AFTER_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="COMMON_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PUBLIC_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GARDEN_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="NOT_GARDEN_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="SEWAGE_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="GARDEN_DEBIT" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="NOT_GARDEN_DEBIT" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="SEWAGE_DEBIT" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="ALLOCATION_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="YEARLY_USED_QTY" DSCLength="0" DSCMandatory="false" DSCPrecision="10" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="ACTUAL_GARDEN_AREA" DSCLength="0" DSCMandatory="false" DSCPrecision="6" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="ACTUAL_PRIVATE_GARDEN_AREA" DSCLength="0" DSCMandatory="false" DSCPrecision="6" DSCScale="2"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="DEVIATION_CODE" DSCLength="0" DSCMandatory="false" DSCPrecision="4" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_ACTION" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_CDATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCName="STAMP_DATE" DSCLength="0" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="STAMP_USER" DSCLength="15" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCName="PROCESS_SEQ" DSCLength="0" DSCMandatory="false" DSCPrecision="6" DSCScale="0"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCName="ALLOCATION_YN" DSCLength="1" DSCMandatory="true" DSCPrecision="0" DSCScale="0"/>
         <Trigger Name="PRE-QUERY" TriggerText="DECLARE&amp;#10;      v_where VARCHAR2(500) := '1=1';&amp;#10;BEGIN&amp;#10;   IF :query.water_id IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND water_id = '''||:query.water_id||'''';&amp;#10;  end if;&amp;#10;  &amp;#10;   IF :WT_READINGS_BLK.period_num IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND period_num = '||:WT_READINGS_BLK.period_num;&amp;#10;   end if;&amp;#10;   &amp;#10;    &amp;#10;   IF :WT_READINGS_BLK.fiscal_year IS NOT NULL THEN &amp;#10;    v_where := v_where||' AND fiscal_year = '||:WT_READINGS_BLK.fiscal_year;&amp;#10;  end if;&amp;#10;  &amp;#10;&#x9;&amp;#10;&#x9;SET_BLOCK_PROPERTY('wt_periodic_blk',DEFAULT_WHERE,v_where);&amp;#10;   &amp;#10;END;&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" TriggerText=":wt_periodic_blk.all_qty := NVL(:wt_periodic_blk.measured_qty,0) &amp;#10;                          + NVL(:wt_periodic_blk.common_qty,0) &amp;#10;                          + NVL(:wt_periodic_blk.public_qty,0);&amp;#10;&amp;#10;DECLARE&amp;#10;   v_reading_date DATE;&amp;#10;   v_previous_reading_date DATE;&amp;#10;   v_start_date  DATE;&amp;#10;   v_end_date    DATE;&amp;#10;   &amp;#10;   &amp;#10;BEGIN&amp;#10;   SELECT period_name &amp;#10;   INTO   :wt_periodic_blk.period_name&amp;#10;   FROM   rm_periods&amp;#10;   WHERE  subj_code = 3&amp;#10;      AND serv_code = 4&amp;#10;      AND debit_code = 0&amp;#10;      AND period_num = :wt_periodic_blk.period_num; &amp;#10;   EXCEPTION&amp;#10;     WHEN NO_DATA_FOUND THEN&amp;#10;        null;&amp;#10;     WHEN TOO_MANY_ROWS THEN&amp;#10;        null; &amp;#10;   END;&amp;#10;   &amp;#10;   DECLARE&amp;#10;     v_start_date date;&amp;#10;     v_end_date   DATE;  &amp;#10;   BEGIN&amp;#10;      :wt_periodic_blk.num_of_days:=wt_year_period_pkg.GET_PERIOD_NUM_OF_DAYS &amp;#10;                            (p_fiscal_year => :wt_periodic_blk.fiscal_year,&amp;#10;                             p_period_num  => :wt_periodic_blk.period_num,&amp;#10;                             p_water_id    => :wt_periodic_blk.water_id,&amp;#10;                             p_run_mode    => 1,&amp;#10;                             p_process_seq => null,&amp;#10;                             p_start_date  => v_start_date,&amp;#10;                             p_end_date    => v_end_date&amp;#10;                            );&amp;#10;   END;  &amp;#10;  &amp;#10; BEGIN&amp;#10;  &#x9;select public_water_id&amp;#10;  &#x9;into   :WT_PERIODIC_BLK.WATER_ID_GET_PUBLIC&amp;#10;  &#x9;from   WT_PUBLIC_USAGE&amp;#10;  &#x9;where  WATER_ID =:query.water_id&amp;#10;  &#x9;  and  STAMP_ACTION!='D'&amp;#10;  &#x9;  and  (end_date is null or trunc(end_date)>trunc(sysdate))&amp;#10;  &#x9;  and ROWNUM = 1;&amp;#10; exception when others then&amp;#10; &#x9;:WT_PERIODIC_BLK.WATER_ID_GET_PUBLIC:=null;&amp;#10; end;&amp;#10;&amp;#10;    &amp;#10;BEGIN&amp;#10; &amp;#10;    :wt_periodic_blk.sum_consumption :=&amp;#10;                  nvl(:wt_periodic_blk.measured_qty, 0)  + &amp;#10;                  nvl(:wt_periodic_blk.common_qty, 0) + &amp;#10;                  nvl(:wt_periodic_blk.public_qty, 0) ; &amp;#10;    &amp;#10;   &amp;#10;    :wt_periodic_blk.sum_debit := :wt_periodic_blk.not_garden_debit + &amp;#10;                                  nvl(:wt_periodic_blk.garden_debit,0) +  nvl(:wt_periodic_blk.fund_debit, 0);&amp;#10;    :wt_periodic_blk.sum_all_debit := NVL(:wt_periodic_blk.sum_debit,0) + NVL(:wt_periodic_blk.sewage_debit,0); &amp;#10;    --get_gauge_id;&amp;#10;END;&amp;#10;&amp;#10;/* חישוב הקצבת גינה לא מנוצלת לאותה שנה */&amp;#10;&amp;#10;DECLARE&amp;#10;&#x9;v_unexp_private NUMBER;&amp;#10;&#x9;v_unexp_common  NUMBER;&amp;#10;&#x9;v_factor NUMBER;&amp;#10;&#x9;v_wt_garden_allocation_type NUMBER;&amp;#10;&#x9;v_acc_garden_allocation_type NUMBER;&amp;#10;&#x9;v_wt_garden_prev_yn CHAR(1);&amp;#10; &#x9; v_first_item_name      VARCHAR2(100);&amp;#10;   v_item_name            VARCHAR2(100);&amp;#10;   v_prev_item_value      VARCHAR2(200);&amp;#10;   v_curr_item_value      VARCHAR2(200);&amp;#10;   v_visual_attr          VARCHAR2(100); &amp;#10;   v_check_open&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;number:=0;&amp;#10;BEGIN&amp;#10;&#x9;SELECT NVL(wt_garden_factor,0),&amp;#10;&#x9;&#x9; &#x9; &#x9; NVL(wt_garden_allocation_type,2),&amp;#10;&#x9;&#x9;&#x9;   acc_garden_allocation_type, &amp;#10;&#x9;&#x9;&#x9; &#x9; NVL(wt_garden_prev_yn,'N')&amp;#10;&#x9;INTO   v_factor,&amp;#10;&#x9;&#x9; &#x9;&#x9; v_wt_garden_allocation_type,&amp;#10;&#x9;&#x9;&#x9;   v_acc_garden_allocation_type,&amp;#10;&#x9;&#x9;&#x9;   v_wt_garden_prev_yn&amp;#10;&#x9;FROM   RM_MUNICIPALITIES&amp;#10;&#x9;WHERE  municipality_yn='Y';&amp;#10;&#x9;Wt_Calc_Alloc_Garden_Data(:global.user_name,  :wt_periodic_blk.water_id,&amp;#10;                            :wt_periodic_blk.fiscal_year, :wt_periodic_blk.period_num, &amp;#10;                            :global.obj_subj_code, :global.water_serv_code,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        :wt_periodic_blk.actual_private_garden_area, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        :wt_periodic_blk.actual_garden_area,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        :wt_periodic_blk.debit_code,  v_wt_garden_prev_yn,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        v_factor, v_wt_garden_allocation_type, &amp;#10;                            v_acc_garden_allocation_type,&amp;#10;                            1, null, -- p_run_mode, p_process_seq&amp;#10;                            v_unexp_private, v_unexp_common);&amp;#10; -- message(      v_unexp_private                      ||'-'||v_unexp_common); pause;&amp;#10;    :wt_periodic_blk.unexp_private_garden_qty:=v_unexp_private - &amp;#10;                                    (nvl(:wt_periodic_blk.garden_qty, 0) - nvl(:wt_periodic_blk.common_garden_qty, 0));&amp;#10;    :wt_periodic_blk.unexp_common_garden_qty:=v_unexp_common - nvl(:wt_periodic_blk.common_garden_qty, 0);&amp;#10;    &amp;#10;    /**/&amp;#10;    DECLARE &amp;#10;    &#x9;V_COMMON_QTY_TO_STEP_1&#x9;NUMBER:= 0;&amp;#10;    &#x9;V_QTY_TO_STEP_1&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER:= 0;&amp;#10;    &#x9;V_public_QTY_TO_STEP_1&#x9;NUMBER:= 0;&amp;#10;    BEGIN&amp;#10;    SELECT COMMON_QTY_TO_STEP_1,QTY_TO_STEP_1, public_QTY_TO_STEP_1&amp;#10;    INTO V_COMMON_QTY_TO_STEP_1,V_QTY_TO_STEP_1, V_public_QTY_TO_STEP_1&amp;#10;    FROM WT_PERIODIC&amp;#10;    WHERE WATER_ID = :WT_PERIODIC_BLK.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;AND FISCAL_YEAR = :WT_PERIODIC_BLK.FISCAL_YEAR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;AND PERIOD_NUM = :WT_PERIODIC_BLK.PERIOD_NUM;&amp;#10;&#x9;&#x9;:WT_PERIODIC_BLK.COMMON_QTY_TO_STEP_1:= NVL(V_COMMON_QTY_TO_STEP_1,0) + NVL(V_QTY_TO_STEP_1,0)+NVL(V_public_QTY_TO_STEP_1,0);&#x9;&amp;#10;    EXCEPTION WHEN OTHERS THEN&amp;#10;    &#x9;NULL;&amp;#10;   &#x9;END;&amp;#10;    /**/&amp;#10;    &amp;#10;    --CHANI_H 465052&amp;#10;    select T.MEASURED_DEVIATION_PERCENT,T.AVG_MEASURED_DEVIATION_PERCENT&amp;#10;    INTO :WT_PERIODIC_BLK.MEASURED_DEVIATION_P_ROOT,:WT_PERIODIC_BLK.AVG_MEASURED_DEVIATION_P_ROOT&amp;#10;     from wt_periodic t &amp;#10;     where t.water_id=:WT_PERIODIC_BLK.ROOT_WATER_ID&amp;#10;     and t.fiscal_year=:WT_PERIODIC_BLK.fiscal_year&amp;#10;     and t.period_num=:WT_PERIODIC_BLK.period_num;&amp;#10;    &amp;#10;    --END CHANI_H&amp;#10;&amp;#10;&amp;#10;&amp;#10;  --chani_h 527890&amp;#10;   &amp;#10;      &amp;#10;      v_visual_attr:='PERIOD_NOT_OK';                &amp;#10;      v_first_item_name:= Get_Block_Property('WT_PERIODIC_BLK', first_item); &amp;#10;      v_item_name  := v_first_item_name;      &amp;#10;      v_check_open:=0;&amp;#10;  --check if it open perios - thats not over step 6:&amp;#10;  select count(1)&amp;#10;  into v_check_open&amp;#10;from RM_SERV_REGION_CODES t &amp;#10;where t.period_num=:WT_PERIODIC_BLK.period_num&amp;#10;and t.fiscal_year=:WT_PERIODIC_BLK.fiscal_year&amp;#10;and t.region_code=:WT_PERIODIC_BLK.region_code&amp;#10;and(t.wt_calc_oc&lt;>'A' or t.wt_calc_oc is null) ;&amp;#10;      &amp;#10;      if v_check_open>0 then &amp;#10;   --loop on items:&amp;#10;      LOOP     &amp;#10;         IF Get_Item_Property('WT_PERIODIC_BLK.'||v_item_name, VISIBLE) = 'TRUE'  then   &amp;#10;        SET_ITEM_INSTANCE_PROPERTY('WT_PERIODIC_BLK.'||v_item_name,CURRENT_RECORD,VISUAL_ATTRIBUTE ,v_visual_attr); &amp;#10;         end if;&amp;#10;        v_item_name := Get_Item_Property('WT_PERIODIC_BLK.'||v_item_name, NextItem);&amp;#10;      &amp;#10;       exit when NVL(v_item_name,v_first_item_name)=v_first_item_name;&amp;#10;      END LOOP;                 &amp;#10; &amp;#10;end if;&amp;#10;exception&amp;#10;&#x9; when OTHERS then NULL;&amp;#10;&#x9;      message(SQLERRM); pause;&amp;#10;END; &amp;#10;&amp;#10;&amp;#10;&amp;#10;                                  &#x9;" DirtyInfo="true"/>
      </Block>
      <Canvas Name="MAIN_CV_4" SubclassObjectGroup="true" ViewportXPositionOnCanvas="0" DirtyInfo="true" ViewportYPositionOnCanvas="53" ParentType="23" ParentFilename="METRO10.olb" Height="18000" ParentModule="METRO10" ParentModuleType="25" ParentName="CANVAS_4">
         <Graphics Name="ROUNDRECT259" YPosition="4578" XPosition="32861" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="3308" Height="1217" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="IMAGE265" YPosition="369" XPosition="26744" ImageFilename="WT_READINGS_MAIN_CV_4_IMAGE265.tif" GraphicsText="" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" SubclassSubObject="true" GraphicsFontSize="0" DirtyInfo="true" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="IMAGE263" YPosition="369" XPosition="27175" ImageFilename="WT_READINGS_MAIN_CV_4_IMAGE263.tif" GraphicsText="" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" SubclassSubObject="true" GraphicsFontSize="0" DirtyInfo="true" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="ROUNDRECT268" YPosition="3492" XPosition="26617" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="2090" Height="448" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="IMAGE269" YPosition="741" XPosition="28559" ImageFilename="WT_READINGS_MAIN_CV_4_IMAGE269.tif" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Height="2963" ClipHeight="2963" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="IMAGE270" YPosition="1401" XPosition="27869" ImageFilename="WT_READINGS_MAIN_CV_4_IMAGE270.tif" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Height="2937" ClipHeight="2937" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="HEADER_1" YPosition="4152" XPosition="0" GraphicsText="" CornerRadiusY="0" CornerRadiusX="0" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="25903" Height="1061" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="BUTTON_1" YPosition="10451" XPosition="26084" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="4736" Height="106" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="BODY_1" YPosition="5240" XPosition="0" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="25903" Height="5318" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="SEARCH_RECT" YPosition="3147" XPosition="26617" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="11403" Height="2938" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT85" YPosition="132" XPosition="17817" GraphicsText="פרטי נכס ומשלם  " FillPattern="none" BackColor="lightlightgray" GraphicsFontName="Arial" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Bold" DirtyInfo="true" GraphicsFontSize="1200" Width="3043" Height="529" GraphicsFontSpacing="Normal" GraphicsFontColorCode="153" GraphicsFontColor="metroblue1">
            <CompoundText Name="CMPTXT202">
               <TextSegment Name="TEXTSTR203" FontWeight="Bold" FontStyle="Plain" ForegroundColor="metroblue1" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="פרטי נכס ומשלם  "/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT242" YPosition="902" XPosition="2756" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="2645" Height="581" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT251" YPosition="4730" HorizontalJustification="Right" VerticalOrigin="Bottom" XPosition="8977" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2117" ScrollbarWidth="476" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="195" GraphicsFontColor="gray12" VerticalMargin="476" HorizontalMargin="238" GraphicsText="קריאה" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" LanguageDirection="Right To Left" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT252">
               <TextSegment Name="TEXTSTR253" FontWeight="Medium" FontStyle="Plain" ForegroundColor="gray12" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="קריאה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="TEXT258" HorizontalJustification="Right" YPosition="5200" VerticalOrigin="Bottom" XPosition="21772" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2117" ScrollbarWidth="476" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="1" GraphicsFontColor="white" VerticalMargin="476" HorizontalMargin="238" GraphicsText="קוד" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT259">
               <TextSegment Name="TEXTSTR260" FontWeight="Medium" FontStyle="Plain" ForegroundColor="white" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="קוד"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="GRAPHIC264" HorizontalJustification="Right" YPosition="5200" VerticalOrigin="Bottom" XPosition="14550" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2117" ScrollbarWidth="476" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="1" GraphicsFontColor="white" VerticalMargin="476" HorizontalMargin="238" GraphicsText="קוד" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT259">
               <TextSegment Name="TEXTSTR260" FontWeight="Medium" FontStyle="Plain" ForegroundColor="white" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="קוד"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="TEXT467" YPosition="3599" HorizontalJustification="Start" XPosition="1429" HorizontalOrigin="Right" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2117" ScrollbarWidth="476" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="0" GraphicsFontColor="black" EdgeBackColor="white" VerticalMargin="476" HorizontalMargin="238" GraphicsText="בירור" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT468">
               <TextSegment Name="TEXTSTR469" FontWeight="Medium" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="בירור"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="GRAPHIC494" YPosition="4730" HorizontalJustification="Right" VerticalOrigin="Bottom" XPosition="10690" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2117" ScrollbarWidth="476" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="195" GraphicsFontColor="gray12" VerticalMargin="476" HorizontalMargin="238" GraphicsText="קריאה" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" LanguageDirection="Right To Left" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT252">
               <TextSegment Name="TEXTSTR253" FontWeight="Medium" FontStyle="Plain" ForegroundColor="gray12" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="קריאה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="GRAPHIC495" YPosition="5206" HorizontalJustification="Right" VerticalOrigin="Bottom" XPosition="20558" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2117" ScrollbarWidth="476" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="195" GraphicsFontColor="gray12" VerticalMargin="476" HorizontalMargin="238" GraphicsText="הערכה" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" LanguageDirection="Right To Left" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT252">
               <TextSegment Name="TEXTSTR253" FontWeight="Medium" FontStyle="Plain" ForegroundColor="gray12" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="הערכה"/>
            </CompoundText>
         </Graphics>
      </Canvas>
      <Canvas Name="TAGS_CV" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS">
         <Graphics Name="RECT885" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT886" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="GRAPHIC238" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
      </Canvas>
      <Canvas Name="BIG_PIC" CanvasType="Stacked" Comment="עבור canvas משני" ViewportHeight="13970" ViewportWidth="24924" Bevel="None" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" DirtyInfo="true" Width="25000" VisualAttributeName="VA_CONTENT_CANVAS" Height="14000" WindowName="BIG_PIC"/>
      <Canvas Name="DETAILS" CanvasType="Stacked" Comment="עבור canvas משני" ViewportHeight="14579" ViewportWidth="25268" Bevel="None" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" DirtyInfo="true" Width="25374" VisualAttributeName="VA_CONTENT_CANVAS" Height="14658" WindowName="DETAILS">
         <Graphics Name="GRAPHIC236" YPosition="1684" XPosition="22" GraphicsType="Rectangle" BackColor="metrogray1" Bevel="None" ForegroundColor="white" DirtyInfo="true" Width="14260" ScrollbarWidth="476" Height="2084" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metrogray1" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC238" YPosition="712" XPosition="0" GraphicsType="Rounded Rectangle" FillPattern="transparent" CornerRadiusY="0" CornerRadiusX="0" BackColor="metroblue1" Bevel="None" DirtyInfo="true" Width="14282" ScrollbarWidth="476" Height="929" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" EdgeBackColor="metroblue1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="HEADER_1" YPosition="4365" XPosition="32" GraphicsType="Rounded Rectangle" FillPattern="transparent" CornerRadiusY="0" CornerRadiusX="0" BackColor="metroblue1" Bevel="None" ForegroundColor="metroblue1" DirtyInfo="true" Width="14203" ScrollbarWidth="476" Height="1137" JoinStyle="Bevel" EdgePattern="solid" EdgeForegroundColor="metroblue1" GraphicsFontColorCode="0" GraphicsFontColor="" EdgeBackColor="metroblue1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="BODY_1" YPosition="5131" XPosition="32" GraphicsType="Rectangle" BackColor="metrogray1" Bevel="None" ForegroundColor="white" DirtyInfo="true" Width="14239" ScrollbarWidth="476" Height="2752" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metrogray1" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC779" YPosition="10320" XPosition="0" GraphicsType="Rounded Rectangle" CornerRadiusY="0" CornerRadiusX="0" BackColor="metroblue1" Bevel="None" ForegroundColor="metroblue1" DirtyInfo="true" Width="24767" ScrollbarWidth="476" Height="636" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" EdgeBackColor="metroblue1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC540" YPosition="10958" XPosition="73" GraphicsType="Rectangle" BackColor="metrogray1" Bevel="None" ForegroundColor="white" DirtyInfo="true" Width="24696" ScrollbarWidth="476" Height="2774" JoinStyle="Bevel" EdgePattern="transparent" GraphicsFontColorCode="0" EdgeForegroundColor="white" GraphicsFontColor="" EdgeBackColor="white" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="TEXT537" YPosition="3888" HorizontalJustification="Start" XPosition="2493" HorizontalOrigin="Right" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="2408" ScrollbarWidth="635" Height="476" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="153" GraphicsFontColor="metroblue1" EdgeBackColor="white" VerticalMargin="556" HorizontalMargin="318" GraphicsText="חיובים לתקופה" HorizontalObjectOffset="635" StartPromptOffset="318" GraphicsFontName="Arial" GraphicsFontWeight="Bold" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT538">
               <TextSegment Name="TEXTSTR539" FontWeight="Bold" FontStyle="Plain" ForegroundColor="metroblue1" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="חיובים לתקופה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="GRAPHIC541" YPosition="9789" HorizontalJustification="Start" XPosition="3601" HorizontalOrigin="Right" BoundingBoxScalable="false" WrapText="false" GraphicsType="Text" FillPattern="none" Bevel="None" DirtyInfo="true" Width="3281" ScrollbarWidth="635" Height="476" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="153" GraphicsFontColor="metroblue1" EdgeBackColor="white" VerticalMargin="556" HorizontalMargin="318" GraphicsText="פקודות עבודה לזיהוי" HorizontalObjectOffset="635" StartPromptOffset="318" GraphicsFontName="Arial" GraphicsFontWeight="Bold" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT538">
               <TextSegment Name="TEXTSTR539" FontWeight="Bold" FontStyle="Plain" ForegroundColor="metroblue1" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="פקודות עבודה לזיהוי"/>
            </CompoundText>
         </Graphics>
      </Canvas>
      <Canvas Name="POPUP_CONFIRM_CV" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM">
         <Graphics Name="TEXT306" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT309" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT312" SubclassSubObject="true" DirtyInfo="true"/>
      </Canvas>
      <Canvas Name="UPD_TAGS_CV" CanvasType="Stacked" Comment="עבור canvas משני" ViewportHeight="2619" ViewportWidth="5106" Bevel="None" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" DirtyInfo="true" Width="5079" VisualAttributeName="VA_CONTENT_CANVAS" Height="2566" WindowName="UPD_TAGS_WIN">
         <Graphics Name="GRAPHIC106" YPosition="237" XPosition="1619" GraphicsType="Rectangle" FillPattern="none" BackColor="white" InternalLineWidth="1" Bevel="None" ForegroundColor="white" DirtyInfo="true" Width="2431" ScrollbarWidth="476" Height="609" JoinStyle="Bevel" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" EdgeBackColor="metroblue1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC107" YPosition="1031" XPosition="1601" GraphicsType="Rectangle" FillPattern="none" BackColor="white" InternalLineWidth="1" Bevel="None" ForegroundColor="white" DirtyInfo="true" Width="2431" ScrollbarWidth="476" Height="609" JoinStyle="Bevel" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" EdgeBackColor="metroblue1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
      </Canvas>
      <Canvas Name="IVR_PHON" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CANVAS">
         <Graphics Name="RECT939" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="RECT920" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT911" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC914" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC919" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC921" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT934" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC938" SubclassSubObject="true"/>
         <Graphics Name="TEXT949" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC956" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC957" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC958" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC960" SubclassSubObject="true"/>
      </Canvas>
      <Canvas Name="UPD_READINGS_CV" DirtyInfo="true" ViewportYPositionOnCanvas="0" Width="7000" ParentType="4" Height="5500" ParentModule="WT_READINGS" ParentModuleType="12" WindowName="UPD_READINGS_WIN" ParentName="ADD_CV">
         <Graphics Name="TEXT365" XPosition="1917" GraphicsText="עדכון תוספת" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" SubclassSubObject="true" GraphicsFontSize="1200" DirtyInfo="true" Width="2222" GraphicsFontSpacing="Normal" GraphicsFontColorCode="76" GraphicsFontColor="red">
            <CompoundText Name="CMPTXT444">
               <TextSegment Name="TEXTSTR445" FontWeight="Bold" FontStyle="Plain" ForegroundColor="red" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="עדכון תוספת"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT376" GraphicsFontName="" SubclassSubObject="true" XPosition="264" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE371" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT368" SubclassSubObject="true" XPosition="898" DirtyInfo="true"/>
         <Graphics Name="RECT222" YPosition="2454" XPosition="3941" GraphicsText="" FillPattern="none" BackColor="white" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Height="695" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC449" YPosition="846" XPosition="1548" GraphicsText="" FillPattern="none" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="1495" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC454" YPosition="1716" XPosition="1548" GraphicsType="Rectangle" FillPattern="none" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1495" ScrollbarWidth="476" Height="583" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC455" YPosition="3429" XPosition="1826" GraphicsType="Rectangle" FillPattern="none" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="901" ScrollbarWidth="476" Height="583" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
      </Canvas>
      <Canvas Name="T_DEBUG" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <Canvas Name="WATER_ID_SERCH_CV" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID">
         <Graphics Name="GROUP285" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="IMAGE265" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" ImageFilename="WT_READINGS_WATER_ID_SERCH_CV_IMAGE265.tif" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="IMAGE263" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" ImageFilename="WT_READINGS_WATER_ID_SERCH_CV_IMAGE263.tif" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="ROUNDRECT269" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="RECT293" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="ROUNDRECT303" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT85" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="RECT242" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="ROUNDRECT259" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC237" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC238" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT252" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT255" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT258" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT305" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT314" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT317" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT323" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT326" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT329" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT332" SubclassSubObject="true"/>
         <Graphics Name="POLYGON335" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT337" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT340" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="RECT356" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC364" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC370" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC378" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC379" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC380" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC381" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE350" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT608" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT621" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="GRAPHIC629" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC650" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC652" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC653" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC656" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC236" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC844" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC845" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC846" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC848" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC862" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC869" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT873" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC900" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT1023" SubclassSubObject="true"/>
         <Graphics Name="GRAPHIC1027" SubclassSubObject="true"/>
      </Canvas>
      <Canvas Name="STACK_WATER_ID_CV" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID">
         <Graphics Name="GRAPHIC238" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT262" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT265" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT268" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT271" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT274" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT277" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT280" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT283" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT289" SubclassSubObject="true"/>
         <Graphics Name="TEXT292" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="TEXT295" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="LINE301" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE302" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE303" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE304" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE308" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE309" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE310" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE311" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE312" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC344" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC347" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC614" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT615" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="GRAPHIC711" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC712" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC236" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC715" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="GRAPHIC716" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="GRAPHIC727" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE776" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
      </Canvas>
      <Canvas Name="WEBUTIL_CANVAS" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="webutil.olb" ParentModule="WEBUTIL" ParentModuleType="25" ParentName="WEBUTIL"/>
      <Canvas Name="WT_WORK_COMMANDS_CV" ViewportHeight="10398" ViewportWidth="12594" DirtyInfo="true" Width="12568" ParentType="4" Height="10001" ParentModule="WT_READINGS" ParentModuleType="12" WindowName="WT_WORK_COMMANDS_WIN" ParentName="UPD_CV">
         <Graphics Name="TEXT365" GraphicsFontName="Arial" SubclassSubObject="true" GraphicsFontWeight="Bold" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="1600" GraphicsText="יצירת פקודת עבודה" GraphicsFontSpacing="Normal" GraphicsFontColorCode="76" GraphicsFontColor="red">
            <CompoundText Name="CMPTXT280">
               <TextSegment Name="TEXTSTR281" FontWeight="Bold" FontStyle="Plain" ForegroundColor="red" DirtyInfo="true" FontSpacing="Normal" FontSize="1600" FontName="Arial" Text="יצירת פקודת עבודה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT376" YPosition="977" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" DirtyInfo="true" Width="11245" Height="8019" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE371" YPosition="3918" XPosition="874" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" DirtyInfo="true" Width="9498" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT368" YPosition="8757" XPosition="5635" GraphicsText="????" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" SubclassSubObject="true" GraphicsFontSize="1200" DirtyInfo="true" GraphicsFontSpacing="Normal" GraphicsFontColorCode="1" GraphicsFontColor="white">
            <CompoundText Name="CMPTXT286">
               <TextSegment Name="TEXTSTR287" FontWeight="Bold" FontStyle="Plain" ForegroundColor="white" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="????"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="GRAPHIC289" YPosition="5184" XPosition="2381" GraphicsType="Rectangle" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1138" ScrollbarWidth="476" Height="556" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC290" YPosition="4182" XPosition="2373" GraphicsType="Rectangle" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1131" ScrollbarWidth="476" Height="556" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC291" YPosition="6133" XPosition="2381" GraphicsType="Rectangle" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1165" ScrollbarWidth="476" Height="590" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="RECT509" YPosition="7098" XPosition="2369" GraphicsType="Rectangle" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1165" ScrollbarWidth="476" Height="590" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC292" YPosition="5131" XPosition="2381" GraphicsType="Rectangle" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1138" ScrollbarWidth="476" Height="556" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC345" YPosition="8109" XPosition="2248" GraphicsType="Rectangle" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="6695" ScrollbarWidth="476" Height="543" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
      </Canvas>
      <Canvas Name="ADD_CV" ViewportHeight="5556" ViewportWidth="7011" CanvasType="Stacked" Bevel="None" DirtyInfo="true" ViewportYPositionOnCanvas="0" Width="7000" Comment="עבור canvas משני" Height="5500" VisualAttributeName="VA_CONTENT_CANVAS" WindowName="ADD_WIN">
         <Graphics Name="TEXT365" YPosition="80" HorizontalJustification="Start" XPosition="106" GraphicsType="Text" FillPattern="none" BackColor="gray4" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="2831" ScrollbarWidth="476" Height="529" EdgePattern="none" GraphicsFontColorCode="76" EdgeForegroundColor="metrogray1" GraphicsFontColor="red" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="תוספת / הפחתה" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" GraphicsFontSize="1200" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT383">
               <TextSegment Name="TEXTSTR384" FontWeight="Bold" FontStyle="Plain" ForegroundColor="red" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="תוספת / הפחתה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT376" YPosition="687" XPosition="106" GraphicsType="Rectangle" CornerRadiusY="0" CornerRadiusX="0" BackColor="metrogray" InternalLineWidth="227" InternalRotationAngle="0" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="6667" ScrollbarWidth="476" Height="3705" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metrogray1" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="LINE371" YPosition="5471" XPosition="1269" GraphicsType="Line" BackColor="gray4" InternalLineWidth="228" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="3466" ScrollbarWidth="476" Height="0" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="white" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="TEXT368" YPosition="1401" HorizontalJustification="Start" XPosition="740" GraphicsType="Text" FillPattern="none" BackColor="gray4" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="2276" ScrollbarWidth="476" Height="529" EdgePattern="none" GraphicsFontColorCode="153" EdgeForegroundColor="metrogray1" GraphicsFontColor="metroblue1" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText=" " HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" GraphicsFontSize="1000" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT381">
               <TextSegment Name="TEXTSTR382" FontWeight="Bold" FontStyle="Plain" ForegroundColor="metroblue1" DirtyInfo="true" FontSpacing="Normal" FontSize="1000" FontName="Arial" Text=" "/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT222" YPosition="2612" XPosition="3757" GraphicsType="Rectangle" BackColor="r100g100b88" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1641" ScrollbarWidth="476" Height="583" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC449" YPosition="3429" XPosition="1886" GraphicsType="Rectangle" BackColor="r100g100b88" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="741" ScrollbarWidth="476" Height="583" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
      </Canvas>
      <Canvas Name="TOOLBAR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CANVAS">
         <Graphics Name="RECT677" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="GRAPHIC678" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="RECT713" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
      </Canvas>
      <Canvas Name="HELP_CAN" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CANVAS">
         <Graphics Name="FRAME36" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
      </Canvas>
      <Canvas Name="UPD_CV" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" WindowName="STAM_WIN" ParentName="OBJ_INS_UPD">
         <Graphics Name="TEXT365" SubclassSubObject="true" DirtyInfo="true"/>
         <Graphics Name="RECT376" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE371" GraphicsFontName="" SubclassSubObject="true" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" DirtyInfo="true" GraphicsFontSize="0" GraphicsText="" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT368" SubclassSubObject="true" DirtyInfo="true"/>
      </Canvas>
      <Canvas Name="NEW_WATER_ID_CV" CanvasType="Stacked" Comment="עבור canvas משני" ViewportHeight="9975" ViewportWidth="14473" Bevel="None" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" DirtyInfo="true" Width="14500" VisualAttributeName="VA_CONTENT_CANVAS" Height="10000" WindowName="NEW_WATER_ID_WIN">
         <Graphics Name="TEXT365" YPosition="475" HorizontalJustification="Start" XPosition="228" GraphicsType="Text" FillPattern="none" BackColor="gray4" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="2699" ScrollbarWidth="476" Height="609" EdgePattern="none" GraphicsFontColorCode="76" EdgeForegroundColor="metrogray1" GraphicsFontColor="red" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="הוספת קריאה חדשה" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" GraphicsFontSize="1200" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT180">
               <TextSegment Name="TEXTSTR181" FontWeight="Bold" FontStyle="Plain" ForegroundColor="red" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="הוספת קריאה חדשה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT376" YPosition="0" XPosition="0" GraphicsType="Rectangle" CornerRadiusY="0" CornerRadiusX="0" BackColor="metrogray" InternalLineWidth="0" InternalRotationAngle="0" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="0" ScrollbarWidth="476" Height="0" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metrogray1" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="LINE371" YPosition="1354" XPosition="451" GraphicsType="Line" BackColor="gray4" InternalLineWidth="228" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="9551" ScrollbarWidth="476" Height="0" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="white" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="RECT293" YPosition="1138" XPosition="132" GraphicsType="Rectangle" BackColor="metrogray" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="14112" ScrollbarWidth="476" Height="5601" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metrogray1" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="TEXT368" YPosition="3119" HorizontalJustification="Start" XPosition="16959" GraphicsType="Text" FillPattern="none" BackColor="gray4" Bevel="None" ForegroundColor="metrogray1" DirtyInfo="true" Width="2276" ScrollbarWidth="476" Height="529" EdgePattern="none" GraphicsFontColorCode="153" EdgeForegroundColor="metrogray1" GraphicsFontColor="metroblue1" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="????" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" GraphicsFontSize="1200" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT369">
               <TextSegment Name="TEXTSTR370" FontWeight="Bold" FontStyle="Plain" ForegroundColor="metroblue1" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="????"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT185" YPosition="6659" XPosition="149" GraphicsType="Rectangle" BackColor="metrogray" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="14168" ScrollbarWidth="476" Height="114" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="0" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC225" YPosition="1452" XPosition="2594" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1323" ScrollbarWidth="476" Height="561" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC388" YPosition="3541" XPosition="2541" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="2408" ScrollbarWidth="476" Height="561" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC389" YPosition="2484" XPosition="2645" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1271" ScrollbarWidth="476" Height="561" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC390" YPosition="4653" XPosition="2619" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="962" ScrollbarWidth="476" Height="559" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC391" YPosition="1425" XPosition="10774" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="1898" ScrollbarWidth="476" Height="561" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC427" YPosition="5715" XPosition="2566" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="962" ScrollbarWidth="476" Height="630" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
      </Canvas>
      <Canvas Name="READING_UPD_CV" ViewportHeight="8493" ViewportWidth="17357" DirtyInfo="true" Width="17357" ParentType="4" Height="8493" ParentModule="WT_READINGS" ParentModuleType="12" WindowName="WT_READINGS_UPD_WIN" ParentName="UPD_CV">
         <Graphics Name="TEXT365" YPosition="80" XPosition="345" GraphicsText="פרטי קריאה" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" SubclassSubObject="true" GraphicsFontSize="1200" DirtyInfo="true" GraphicsFontSpacing="Normal" GraphicsFontColorCode="76" GraphicsFontColor="red">
            <CompoundText Name="CMPTXT204">
               <TextSegment Name="TEXTSTR205" FontWeight="Bold" FontStyle="Plain" ForegroundColor="red" DirtyInfo="true" FontSpacing="Normal" FontSize="1200" FontName="Arial" Text="פרטי קריאה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT376" YPosition="552" XPosition="264" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" DirtyInfo="true" GraphicsFontSize="0" Width="16751" Height="6398" GraphicsFontSpacing="Ultradense" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="LINE371" YPosition="5003" XPosition="1429" GraphicsText="" GraphicsFontName="" SubclassSubObject="true" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" DirtyInfo="true" GraphicsFontSpacing="Ultradense" EdgeForegroundColor="metrogray" GraphicsFontColorCode="0" GraphicsFontColor=""/>
         <Graphics Name="TEXT368" YPosition="105" XPosition="5291" GraphicsText="????" GraphicsFontName="Arial" GraphicsFontStyle="0" GraphicsFontWeight="Bold" SubclassSubObject="true" GraphicsFontSize="1000" DirtyInfo="true" GraphicsFontSpacing="Normal" GraphicsFontColorCode="1" GraphicsFontColor="white">
            <CompoundText Name="CMPTXT206">
               <TextSegment Name="TEXTSTR207" FontWeight="Bold" FontStyle="Plain" ForegroundColor="white" DirtyInfo="true" FontSpacing="Normal" FontSize="1000" FontName="Arial" Text="????"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="TEXT187" YPosition="3501" HorizontalJustification="Right" VerticalOrigin="Center" XPosition="7325" BoundingBoxScalable="false" GraphicsType="Text" FillPattern="none" BackColor="gray24" Bevel="Inset" DirtyInfo="true" Width="899" ScrollbarWidth="529" Height="344" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="0" GraphicsFontColor="black" VerticalMargin="476" HorizontalMargin="265" GraphicsText="הערכה" HorizontalObjectOffset="529" StartPromptOffset="265" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT188">
               <TextSegment Name="TEXTSTR189" FontWeight="Medium" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="הערכה"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT222" YPosition="1270" XPosition="9551" GraphicsType="Rectangle" BackColor="r100g100b88" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="2425" ScrollbarWidth="476" Height="627" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC224" YPosition="3985" XPosition="3440" GraphicsType="Rectangle" BackColor="r100g100b88" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="2540" ScrollbarWidth="476" Height="582" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC225" YPosition="2324" XPosition="9525" GraphicsType="Rectangle" BackColor="white" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="962" ScrollbarWidth="476" Height="561" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontWeight="Ultralight" GraphicsFontStyle="0" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC334" YPosition="4779" XPosition="9525" GraphicsType="Rectangle" FillPattern="none" BackColor="r100g100b88" InternalLineWidth="1" Bevel="None" DirtyInfo="true" Width="962" ScrollbarWidth="476" Height="607" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC474" YPosition="4279" HorizontalJustification="Right" VerticalOrigin="Center" XPosition="7329" BoundingBoxScalable="false" GraphicsType="Text" FillPattern="none" BackColor="gray24" Bevel="Inset" DirtyInfo="true" Width="2117" ScrollbarWidth="529" Height="450" JoinStyle="Bevel" EdgePattern="none" GraphicsFontColorCode="0" GraphicsFontColor="black" VerticalMargin="476" HorizontalMargin="265" GraphicsText="בירור קריאה" HorizontalObjectOffset="529" StartPromptOffset="265" GraphicsFontName="Arial" GraphicsFontWeight="Medium" GraphicsFontStyle="0" GraphicsFontSize="1100" GraphicsFontSpacing="Normal">
            <CompoundText Name="CMPTXT188">
               <TextSegment Name="TEXTSTR189" FontWeight="Medium" FontStyle="Plain" ForegroundColor="black" DirtyInfo="true" FontSpacing="Normal" FontSize="1100" FontName="Arial" Text="בירור קריאה"/>
            </CompoundText>
         </Graphics>
      </Canvas>
      <Canvas Name="IMAGES_CV" ViewportHeight="11430" BackColor="white" ViewportWidth="19050" CanvasType="Content" DirtyInfo="true" Width="7000" Height="5000" WindowName="IMAGES_WIN">
         <Graphics Name="GRAPHIC236" YPosition="1461" XPosition="474" GraphicsType="Rectangle" BackColor="metrogray1" Bevel="None" ForegroundColor="white" DirtyInfo="true" Width="5900" ScrollbarWidth="476" Height="2084" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metrogray1" GraphicsFontColor="" EdgeBackColor="metrogray1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
         <Graphics Name="GRAPHIC238" YPosition="490" XPosition="448" GraphicsType="Rounded Rectangle" FillPattern="transparent" CornerRadiusY="0" CornerRadiusX="0" BackColor="metroblue1" Bevel="None" DirtyInfo="true" Width="5902" ScrollbarWidth="476" Height="929" JoinStyle="Bevel" EdgePattern="solid" GraphicsFontColorCode="0" EdgeForegroundColor="metroblue1" GraphicsFontColor="" EdgeBackColor="metroblue1" VerticalMargin="476" HorizontalMargin="238" GraphicsText="" HorizontalObjectOffset="476" StartPromptOffset="238" GraphicsFontName="" GraphicsFontStyle="0" GraphicsFontWeight="Ultralight" GraphicsFontSize="0" GraphicsFontSpacing="Ultradense"/>
      </Canvas>
      <Editor Name="EDIT_COMMENTS" YPosition="7000" XPosition="2000" ShowVerticalScrollbar="false" DirtyInfo="true" WrapStyle="Word" Width="10000" Title="הערות" Height="4000" VisualAttributeName="VA_EDITOR"/>
      <Event Name="EVENT_CONFIRM" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM"/>
      <ModuleParameter Name="COMMENTS_MANUAL_CHANGED" DirtyInfo="true" ParameterInitializeValue="0" ParameterDataType="Number"/>
      <ModuleParameter Name="P_TAGS_EXISTS" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS"/>
      <ModuleParameter Name="P_TAGS_TEXT" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS"/>
      <ModuleParameter Name="P_TAGS_QUERY" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS"/>
      <ModuleParameter Name="P_TAGS_LEVEL" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS"/>
      <ModuleParameter Name="DROUGHT_DEBIT_SERV_CODE" DirtyInfo="true"/>
      <ModuleParameter Name="KEREN_SHIKUM_SERV_CODE" DirtyInfo="true"/>
      <ModuleParameter Name="PAR_BLOCK_NAME_POPUP" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM"/>
      <ModuleParameter Name="P_COMMENTS" DirtyInfo="true"/>
      <ModuleParameter Name="P_IVR_CURSER_ITEM" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="P_IVR_AREA_CODE_PHON" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="P_IVR_PHON" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="P_UPDATE_NEG_READING" DirtyInfo="true"/>
      <ModuleParameter Name="P_UPDATE_READING" DirtyInfo="true"/>
      <ModuleParameter Name="LOGIN_KARAM_CITYMIND" DirtyInfo="true"/>
      <ModuleParameter Name="P_URL_WATER_ID" DirtyInfo="true"/>
      <ModuleParameter Name="P_URL_USER_NAME" DirtyInfo="true"/>
      <ModuleParameter Name="P_URL_CONF_NUM" DirtyInfo="true"/>
      <ModuleParameter Name="SEARCH_V_SQL_RESULTS" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <ModuleParameter Name="P_FLAG_SEARCH_C" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="P_MUNI_SEARCH_C" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="PAR_OLD_Y_N" DirtyInfo="true"/>
      <ModuleParameter Name="P_UPDATE_NEXT_READING" DirtyInfo="true"/>
      <ModuleParameter Name="PAR_OLD_READING" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_READING_DATE" DirtyInfo="true" ParameterDataType="Date"/>
      <ModuleParameter Name="CURR_REC_NEW_READING" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="CURSOR_RECORD" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_NEXT_SEQ" DirtyInfo="true"/>
      <ModuleParameter Name="P_PREV_NXT" DirtyInfo="true"/>
      <ModuleParameter Name="P_REGION" DirtyInfo="true"/>
      <ModuleParameter Name="P_MIN_READING_DATE" DirtyInfo="true" ParameterDataType="Date"/>
      <ModuleParameter Name="P_MAX_READING_DATE" DirtyInfo="true" ParameterDataType="Date"/>
      <ModuleParameter Name="P_NXT_PERIOD" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_NXT_YEAR" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_PRV_PERIOD" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_PRV_YEAR" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="PAR_OLD_REPAIR_REASON" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_READING_SEQ" DirtyInfo="true" ParameterDataType="Number"/>
      <ModuleParameter Name="P_LAST_PERIOD" DirtyInfo="true" ParameterDataType="Char"/>
      <ModuleParameter Name="PAR_OLD_DATE" DirtyInfo="true" ParameterDataType="Date"/>
      <ModuleParameter Name="P_VALUE" DirtyInfo="true"/>
      <ModuleParameter Name="ADDRESS" DirtyInfo="true"/>
      <ModuleParameter Name="P_CHANGE_NEXT_READING" DirtyInfo="true"/>
      <ModuleParameter Name="PAR_STR_GENERAL_MENU" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="PAR_STR_PRIVATE_MENU" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="PAR_QUERY_BLK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParameterInitializeValue="query" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="PAR_BLOCK_NAME" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS"/>
      <ModuleParameter Name="CARD_NUM" ParameterDataType="Number"/>
      <ModuleParameter Name="WATER_ID_TYPE" ParameterDataType="Number"/>
      <ModuleParameter Name="USAGE_TYPE" ParameterDataType="Number"/>
      <ModuleParameter Name="PREV_FORM"/>
      <ModuleParameter Name="CALL_FORM"/>
      <ModuleParameter Name="INSTALL_FIRST_TIME"/>
      <ModuleParameter Name="CURR_REC" Comment="0 - comming from button &quot;update&quot;;&amp;#10;1 - comming from button &quot;insert&quot;;&amp;#10;"/>
      <ModuleParameter Name="PREV_BUTT"/>
      <ModuleParameter Name="WATER_ID"/>
      <LOV Name="LOV_TAGS" YPosition="2" XPosition="10" DirtyInfo="true" Width="7680" RecordGroupName="RG_TAGS" Title="תגיות" AutoPosition="true" Height="10240">
         <LOVColumnMapping Name="TAG_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="RM_TAGS_UPD.TAG_CODE"/>
         <LOVColumnMapping Name="TAG_DESC" DirtyInfo="true" Title="תיאור" DisplayWidth="7000" ReturnItem=""/>
      </LOV>
      <LOV Name="LOV_CITY" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_REPAIR_REASON_UPD" YPosition="2000" XPosition="1000" DirtyInfo="true" Width="7680" RecordGroupName="RG_REPAIR_REASONS" Title="סבת הוספה  /הפחתה" Comment="עבור רשימת ערכים בעברית" AutoPosition="true" Height="10240">
         <LOVColumnMapping Name="REPAIR_REASON_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="UPD_READINGS.REPAIR_REASON_UPD"/>
         <LOVColumnMapping Name="REPAIR_REASON_DESC" DirtyInfo="true" Title="תאור" DisplayWidth="2381" ReturnItem="UPD_READINGS.DISP_REPAIR_REASON_UPD"/>
      </LOV>
      <LOV Name="LOV_REAGON_ADD" DirtyInfo="true" RecordGroupName="LOV422" ParentType="29" Title="סיבות תיקון" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="REPAIR_REASON_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1429" ReturnItem="NEW_WATER_ID.REPAIR_REASON_CODE"/>
         <LOVColumnMapping Name="REPAIR_REASON_DESC" DirtyInfo="true" Title="תאור" DisplayWidth="12144" ReturnItem="NEW_WATER_ID.REPAIR_REASON_NAME"/>
      </LOV>
      <LOV Name="LOV_DEBIT_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_REGION_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_UNIT_FOR_READING_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_UNIT_BY_REGION_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_REGION_BY_UNIT_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_GAUGES_TYPE_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_STREET_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_REPAIR_REASON_ADD" DirtyInfo="true" RecordGroupName="RG_REPAIR_REASONS" ParentType="29" Title="סבת הוספה  /הפחתה" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="REPAIR_REASON_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="CONTROL.REPAIR_REASON_ADD"/>
         <LOVColumnMapping Name="REPAIR_REASON_DESC" DirtyInfo="true" Title="תאור" DisplayWidth="2381" ReturnItem="CONTROL.DISP_REPAIR_REASON_ADD"/>
      </LOV>
      <LOV Name="LOV_WATER_CLASS_S" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <LOV Name="LOV_CODES" DirtyInfo="true" RecordGroupName="LOV365" ParentType="29" Title="קודי הערכה" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="VALUE_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1429" ReturnItem=""/>
         <LOVColumnMapping Name="VALUE_NAME" DirtyInfo="true" Title="תיאור" DisplayWidth="4000" ReturnItem=""/>
      </LOV>
      <LOV Name="LOV_GAUGE_STATUS_2" YPosition="2000" XPosition="1000" DirtyInfo="true" Width="7680" RecordGroupName="RG_GAUGE_STATUS" Title="רשימת מצבי מד" Comment="עבור רשימת ערכים בעברית" AutoPosition="true" Height="10240">
         <LOVColumnMapping Name="STATUS_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1500" ReturnItem="NEW_WATER_ID.GAUGE_STATUS_CODE"/>
         <LOVColumnMapping Name="STATUS_NAME" DirtyInfo="true" Title="תיאור" DisplayWidth="8000" ReturnItem="NEW_WATER_ID.GAUGE_STATUS_DESC"/>
      </LOV>
      <LOV Name="LOV_REASONS" DirtyInfo="true" RecordGroupName="RG_REPAIR_REASONS" ParentType="29" Title="סיבות תיקון" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="REPAIR_REASON_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="WT_READINGS_UPD_BLK.REPAIR_REASON_CODE"/>
         <LOVColumnMapping Name="REPAIR_REASON_DESC" DirtyInfo="true" Title="תיאור" DisplayWidth="5000" ReturnItem="WT_READINGS_UPD_BLK.REPAIR_REASON_NAME"/>
      </LOV>
      <LOV Name="LOV_GAUGE_STATUS" DirtyInfo="true" RecordGroupName="RG_GAUGE_STATUS" ParentType="29" Title="רשימת מצבי מד" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="STATUS_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1500" ReturnItem="WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE"/>
         <LOVColumnMapping Name="STATUS_NAME" DirtyInfo="true" Title="תיאור" DisplayWidth="8000" ReturnItem="WT_READINGS_UPD_BLK.GAUGE_STATUS_NAME"/>
      </LOV>
      <LOV Name="LOV_COMMANDS_TYPE" DirtyInfo="true" RecordGroupName="RG_COMMANDS_TYPE" ParentType="29" Title="סוגי פקודה" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="VALUE_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1500" ReturnItem="WT_WORK_COMMAND_BLK.COMMAND_TYPE"/>
         <LOVColumnMapping Name="VALUE_DESC" DirtyInfo="true" Title="תיאור" DisplayWidth="8000" ReturnItem="WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC"/>
      </LOV>
      <LOV Name="LOV_SUB_COMMANDS_TYPE" DirtyInfo="true" RecordGroupName="RG_SUB_COMMANDS_TYPE" ParentType="29" Title="תתי סוגי פקודה" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="COMMAND_TYPE" DirtyInfo="true" Title="" DisplayWidth="10" ReturnItem="WT_WORK_COMMAND_BLK.COMMAND_TYPE"/>
         <LOVColumnMapping Name="COMMAND_SUB_TYPE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="WT_WORK_COMMAND_BLK.SUB_COMMAND_TYPE"/>
         <LOVColumnMapping Name="COMMAND_SUB_TYPE_DESC" DirtyInfo="true" Title="תיאור" DisplayWidth="7000" ReturnItem="WT_WORK_COMMAND_BLK.SUB_COMMAND_DESC"/>
      </LOV>
      <LOV Name="LOV_DIAMETER" DirtyInfo="true" RecordGroupName="RG_DIAMETER" ParentType="29" Title="קטרים" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="VALUE_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1500" ReturnItem="WT_WORK_COMMAND_BLK.DIAMETER_CODE"/>
         <LOVColumnMapping Name="VALUE_NAME" DirtyInfo="true" Title="תיאור" DisplayWidth="8000" ReturnItem="WT_WORK_COMMAND_BLK.DIAMETER_DESC"/>
      </LOV>
      <LOV Name="LOV_GAUGE_LETTERS" DirtyInfo="true" RecordGroupName="RG_GAUGE_LETTERS" ParentType="29" Title="אותיות" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="GAUGE_LETTER_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1500" ReturnItem="WT_WORK_COMMAND_BLK.GAUGE_LETTER_CODE"/>
         <LOVColumnMapping Name="GAUGE_LETTER_NAME" DirtyInfo="true" Title="תיאור" DisplayWidth="8000" ReturnItem="WT_WORK_COMMAND_BLK.GAUGE_LETTER_NAME"/>
         <LOVColumnMapping Name="GAUGE_LETTER_DESC" DirtyInfo="true" Title="" DisplayWidth="2381" ReturnItem="WT_WORK_COMMAND_BLK.GAUGE_LETTER_DESC"/>
      </LOV>
      <LOV Name="LOV_COMMAND_TYPE_FILTER" YPosition="2000" XPosition="1000" DirtyInfo="true" Width="7680" RecordGroupName="RG_COMMAND_TYPE_FILTER" Title="סוגי פקודה" AutoPosition="true" Height="10240">
         <LOVColumnMapping Name="VALUE_CODE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="WT_WORK_COMMAND_BLK.COMMAND_TYPE"/>
         <LOVColumnMapping Name="VALUE_NAME" DirtyInfo="true" Title="תיאור" DisplayWidth="7000" ReturnItem="WT_WORK_COMMAND_BLK.COMMAND_TYPE_DESC"/>
      </LOV>
      <LOV Name="LOV_COMMAND_SUB_TYPE_FILTER" DirtyInfo="true" RecordGroupName="RG_COMMAND_SUB_TYPE_FILTER" ParentType="29" Title="תת סוג פקודה" AutoPosition="true" ParentModule="WT_READINGS" ParentModuleType="12" ParentName="HEB_LOV_PC">
         <LOVColumnMapping Name="COMMAND_SUB_TYPE" DirtyInfo="true" Title="קוד" DisplayWidth="1000" ReturnItem="WT_WORK_COMMAND_BLK.SUB_COMMAND_TYPE"/>
         <LOVColumnMapping Name="COMMAND_SUB_TYPE_DESC" DirtyInfo="true" Title="תיאור" DisplayWidth="7000" ReturnItem="WT_WORK_COMMAND_BLK.SUB_COMMAND_DESC"/>
      </LOV>
      <Menu Name="STD_MENU_VIEW" SubclassObjectGroup="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG">
         <MenuItem Name="COPY" SubclassSubObject="true" DirtyInfo="true"/>
         <MenuItem Name="CUT" SubclassSubObject="true"/>
         <MenuItem Name="PASTE" SubclassSubObject="true"/>
         <MenuItem Name="CLEAR" SubclassSubObject="true"/>
         <MenuItem Name="ITEM100" SubclassSubObject="true"/>
         <MenuItem Name="VIEW" SubclassSubObject="true" DirtyInfo="true"/>
         <MenuItem Name="ITEM858" SubclassSubObject="true"/>
         <MenuItem Name="PERMISSIONS" SubclassSubObject="true" DirtyInfo="true"/>
      </Menu>
      <ProgramUnit Name="POPULATE_PKG" ProgramUnitType="Package Spec" ProgramUnitText="PACKAGE populate_pkg IS&amp;#10;--&amp;#10;PROCEDURE value_name(p_code   IN NUMBER,&amp;#10;                     p_title  IN NUMBER,     &amp;#10;                     p_value OUT VARCHAR2);&amp;#10;--&amp;#10;PROCEDURE gauge_id(p_gauge_seq IN NUMBER,&amp;#10;                   p_water_id  IN VARCHAR2,     &amp;#10;                   p_gauge_id OUT VARCHAR2);&amp;#10;--&amp;#10;PROCEDURE clients(p_water_id     IN VARCHAR2,&amp;#10;                  p_client_id   OUT VARCHAR2,&amp;#10;                  p_client_type OUT VARCHAR2,  &amp;#10;                  p_client_name OUT VARCHAR2);&amp;#10;                  &amp;#10;--&amp;#10;PROCEDURE get_water_details;&amp;#10;--&amp;#10;PROCEDURE get_debit_details;&amp;#10;--&amp;#10;PROCEDURE set_record_color;&amp;#10;--&amp;#10;PROCEDURE num_curr_rec(p_place1 IN NUMBER,&amp;#10;                       p_place2 IN NUMBER,&amp;#10;                       p_count OUT NUMBER);&amp;#10;                       &amp;#10;--&amp;#10;PROCEDURE get_gauge_details;--Hodaya added 12/15&amp;#10;END;"/>
      <ProgramUnit Name="POPULATE_PKG" ProgramUnitType="Package Body" ProgramUnitText="PACKAGE BODY populate_pkg &amp;#10;IS&amp;#10;   v_alert   NUMBER;&amp;#10;/* ===================================================================&amp;#10;  Date        :    22/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    value_name&amp;#10;  Description :    The procedure Will populate item 'pay_means'&amp;#10;  Parameters  :    Name        Order  Type  DataType  Description&amp;#10;                   ----------- -----  ----  --------  -----------&amp;#10;                   p_code       1      IN    NUMBER   pay_means_code&amp;#10;                   p_title      2      IN    NUMBER   title &amp;#10;                   p_value      3     OUT    VARCHAR2 pay_means&amp;#10;  =======================================================================*/&amp;#10;PROCEDURE value_name(p_code   IN NUMBER,&amp;#10;                     p_title  IN NUMBER,     &amp;#10;                     p_value OUT VARCHAR2)  &amp;#10;IS&amp;#10;BEGIN&amp;#10;   SELECT a.value_name&amp;#10;   INTO   p_value&amp;#10;   FROM   rm_decode_values a&amp;#10;   WHERE  a.decode_code = (SELECT b.decode_code&amp;#10;                           FROM   rm_decode b&amp;#10;                           WHERE b.decode_code = p_title)&amp;#10;     AND  a.value_code = p_code;&amp;#10;EXCEPTION&amp;#10;   WHEN NO_DATA_FOUND THEN&amp;#10;      NULL;&amp;#10;END;&amp;#10;/* ===================================================================&amp;#10;  Date        :    22/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    gauge_id&amp;#10;  Description :    The procedure Will populate item 'pay_means'&amp;#10;  Parameters  :    Name        Order  Type  DataType  Description&amp;#10;                   ----------- -----  ----  --------  -----------&amp;#10;                   p_gauge_seq  1      IN    NUMBER   gauge_seq&amp;#10;                   p_water_id   2      IN    VARCHAR2 water_id &amp;#10;                   p_gauge_id   3     OUT    VARCHAR2 gauge_id&amp;#10;  =======================================================================*/&amp;#10;PROCEDURE gauge_id(p_gauge_seq IN NUMBER,&amp;#10;                   p_water_id  IN VARCHAR2,     &amp;#10;                   p_gauge_id OUT VARCHAR2)&amp;#10;IS &amp;#10;BEGIN&amp;#10;   SELECT gauge_id &amp;#10;   INTO   p_gauge_id&amp;#10;   FROM   wt_gauges&amp;#10;   WHERE  water_id  = p_water_id &amp;#10;     AND  gauge_seq = p_gauge_seq;&amp;#10;EXCEPTION&amp;#10;   WHEN NO_DATA_FOUND THEN&amp;#10;      NULL;&amp;#10;END;&amp;#10;/* ===================================================================&amp;#10;  Date        :    13/10/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    clients&amp;#10;  Description :    The procedure Will populate items 'client_id' and&amp;#10;                   'client_name'&amp;#10;  Parameters  :    None&amp;#10;  =======================================================================*/&amp;#10;PROCEDURE clients(p_water_id     IN VARCHAR2,&amp;#10;                  p_client_id   OUT VARCHAR2,&amp;#10;                  p_client_type OUT VARCHAR2,--Tamar 01/2014&amp;#10;                  p_client_name OUT VARCHAR2)&amp;#10;IS&amp;#10;BEGIN&amp;#10; IF p_water_id IS NOT NULL THEN&amp;#10;   SELECT cl.client_id, cl.client_name&amp;#10;   INTO   p_client_id,  p_client_name&amp;#10;   FROM   rm_clients cl, rm_cards car&amp;#10;   WHERE  cl.client_id   = car.client_id&amp;#10;     AND  cl.client_type = car.client_type&amp;#10;     AND  car.card_num   = (SELECT card_num&amp;#10;                            FROM   wt_net&amp;#10;                            WHERE  water_id = p_water_id);&amp;#10;    ---   MESSAGE('p_client_name'||p_client_name);&amp;#10;     --- MESSAGE('p_client_name'||p_client_name);                        &amp;#10; &amp;#10; ELSE&amp;#10;   p_client_id := ' ';&amp;#10;   p_client_name := ' ';&amp;#10; END IF;&amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;      p_client_id := ' ';&amp;#10;      p_client_name := ' ';&amp;#10;  WHEN TOO_MANY_ROWS THEN&amp;#10;      MESSAGE('TOO_MANY_ROWS IN populate_pkg.clients');   MESSAGE('TOO_MANY_ROWS IN populate_pkg.clients');&amp;#10;END;&amp;#10;&amp;#10;&amp;#10;                             &amp;#10;--&amp;#10;/* ===================================================================&amp;#10;  Date        :    22/12/1999&amp;#10;  Programmer  :    Inbar Abend&amp;#10;  Name        :    get_obj_id&amp;#10;  Description :    The procedure Will populate Obj Id From &quot;wt_net&quot;&amp;#10;  Parameters  :    None&amp;#10;=======================================================================*/&amp;#10;PROCEDURE get_water_details&amp;#10;IS&amp;#10;BEGIN&amp;#10;&#x9;/*brachi 092014*/&amp;#10;    IF :query.water_id IS NOT NULL THEN&amp;#10;       SELECT obj_id,water_id_type,usage_type,card_num,street_name||' '||HOUSE_NUM||' '||ENTRANCE_NUM||' '||address&amp;#10;      INTO :query.obj_id,:parameter.water_id_type,&amp;#10;            :parameter.usage_type,:parameter.card_num,:parameter.address&amp;#10;       FROM wt_net,rm_street_codes&amp;#10;       WHERE water_id = :query.water_id and rm_street_codes.street_code(+)=wt_net.street_code and rm_street_codes.city_code(+)=wt_net.city_code;&amp;#10;    ELSE&amp;#10;       :query.obj_id := ' ';&amp;#10;       :query.obj_name := ' ';&amp;#10;       :parameter.water_id_type := NULL;&amp;#10;       :parameter.usage_type := NULL;&amp;#10;       :parameter.card_num := NULL;&amp;#10;       :parameter.address := NULL;&amp;#10;    END IF;&amp;#10;    EXCEPTION&amp;#10;    WHEN NO_DATA_FOUND THEN&amp;#10;      :query.obj_id := ' ';&amp;#10;  &amp;#10;      :query.obj_name := ' ';&amp;#10;      :parameter.water_id_type := NULL;&amp;#10;      :parameter.usage_type := NULL;&amp;#10;      :parameter.card_num := NULL;&amp;#10;      :parameter.address := NULL;&amp;#10;    WHEN OTHERS THEN&amp;#10;      Message('get_obj_id - '||SQLERRM);&amp;#10;      Message('get_obj_id - '||SQLERRM);&amp;#10;END;&amp;#10;/* ========================================================================&amp;#10;  Date        :    12/03/2000&amp;#10;  Programmer  :    Inbar Abend&amp;#10;  Name        :    get_debit_details&amp;#10;  Description :    The Procedure Will Get Debit Code From &quot;rm_cards&quot;&amp;#10;                   And Debit Name From &quot;rm_debit_codes&quot;&amp;#10;  Parameters  :    None&amp;#10;==========================================================================*/&amp;#10;PROCEDURE get_debit_details&amp;#10;IS&amp;#10;   v_subj_code  rm_debit_codes.subj_code%TYPE;&amp;#10;   v_serv_code  rm_debit_codes.serv_code%TYPE;&amp;#10;   v_debit_code rm_debit_codes.debit_code%TYPE;&amp;#10;BEGIN&amp;#10;    SELECT subj_code,serv_code,debit_code&amp;#10;    INTO v_subj_code,v_serv_code,v_debit_code&amp;#10;    FROM rm_cards&amp;#10;    WHERE card_num = :parameter.card_num;&amp;#10;--message(1);message(1);--2603&amp;#10;    SELECT debit_name&amp;#10;    INTO :query.debit_name&amp;#10;    FROM rm_debit_codes&amp;#10;    WHERE subj_code = v_subj_code&amp;#10;    AND serv_code = v_serv_code&amp;#10;    AND debit_code = v_debit_code;&amp;#10;EXCEPTION&amp;#10;    WHEN NO_DATA_FOUND THEN&amp;#10;       NULL;&amp;#10;END;&amp;#10;/* =============================================================================&amp;#10;  Date        :    12/03/2000&amp;#10;  Programmer  :    Inbar Abend&amp;#10;  Name        :    set_record_color&amp;#10;  Description :    The Procedure Will Set Record Color Due To It's Reading Type&amp;#10;  Parameters  :    None&amp;#10;===============================================================================*/&amp;#10;PROCEDURE set_record_color&amp;#10;IS&amp;#10;BEGIN&amp;#10;    &amp;#10;    IF :wt_readings_blk.reading_type = :global.periodic_reading THEN&amp;#10;       NULL;&amp;#10;    ELSE&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.reading',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.gauge_id',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.fiscal_year',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.period_num',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.reading_type_name',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.reading_date',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.previous_reading',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.qty',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.gauge_status_code',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.estimated',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;       SET_ITEM_INSTANCE_PROPERTY('wt_readings_blk.comments',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_READING');&amp;#10;&amp;#10;    END IF;&amp;#10;END;&amp;#10;--&amp;#10;/*Add by chani 9.2013*/&amp;#10;PROCEDURE num_curr_rec(&amp;#10;          p_place1  IN NUMBER,p_place2  IN NUMBER,&amp;#10;          p_count OUT NUMBER)               &amp;#10;IS&amp;#10;  rec    wt_readings%ROWTYPE;&amp;#10;  CURSOR curr_rec_cursor IS&amp;#10;         SELECT *&amp;#10;         FROM   wt_readings&amp;#10;         where  water_id = :query.water_id&amp;#10;         ORDER BY fiscal_year desc, period_num desc,reading_date desc;&amp;#10;BEGIN&amp;#10;  p_count := 0;&amp;#10;  OPEN curr_rec_cursor;&amp;#10;  LOOP&amp;#10;  FETCH curr_rec_cursor INTO rec;&amp;#10;       p_count := p_count + 1;&amp;#10;       EXIT WHEN  rec.fiscal_year = p_place1 AND rec.period_num=p_place2;&amp;#10;      &amp;#10;  END LOOP; &amp;#10;  &amp;#10;   &amp;#10;    &amp;#10;    CLOSE curr_rec_cursor;&amp;#10;End;&amp;#10;&amp;#10;PROCEDURE get_gauge_details  IS --Hodaya added 12/15&amp;#10;bk_data WT_KARAM_PKG.ALERTSFORMETER;&amp;#10;p_reading number;&amp;#10;p_date  varchar2(300);&amp;#10;p_reading_date DATE:=sysdate;&amp;#10;p_comments varchar2(1000);&amp;#10;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9; select g.karam_type,decode(g.karam_type,null,'רגיל','קר&quot;מ')gauge_desc,&amp;#10;                install_date,--diameter, &amp;#10;                get_desc_query_pkg.get_code_desc_query(4486,g.diameter) new_diameter_desc&amp;#10;                ,get_desc_query_pkg.get_value_desc(4000,g.karam_type) karam_desc,&amp;#10;                 ADD_MONTHS(g.first_install_date, gm.monthes_for_disassemble) change_date&amp;#10;    into :QUERY.KARAM_TYPE,&amp;#10;            :QUERY.GAUGE_DESC,&amp;#10;            :QUERY.install_date,&amp;#10;            :QUERY.GAUGE_DIAMETER,&amp;#10;            :QUERY.KARAM_TYPE_DESC,&amp;#10;            :QUERY.CHANGE_DATE&amp;#10;    from wt_net n, wt_gauges g,Wt_Gauge_Maintenance gm&amp;#10;    where g.water_id=n.water_id&amp;#10;    and n.water_id= :QUERY.water_id&amp;#10;    and g.gauge_seq= :wt_readings_blk.gauge_seq&amp;#10;    and g.gauge_letter_code = gm.gauge_letter_code&amp;#10;    and g.diameter = gm.diameter&amp;#10;    and gm.stamp_action &lt;> 'D';&amp;#10; &amp;#10; &#x9;if :QUERY.GAUGE_DESC&lt;>'קר&quot;מ' then &amp;#10;&amp;#10;&#x9; set_item_property('QUERY.ITEM532',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;else&amp;#10;      set_item_property('QUERY.ITEM532',VISIBLE,PROPERTY_true);&amp;#10;       P_SET_ITEM_PROPERTY('QUERY.ITEM532',enabled,PROPERTY_true);--brchi&amp;#10;&#x9;end if;&amp;#10; &#x9;&amp;#10;    if :QUERY.GAUGE_DESC='קר&quot;מ' then &amp;#10;SET_ITEM_INSTANCE_PROPERTY('QUERY.GAUGE_DESC',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VISUAL_KARAM');&amp;#10;&amp;#10;--add reading תשאול קרמ של היום&amp;#10;P_SET_ITEM_PROPERTY('QUERY.READING_KARAM_ONLINE',VISIBLE,PROPERTY_TRUE);&amp;#10;  begin&amp;#10;wt_karam_pkg.call_ws_onlineread(:QUERY.WATER_ID,p_reading, p_date, bk_data, p_comments, p_reading_date);&amp;#10;:QUERY.READING_KARAM_ONLINE:=(to_char(p_reading,'FM999,999,990.00MI')||' נכון ל- '||p_date);&amp;#10;&amp;#10;  exception when others then &amp;#10;&#x9;:QUERY.READING_KARAM_ONLINE:=(to_char(p_reading,'FM999,999,990.00MI')||' נכון ל- '||p_date);&amp;#10;&#x9;end;&amp;#10;    else&amp;#10;    &#x9;P_SET_ITEM_PROPERTY('QUERY.READING_KARAM_ONLINE',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;  SET_ITEM_INSTANCE_PROPERTY('QUERY.GAUGE_DESC',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VA_DISPLAY_ITEM');    &#x9;&amp;#10;end if;&#x9;&amp;#10;exception&amp;#10;&#x9;when others then&amp;#10;&#x9;&#x9;&#x9;:QUERY.KARAM_TYPE:=null;&amp;#10;&#x9;&#x9;&#x9;:QUERY.GAUGE_DESC:=null;&amp;#10;&#x9;&#x9;&#x9;:QUERY.install_date:=null;&amp;#10;&#x9;&#x9;&#x9;:QUERY.GAUGE_DIAMETER:=null;&amp;#10;END;&amp;#10;&amp;#10;&amp;#10;&#x9;&amp;#10;END;"/>
      <ProgramUnit Name="FORM_FIRST_TIME" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE form_first_time IS&amp;#10;&#x9;v_value VARCHAR2(200);&amp;#10;&#x9;v_login_karam_citymind varchar2(1);&amp;#10;BEGIN&amp;#10;&#x9;:TITLE.ENTERANCE_MODE := null;&amp;#10;&#x9;READ_IMAGE_FILE(:global.GLOBAL_IMAGES_PATH||'tag.gif','GIF','QUERY.tag');&amp;#10;&amp;#10; IF sr_code_values_pkg.GET_varchar_VALUE('using_online_reading') ='N' THEN  &amp;#10;    P_SET_ITEM_PROPERTY('query.KARAM',enabled,PROPERTY_FALSE);&amp;#10; ELSE&amp;#10;   &#x9;P_SET_ITEM_PROPERTY('query.KARAM',VISIBLE,PROPERTY_TRUE);&amp;#10; end if;&amp;#10; P_SET_ITEM_PROPERTY('CONTROL.BTN_PRINT_IMAGE',enabled,property_false);&amp;#10; --P_SET_ITEM_PROPERTY('CONTROL.BTN_IMAGE',enabled,property_false);&amp;#10;&amp;#10; DEFAULT_VALUE(NULL,'GLOBAL.water_id');&amp;#10; DEFAULT_VALUE(NULL,'GLOBAL.search_water_id');&amp;#10; DEFAULT_VALUE(NULL,'global.period_num');&amp;#10; DEFAULT_VALUE(NULL,'global.fiscal_year');&amp;#10;&amp;#10; IF :GLOBAL.water_id IS NOT NULL THEN&amp;#10;   :query.water_id := :GLOBAL.water_id; &amp;#10; ELSIF :GLOBAL.search_water_id IS NOT NULL THEN&amp;#10;   :query.water_id := :GLOBAL.search_water_id;   &amp;#10; &#x9;&amp;#10; &#x9;select 'N'&amp;#10;&#x9;into v_login_karam_citymind&amp;#10;&#x9;from sr_code_values;&amp;#10;&amp;#10;&#x9;if v_login_karam_citymind ='Y' then&amp;#10;&#x9;&#x9;p_SET_ITEM_PROPERTY('control.KARAM_CITYMIND_BTN',enabled,PROPERTY_TRUE);&amp;#10;&#x9;elsif v_login_karam_citymind = null or &amp;#10;&#x9;&#x9;v_login_karam_citymind = 'N'then&amp;#10;&#x9;  p_SET_ITEM_PROPERTY('control.KARAM_CITYMIND_BTN',enabled,PROPERTY_FALSE);&amp;#10;&#x9;end if;&amp;#10; &amp;#10; &amp;#10; ELSIF :global.OBJ_ID IS NOT NULL THEN&amp;#10; BEGIN&amp;#10; &#x9;  SELECT water_id &amp;#10;    INTO   :query.water_id&amp;#10;    FROM   wt_net &amp;#10;    WHERE  obj_id = :global.obj_id&amp;#10;    and water_id_end is null;&amp;#10;            &#x9; &amp;#10; EXCEPTION&amp;#10;    WHEN NO_DATA_FOUND THEN&amp;#10;         null;&amp;#10;    WHEN TOO_MANY_ROWS THEN&amp;#10;         null;        &amp;#10; END;&amp;#10;&amp;#10; END IF;&amp;#10; &amp;#10;:GLOBAL.water_id:=:query.water_id;&amp;#10;&amp;#10;:QUERY.READING_READY_YN_RB :='A';--Miri 27/02/18&amp;#10; --&amp;#10;   :TITLE.ENTERANCE_MODE := NULL;&amp;#10;   :parameter.install_first_time := 'YES';&amp;#10;  /* הכפתור בוטל בשדרוג&amp;#10;   buttons_pkg.enabled_true_false('control.reading',0,&amp;#10;                                  NULL,NULL, NULL,NULL,&amp;#10;                                  NULL,NULL, NULL,NULL,&amp;#10;                                  NULL,NULL);*/&amp;#10;&amp;#10;--END;&amp;#10;BEGIN&#x9;&#x9;--hodaya 03/2013 brachi add the exception&amp;#10;&#x9;select CODE_VALUE &amp;#10;&#x9;into v_value&amp;#10;&#x9;from SR_CODE_VALUES&amp;#10;&#x9;where CODE_NAME like ('WT_LOGIT_ONLINE_YN');&amp;#10;exception&amp;#10;&#x9;&#x9;when others then&amp;#10;&#x9;--&#x9;message(sqlerrm||'333'); message(sqlerrm||'333');--2602&amp;#10;&#x9;&#x9;   null;&amp;#10;end;&amp;#10;--message(sqlerrm||'333'); message(sqlerrm||'333');--2602&amp;#10;&#x9;:PARAMETER.P_VALUE:=v_value;&amp;#10;&#x9;IF  v_value='Y' THEN&amp;#10;&#x9;--&#x9;P_SET_ITEM_PROPERTY('control.LOGIT',position,11.75,13.1);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('control.LOGIT',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('QUERY.NEW_WATER_ID',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('control.LOGIT',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;P_SET_ITEM_PROPERTY('QUERY.NEW_WATER_ID',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;   IF sr_code_values_pkg.GET_varchar_VALUE('USING_WORK_COMMANDS') = 'N' THEN   &amp;#10;      &#x9;P_SET_ITEM_PROPERTY('WT_WORK_COMMAND_BLK.WORK_COMMANDS785',VISIBLE,PROPERTY_FALSE);&amp;#10;   ELSE&amp;#10;&#x9;    &#x9;P_SET_ITEM_PROPERTY('WT_WORK_COMMAND_BLK.WORK_COMMANDS785',VISIBLE,PROPERTY_TRUE);&amp;#10;   END IF;&amp;#10;   &amp;#10;    :PARAMETER.P_UPDATE_NEXT_READING:= sr_code_values_pkg.get_varchar_value('wt_update_next_reading_always');&amp;#10;  &#x9;&amp;#10;  &#x9;if :parameter.p_url_water_id is not null then&amp;#10;   &#x9;  :query.water_id := :parameter.p_url_water_id;&amp;#10;   &#x9;end if;&amp;#10; &#x9;&#x9;go_item('QUERY.QUERY_BUTTON');&amp;#10; &#x9;&#x9;execute_trigger('WHEN-BUTTON-PRESSED');&amp;#10;&amp;#10; &#x9;&#x9;&amp;#10; END;"/>
      <ProgramUnit Name="WT_READINGS_UPD_PKG" ProgramUnitType="Package Spec" ProgramUnitText="PACKAGE wt_readings_upd_pkg IS&amp;#10;--&amp;#10;  PROCEDURE open_win;&amp;#10;--&amp;#10;  PROCEDURE close_win; &amp;#10;--&amp;#10;  FUNCTION check_all_items_null&amp;#10;           RETURN BOOLEAN;&amp;#10;--&amp;#10;  FUNCTION check_items_null&amp;#10;           RETURN BOOLEAN;&amp;#10;--&amp;#10;  PROCEDURE num_curr_rec(&amp;#10;            p_place_gauge  IN NUMBER,&amp;#10;            p_place_date   IN DATE,&amp;#10;            p_count       OUT NUMBER);&amp;#10;--&amp;#10;  PROCEDURE save_rec;&amp;#10;--&amp;#10;&amp;#10;PROCEDURE UPDATE_GAUGE_STATUS (v_water_id      IN VARCHAR2,&amp;#10;                               v_gauge_seq    IN NUMBER,                  &amp;#10;                               v_fiscal_year   IN NUMBER,&amp;#10;                               v_period_num    IN NUMBER,&amp;#10;                               v_status_code IN NUMBER);&amp;#10;                               -- v_ESTIMATED_CODE in number);&amp;#10;                               &amp;#10;procedure get_retro_yn&amp;#10;          ;--brachi add&amp;#10;                               &amp;#10;END;"/>
      <ProgramUnit Name="WT_READINGS_UPD_PKG" ProgramUnitType="Package Body" ProgramUnitText="PACKAGE BODY wt_readings_upd_pkg IS&amp;#10;  v_alert  NUMBER;&amp;#10;/* ===================================================================&amp;#10;  Date        :    27/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    open_win&amp;#10;  Description :    The procedure open insert's and update's window  &amp;#10;  Parameters  :    no parameters&amp;#10; =======================================================================*/&amp;#10;PROCEDURE open_win&amp;#10;IS&amp;#10;   v_where   VARCHAR2(300) := '1=1';&amp;#10;BEGIN&amp;#10;   :PARAMETER.CURR_REC := GET_BLOCK_PROPERTY('wt_readings_blk',CURRENT_RECORD);&amp;#10;/*   IF :parameter.prev_butt = 'insert' THEN&amp;#10;      SET_WINDOW_PROPERTY('wt_readings_upd_win',TITLE, 'קריאיות: הוספה'); &amp;#10;      GO_BLOCK('wt_readings_upd_blk');&amp;#10;      CLEAR_BLOCK;&amp;#10;   ELSIF :parameter.prev_butt = 'update' THEN&amp;#10;      IF :wt_readings_blk.gauge_id IS NOT NULL THEN&amp;#10;         SET_WINDOW_PROPERTY('wt_readings_upd_win',TITLE,'קריאיות: תיקון');&amp;#10;*/&amp;#10;       --------------------------------------------------------------------------------------&amp;#10;       &amp;#10;       -----------------------------------------------------------------------------------------&amp;#10;         GO_BLOCK('wt_readings_upd_blk');&amp;#10;         CLEAR_BLOCK;&amp;#10;--      END IF;       &amp;#10;--   END IF;&amp;#10;END;&amp;#10; /* ===================================================================&amp;#10;  Date        :    27/6/1998&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    close_win&amp;#10;  Description :    The procedure close insert's and update's window  &amp;#10;  Parameters  :    no parameters&amp;#10; =======================================================================*/&amp;#10;PROCEDURE close_win &amp;#10;IS&amp;#10;BEGIN&amp;#10;   HIDE_WINDOW('wt_readings_upd_win');&amp;#10;--   SET_RECORD_PROPERTY(1,'wt_readings_upd_blk', STATUS, QUERY_STATUS);&amp;#10;   GO_BLOCK('wt_readings_blk');&amp;#10;   EXIT_MSG_FOR_GRANt; &amp;#10;END;&amp;#10;/* ===================================================================&amp;#10;  Date        :    27/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    check_all_items_null&amp;#10;  Description :    The function check all items&amp;#10;                       if them not null in insert's and update_window  &amp;#10;  Parameters  :    no parameters&amp;#10; =======================================================================*/&amp;#10;FUNCTION check_all_items_null&amp;#10;         RETURN BOOLEAN&amp;#10;IS&amp;#10;  v_ret   BOOLEAN;&amp;#10;BEGIN&amp;#10;   IF-- :wt_readings_upd_blk.reading_date_display IS NULL AND&amp;#10;      :wt_readings_upd_blk.update_type  IS NULL AND&amp;#10;      :wt_readings_upd_blk.qty_display  IS NULL THEN&amp;#10;      v_ret := FALSE;&amp;#10;   ELSE&amp;#10;      v_ret := TRUE;&amp;#10;   END IF; &amp;#10;      RETURN(v_ret);&amp;#10;END;&amp;#10;/* ===================================================================&amp;#10;  Date        :    27/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    check_items_null&amp;#10;  Description :    The function check items(that must be not null)&amp;#10;                       if them not null in insert's and update_window  &amp;#10;  Parameters  :    no parameters&amp;#10; =======================================================================*/&amp;#10;FUNCTION check_items_null&amp;#10;         RETURN BOOLEAN&amp;#10;IS&amp;#10;  v_item   BOOLEAN := TRUE;&amp;#10;BEGIN&amp;#10;   IF :wt_readings_upd_blk.reading_date_display IS NULL THEN&amp;#10;      SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;      v_alert := DISPLAY_COMMENT('APP',151,NULL,'תאריך',NULL,NULL);&amp;#10;      GO_ITEM('wt_readings_upd_blk.reading_date_display');&amp;#10;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;   ELSIF :wt_readings_upd_blk.update_type IS NULL THEN&amp;#10;      SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;      v_alert := DISPLAY_COMMENT('APP',151,NULL,'סוג תיקון',NULL,NULL);&amp;#10;      GO_ITEM('wt_readings_upd_blk.update_type');&amp;#10;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;   ELSIF :wt_readings_upd_blk.qty_display IS NULL THEN&amp;#10;      SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;      v_alert := DISPLAY_COMMENT('APP',151,NULL,'כמות תיקון',NULL,NULL);&amp;#10;      GO_ITEM('wt_readings_upd_blk.qty_display');&amp;#10;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;   ELSE&amp;#10;      RETURN(v_item);&amp;#10;   END IF; &amp;#10;END;&amp;#10;/* ===================================================================&amp;#10;  Date        :    27/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    num_curr_rec&amp;#10;  Description :    The procedure giving number of new current record&amp;#10;                                 in  block (that inserting qust now)&amp;#10;  Parameters  :    Name        Order  Type  DataType  Description&amp;#10;                   ----------- -----  ----  --------  -----------&amp;#10;                   p_place         1    IN    NUMBER   &amp;#10;                   p_count         2   OUT    NUMBER&amp;#10; =======================================================================*/&amp;#10;PROCEDURE num_curr_rec(&amp;#10;          p_place_gauge  IN NUMBER,&amp;#10;          p_place_date   IN DATE,&amp;#10;          p_count       OUT NUMBER)               &amp;#10;IS&amp;#10;  rec    wt_readings%ROWTYPE;&amp;#10;  CURSOR curr_rec_cursor IS&amp;#10;         SELECT *&amp;#10;         FROM   wt_readings&amp;#10;         ORDER BY gauge_seq, reading_date desc;&amp;#10;BEGIN&amp;#10;  p_count := 0;&amp;#10;  OPEN curr_rec_cursor;&amp;#10;  LOOP&amp;#10;  FETCH curr_rec_cursor INTO rec;&amp;#10;       p_count := p_count + 1;&amp;#10;       EXIT WHEN  rec.gauge_seq    = p_place_gauge&amp;#10;              AND rec.reading_date = p_place_date;&amp;#10;  END LOOP;   &amp;#10;  CLOSE curr_rec_cursor;&amp;#10;END num_curr_rec;&amp;#10; /* ===================================================================&amp;#10;  Date        :    27/6/1999&amp;#10;  Programmer  :    Liza Raskin&amp;#10;  Name        :    save_rec&amp;#10;  Description :    The procedure execute SAVE and EXIT from insert's &amp;#10;                               and update_window  &amp;#10;  Parameters  :    no parameters&amp;#10; =======================================================================*/&amp;#10;PROCEDURE save_rec&amp;#10;IS&amp;#10;  v_place_gauge NUMBER;&amp;#10;  v_place_date  DATE;&amp;#10;  v_count       NUMBER;&amp;#10;BEGIN&amp;#10;   IF check_items_null = TRUE THEN &amp;#10;      IF :wt_readings_upd_blk.update_type = 'MINUS' THEN&amp;#10;         :wt_readings_upd_blk.qty := '-'||:wt_readings_upd_blk.qty_display; &amp;#10;      ELSIF :wt_readings_upd_blk.update_type = 'PLUS' THEN&amp;#10;         :wt_readings_upd_blk.qty := :wt_readings_upd_blk.qty_display; &amp;#10;      END IF;&amp;#10;SELECT wt_reading_seq.nextval&amp;#10;INTO   :wt_readings_upd_blk.reading_seq&amp;#10;FROM   dual;&amp;#10;:wt_readings_upd_blk.water_id := :wt_readings_upd_blk.water_id_display;&amp;#10;:wt_readings_upd_blk.gauge_seq := :wt_readings_blk.gauge_seq;&amp;#10;:wt_readings_upd_blk.reading_type := :global.CORRECTION_READING; --קריאת תיקון&amp;#10;      COMMIT_FORM;    &amp;#10;/*         v_place_gauge := :wt_readings_upd_blk.gauge_seq;&amp;#10;         v_place_date  := :wt_readings_upd_blk.reading_date;&amp;#10;         num_curr_rec(v_place_gauge, v_place_date, v_count);&amp;#10;         :parameter.curr_rec := v_count;&amp;#10;/*      IF :parameter.prev_butt = 'insert' THEN&amp;#10;         p_place := :wt_readings_upd_blk.gauge_seq;&amp;#10;         num_curr_rec(p_place, p_count);&amp;#10;         :parameter.curr_rec := p_count;&amp;#10;      END IF;&amp;#10;*/&amp;#10;      close_win;&amp;#10;      EXECUTE_QUERY;&amp;#10;   END IF; &amp;#10;END;&amp;#10;--&amp;#10;&amp;#10;PROCEDURE UPDATE_GAUGE_STATUS (v_water_id      IN VARCHAR2,&amp;#10;                               v_gauge_seq    IN NUMBER,                  &amp;#10;                               v_fiscal_year   IN NUMBER,&amp;#10;                               v_period_num    IN NUMBER,&amp;#10;                               v_status_code IN NUMBER)&amp;#10;                             --v_ESTIMATED_CODE in number)&amp;#10;                               &amp;#10;/* ===================================================================&amp;#10;  Date        :    01/07/2006&amp;#10;  Programmer  :    Elisheva_ Kaner&amp;#10;  Name        :    UPDATE_GAUGE_STATUS&amp;#10;  Description :    עדכון מצב מד בטבלת מדים על פי עדכון הקריאה  &amp;#10; =======================================================================*/                              &amp;#10;IS&amp;#10;  v_readings NUMBER;&amp;#10;  v_old_status NUMBER;&amp;#10;  v_sysdate    DATE :=general_pkg.get_sysdate;&amp;#10;BEGIN&amp;#10;&#x9; /* האם יש קריאה מתקופה מאוחרת יותר */&amp;#10;&#x9; select count(1)   &amp;#10;&#x9; into   v_readings                          &amp;#10;&#x9; from   WT_READINGS&amp;#10;&#x9; where  FISCAL_YEAR||LPAD(PERIOD_NUM, 2, '0') > v_fiscal_year || LPAD(v_period_num, 2, '0')&amp;#10;&#x9;   and  WATER_ID = v_water_id;&amp;#10;&#x9; /* אם אין קריאה מתקופה מאוחרת יותר, צריך לעדכן מצב מד */&amp;#10;&#x9; IF v_readings = 0 THEN&amp;#10;&#x9; &#x9;  /*   האם מצב מד השתנה */&amp;#10;&#x9; &#x9;  select nvl(GAUGE_STATUS_CODE, 0)&amp;#10;&#x9; &#x9;  into   v_old_status&amp;#10;&#x9; &#x9;  from   WT_GAUGES&amp;#10;&#x9; &#x9;  where  WATER_ID = v_water_id&amp;#10;&#x9; &#x9;    and  GAUGE_SEQ = v_gauge_seq;&amp;#10;&#x9; &#x9;  IF v_old_status!=nvl(v_status_code, 0) THEN  &amp;#10;&#x9; &#x9;       begin&amp;#10;&#x9; &#x9;   UPDATE WT_GAUGES&amp;#10;&#x9; &#x9;     set    GAUGE_STATUS_CODE = v_status_code,&amp;#10;&#x9; &#x9;            STAMP_ACTION='U',&amp;#10;&#x9; &#x9;            STAMP_DATE =v_sysdate,&amp;#10;&#x9; &#x9;            STAMP_USER = :global.user_name&amp;#10;&#x9; &#x9;     where  WATER_ID = v_water_id&amp;#10;&#x9; &#x9;       and  GAUGE_SEQ = v_gauge_seq; &amp;#10;&#x9; &#x9;    &amp;#10;&#x9; &#x9;       exception when others then&amp;#10;&#x9; &#x9;       &#x9;null;&amp;#10;&#x9; &#x9;  --&#x9;message('sqlerm'||sqlerrm);pause; &amp;#10;&#x9; &#x9;  end;&amp;#10;&#x9; &#x9;     &amp;#10;&#x9; &#x9;  END IF;&#x9; &#x9;  &amp;#10;&#x9; END IF;&#x9; &amp;#10;EXCEPTION&amp;#10;   when NO_DATA_FOUND then&amp;#10;        NULL;&#x9; &#x9; &amp;#10;END;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;&amp;#10;/* ==============================================================&amp;#10;  Date        :    092014&amp;#10;  Programmer  :    brachi fraiman&amp;#10;  Name        :    get_retro_yn&amp;#10; ================================================================*/&amp;#10;procedure get_retro_yn&amp;#10;           &amp;#10;IS&amp;#10;  v_item   BOOLEAN := TRUE;&amp;#10;  p_fiscal_year number:=:wt_readings_blk.fiscal_year;&amp;#10;  p_period_num number:=:wt_readings_blk.period_num;&amp;#10;  v_open_fiscal_year number;&amp;#10;  v_open_period_num number;&amp;#10;  v_status varchar(10);&amp;#10;  to_period number;&amp;#10;  to_year number;&amp;#10;begin&amp;#10;&#x9;&amp;#10;&#x9;wt_run_retro_pkg.GET_YEAR_PERIOD (:global.obj_subj_code,&amp;#10;                                       :global.water_serv_code,&amp;#10;                                       :wt_readings_blk.water_id ,&amp;#10;                                       v_open_fiscal_year,&amp;#10;                                   v_open_period_num,&amp;#10;                                   v_status);&amp;#10;begin&amp;#10;&#x9;select fiscal_year,period_num &amp;#10;&#x9;into to_year,to_period from(&amp;#10;select fiscal_year,period_num&amp;#10; from  wt_readings&amp;#10; where water_id=:wt_readings_blk.water_id&amp;#10;    and  to_number(fiscal_year||period_num) > to_number(:wt_readings_blk.fiscal_year||:wt_readings_blk.period_num)&amp;#10;    and  to_number(fiscal_year||period_num) &lt; to_number(v_open_fiscal_year||v_open_period_num)--tzvia add 09/2015&amp;#10;    order by reading_date)where rownum=1;&amp;#10;exception when no_data_found then&amp;#10;&#x9;to_period:=:wt_readings_blk.period_num;&amp;#10;&#x9;to_year:=:wt_readings_blk.fiscal_year;&amp;#10;&#x9;when others then&amp;#10;&#x9;message(sqlerrm);message(sqlerrm);&amp;#10;&#x9;&amp;#10;end;&amp;#10;/*if :WT_GAUGES_UPD_BLK.INSTALL_DATE &lt;sysdate then&amp;#10;WT_YEAR_PERIOD_PKG.GET_PERIOD_BY_DATE(:WT_GAUGES_UPD_BLK.water_id,:WT_GAUGES_UPD_BLK.INSTALL_DATE,1,0,p_fiscal_year,p_period_num) ;*/&amp;#10;&amp;#10;&amp;#10;IF &amp;#10; &#x9; to_number(p_fiscal_year||p_period_num) &lt; to_number(v_open_fiscal_year||v_open_period_num) /*or to_number(v_open_fiscal_year||v_open_period_num )is null*/ &amp;#10; &#x9; and to_number(to_year||to_period) &lt; to_number(v_open_fiscal_year||v_open_period_num)--tzvia add 09/2015&amp;#10; &#x9; THEN&amp;#10; &#x9; v_alert := DISPLAY_COMMENT('APP',50848,NULL,NULL,NULL,NULL);       &amp;#10;   IF (v_alert = ALERT_BUTTON1) THEN &amp;#10;   -- call_form('WT_RETRO_VER2');&amp;#10;      -- insert_debug(p_period_num||'1'||to_period||'2 '||p_fiscal_year||' -'||to_year);&amp;#10;     &#x9;&amp;#10;       CALL_retro_form(p_period_num,&amp;#10;                        to_period,&amp;#10;                        p_fiscal_year,&amp;#10;                        to_year);&amp;#10;                        &amp;#10;                       -- insert_debug(p_period_num||'- '||to_period||'- '||p_fiscal_year||' -'||to_year);&amp;#10;    &amp;#10;   else &amp;#10;   null;&amp;#10;   &#x9;&amp;#10;   end if;&amp;#10;   else&amp;#10;   null;--&#x9;return v_item;&amp;#10;   end if;&amp;#10;  -- end if;&amp;#10;&amp;#10;end;&amp;#10;&amp;#10;END;"/>
      <ProgramUnit Name="CALL_ANOTHER_FORM" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE call_another_form IS&amp;#10;  plParamList   PARAMLIST;&#x9;&#x9;                      /* parameter list for the form  */&amp;#10;  plListName    VARCHAR2(16);&#x9;                            /* name of the parameter list&#x9;*/&amp;#10;  bParameters   BOOLEAN := TRUE;&#x9;                      /* indicate a valid parameter   */&amp;#10;  cForm         VARCHAR2(30);             /* name of the CALENDAR FORM&#x9;*/    &amp;#10;  v_water_id    VARCHAR2(12):= :query.water_id;       /* calling item IMAGE_NUM       */&amp;#10;BEGIN&amp;#10;   IF :parameter.call_form = 'wt_gauges' THEN&amp;#10;      cForm := 'wt_gauges';&amp;#10;   ELSIF :parameter.call_form = 'wt_net' THEN&amp;#10;      cForm := 'wt_net';&amp;#10;   END IF;&amp;#10;    -- create a parameter list ...&amp;#10;    plListName  := 'PL_WATER';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    if not ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    end if;&amp;#10;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    if ID_NULL(plParamList) then&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;    else&amp;#10;       ADD_PARAMETER(plParamList, 'WATER_ID',TEXT_PARAMETER, v_water_id);    &amp;#10;       ADD_PARAMETER(plParamList, 'prev_form', TEXT_PARAMETER, 'wt_readings');    &amp;#10;    end if;&amp;#10;&amp;#10;    IF bParameters THEN&amp;#10;       -- invoke the image viewer with or without the PARAMETERS ...&amp;#10;       NEW_FORM(cForm, TO_SAVEPOINT, NO_QUERY_ONLY, plParamList );&amp;#10;    ELSE&amp;#10;       NEW_FORM(cForm, TO_SAVEPOINT);&amp;#10;    END IF;&amp;#10;END;"/>
      <ProgramUnit Name="GET_WATER_ID" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE GET_WATER_ID IS&amp;#10;BEGIN&amp;#10;  IF :wt_readings_blk.water_id IS NOT NULL THEN&amp;#10;       :GLOBAL.water_id := :wt_readings_blk.water_id;&amp;#10;  ELSIF :query.water_id IS NOT NULL THEN&amp;#10;       :GLOBAL.water_id := :query.water_id;&amp;#10;  ELSE&amp;#10;       :global.water_id := NULL;&amp;#10;  END IF;&amp;#10;&amp;#10;END;"/>
      <ProgramUnit Name="SET_GLOBAL_WATER_ID" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE set_global_water_id IS&amp;#10; begin    &amp;#10;  IF :query.water_id IS NOT NULL THEN&amp;#10;     :GLOBAL.water_id := :query.water_id;&amp;#10;  ELSE&amp;#10;       :global.water_id := NULL;&amp;#10;  END IF;&amp;#10;  &amp;#10;  IF :query.obj_id IS NOT NULL THEN&amp;#10;      :global.obj_id    := :query.obj_id;&amp;#10;      :global.client_id := :query.client_id;&amp;#10;      :global.public_client_id := :query.client_id;&amp;#10;   &amp;#10;   ELSE &amp;#10;      :global.obj_id    := NULL;&amp;#10;      :global.client_id := NULL;&amp;#10;      :global.public_obj_id    := NULL;&amp;#10;      :global.public_client_id := NULL;&amp;#10;   END IF;&amp;#10;   &amp;#10; END; &amp;#10;"/>
      <ProgramUnit Name="GET_NEXT_WATER_ID" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE get_next_water_id(v_in_water_id  IN     VARCHAR2,&amp;#10;                            v_out_water_id IN OUT  VARCHAR2) &amp;#10;IS&amp;#10;BEGIN&amp;#10;&amp;#10;    SELECT water_id &amp;#10;    INTO v_out_water_id&amp;#10;    FROM wt_net&amp;#10;    WHERE water_id = (SELECT MIN(TO_NUMBER(water_id))&amp;#10;                      FROM wt_net&amp;#10;                      WHERE TO_NUMBER(water_id) > v_in_water_id);&amp;#10;                      &#x9;populate_pkg.get_water_details;&amp;#10;&amp;#10;EXCEPTION&amp;#10;    WHEN NO_DATA_FOUND THEN&amp;#10;      NULL;&amp;#10;    WHEN OTHERS THEN&amp;#10;      NULL;&amp;#10;END;  &amp;#10;"/>
      <ProgramUnit Name="GET_PREV_WATER_ID" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE get_prev_water_id (v_in_water_id  IN      VARCHAR2,&amp;#10;                             v_out_water_id IN OUT  VARCHAR2) &amp;#10;IS&amp;#10;BEGIN&amp;#10;&amp;#10;    SELECT water_id &amp;#10;    INTO v_out_water_id&amp;#10;    FROM wt_net&amp;#10;    WHERE water_id = (SELECT MAX(TO_NUMBER(water_id))&amp;#10;                      FROM wt_net&amp;#10;                      WHERE TO_NUMBER(water_id) &lt; v_in_water_id);&amp;#10;&#x9;populate_pkg.get_water_details;&amp;#10;&#x9;populate_pkg.get_debit_details;&amp;#10;&#x9;populate_pkg.clients(v_out_water_id,:query.client_id,:query.client_type,:query.client_name);&amp;#10;                      &amp;#10;EXCEPTION&amp;#10;    WHEN NO_DATA_FOUND THEN&amp;#10;      NULL;&amp;#10;    WHEN OTHERS THEN&amp;#10;      NULL;&amp;#10;END;  &amp;#10;"/>
      <ProgramUnit Name="CALL_PRINT_WORK_ORDER" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE CALL_PRINT_WORK_ORDER IS&amp;#10;  plParamList   PARAMLIST;&#x9;&#x9;                      /* parameter list for the form  */&amp;#10;  plListName    VARCHAR2(16);&#x9;                            /* name of the parameter list&#x9;*/&amp;#10;  bParameters&#x9;BOOLEAN := TRUE;&#x9;                      /* indicate a valid parameter   */&amp;#10;  cForm         VARCHAR2(30) := 'WT_PRINT_WORK_ORDER';             /* name of the CALENDAR FORM&#x9;*/    &amp;#10;BEGIN&amp;#10;    -- create a parameter list ...&amp;#10;    plListName  := 'PL_WORK_ORDER';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    if not ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    end if;&amp;#10;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    if ID_NULL(plParamList) then&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;    else&amp;#10;       ADD_PARAMETER(plParamList, 'P_READING_SEQ',TEXT_PARAMETER,:WT_READINGS_BLK.reading_seq);&amp;#10;       ADD_PARAMETER(plParamList, 'P_WATER_ID',TEXT_PARAMETER,nvl(:WT_READINGS_BLK.water_id,:query.water_id));          &amp;#10;       ADD_PARAMETER(plParamList, 'P_GAUGE_SEQ',TEXT_PARAMETER,:WT_READINGS_BLK.gauge_seq);          &amp;#10;       ADD_PARAMETER(plParamList, 'P_GAUGE_ID',TEXT_PARAMETER,:WT_READINGS_BLK.gauge_id);          &amp;#10;    if :query.obj_id is not null then&amp;#10;       ADD_PARAMETER(plParamList, 'P_OBJ_ID',TEXT_PARAMETER,:QUERY.obj_id);          &amp;#10;    end if;&#x9;       &amp;#10;end if;&amp;#10;    IF bParameters THEN&amp;#10;       -- invoke the image viewer with or without the PARAMETERS ...&amp;#10;       CALL_FORM(cForm, NO_HIDE, NO_REPLACE, QUERY_ONLY, plParamList );&amp;#10;    END IF;&amp;#10;END;"/>
      <ProgramUnit Name="EXIT_MSG_FOR_GRANT" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE EXIT_MSG_FOR_GRANT IS&amp;#10;  v_msg varchar2(200);&amp;#10;  v_alert number;&amp;#10;BEGIN&amp;#10;&amp;#10;    -- qty&amp;#10;  RM_GRANT_UPDATE_1_PKG.Grant_Update_Msg(22,--grant type code for field&amp;#10;                                         '-'||:WT_READINGS_UPD_BLK.READING_SEQ||'-',&amp;#10;                                              :WT_READINGS_UPD_BLK.qty,&amp;#10;                                              v_msg); &amp;#10;if v_msg is not null then   &amp;#10;   SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;   v_alert := DISPLAY_COMMENT('APP',to_number(v_msg),NULL,NULL,NULL,NULL);&amp;#10;end if;&amp;#10;&amp;#10;EXCEPTION&amp;#10;    when others then&amp;#10;      NULL;&amp;#10;  &amp;#10;      null;&amp;#10;END;"/>
      <ProgramUnit Name="F_LOGIT" ProgramUnitType="Function" ProgramUnitText="FUNCTION F_LOGIT &amp;#10;RETURN NUMBER &amp;#10;IS&amp;#10;  v_log_text     VARCHAr2(3000):=null;&amp;#10;  v_log_text_parent     VARCHAr2(3000);&amp;#10;  v_alert        NUMBER;&amp;#10;  v_run_status   NUMBER;  &amp;#10;  v_trace        NUMBER;&amp;#10;  j number;&amp;#10;  &amp;#10;  v_next_year    NUMBER;&amp;#10;  v_next_period  NUMBER;&amp;#10;  v_next_seq     NUMBER;&amp;#10;  v_next_log_seq NUMBER;&amp;#10;  &amp;#10;  v_year    NUMBER;&amp;#10;  v_period  NUMBER;&amp;#10;  v_seq     NUMBER;&amp;#10;  v_log_seq NUMBER;&amp;#10;  v_qty     number;&amp;#10;  l_pARENT_WATER_ID varchar2(20);&amp;#10;  L_ROOT_WATER_ID varchar2(20);&amp;#10;  V_WATER_ID VARCHAR2(30);&amp;#10;BEGIN&amp;#10;  ---  האם לעדכן קריאה הבאה בערך החדש של הקריאה  --&amp;#10;  &amp;#10;   --tzvia add 07/2015&amp;#10;   --קריאת פרוק תמיד הקריאה הבאה תתחיל מאפס&amp;#10;   if :WT_READINGS_UPD_BLK.reading_type = 3 then&amp;#10;   &#x9;:parameter.p_change_next_reading:='N';&amp;#10;   end if;&amp;#10;   --end tzvia &amp;#10;  v_trace:=1;&amp;#10;  /*brachi change 23062014*/&amp;#10;  wt_year_period_pkg.get_next_period(:wt_readings_upd_blk.fiscal_year, :wt_readings_upd_blk.period_num, :wt_readings_blk.region_code, v_next_year, v_next_period);&amp;#10;   --&#x9;message(':wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&amp;#10;  IF :parameter.p_change_next_reading = 'Y' OR (:wt_readings_upd_blk.reading_date&lt;>:parameter.par_old_date or nvl(:wt_readings_upd_blk.repair_reason_code,0)&lt;>nvl(:parameter.par_old_repair_reason,0) ) and :wt_Readings_upd_blk.reading_Type!=3 THEN&amp;#10;    --tzvia change the condition 07/2015 &amp;#10;    --במצב של קריאת פרוק שלא יכנס לתנאי ולא יעדכן קריאה הבאה    &amp;#10;   --commit_form;&amp;#10;      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9; select reading_seq, fiscal_year, period_num,logit_Seq&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9; into   v_next_seq,  v_next_year, v_next_period, v_next_log_seq&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9; from   WT_READINGS r1&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9; where  water_id = :wt_readings_upd_blk.water_id&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;   and  reading_type!=2&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;   and  reading_Seq!=:wt_readings_upd_blk.reading_seq&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;   and  reading_date>=:wt_readings_upd_blk.reading_date&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;   and  ( (:wt_Readings_upd_blk.reading_Type=1   and r1.fiscal_year >= v_next_year  and r1.period_num>= v_next_period)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;           OR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;           (:wt_Readings_upd_blk.reading_Type!=1 and r1.fiscal_year = :wt_readings_upd_blk.fiscal_year and r1.period_num=:wt_readings_upd_blk.period_num)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;        )&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;   and  reading_date = (select min(reading_date)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                        from   WT_READINGS r2&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                        where  r1.water_id = r2.water_id&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                          and  r2.reading_type!=2&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                          and  r2.reading_Seq!=:wt_readings_upd_blk.reading_seq&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                          and  r2.reading_date>=:wt_readings_upd_blk.reading_date&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                          and  ( (:wt_Readings_upd_blk.reading_Type=1  and r2.fiscal_year >= v_next_year and r2.period_num >= v_next_period)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                               OR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                                 (:wt_Readings_upd_blk.reading_Type!=1 and r2.fiscal_year = :wt_readings_upd_blk.fiscal_year and r2.period_num=r1.period_num)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                               )&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;                       )                               &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      and   rownum=1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;  when NO_DATA_FOUND then&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;       v_next_seq:=0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END;&amp;#10;  ELSE&amp;#10;  &#x9; v_next_seq:=0;&amp;#10;  END IF;&amp;#10;  v_trace:=2;&amp;#10;  /* עדכון קריאה הבאה */&amp;#10;  --IF v_next_seq > 0 THEN &amp;#10;  &#x9;  --&#x9;message(':wt_readings_upd_blk.reading_seq'||:wt_readings_upd_blk.reading_seq); pause;&amp;#10;  &#x9;  &amp;#10;  &#x9;  --chani_h added 05-2018&amp;#10;  &#x9; --במצב שהצריכה הפוכה צריך שהכמות לא תהיה שלילית&amp;#10;  &#x9;   if :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE=:PARAMETER.P_UPDATE_NEG_READING then &amp;#10;    begin&amp;#10;  &#x9;&#x9; IF    NOT(:wt_readings_upd_blk.reading > 9999999&amp;#10;                   OR :wt_readings_upd_blk.reading &lt; -9999999&amp;#10;                   OR :wt_readings_upd_blk.previous_reading > 9999999&amp;#10;                   OR :wt_readings_upd_blk.previous_reading &lt; -9999999 )&amp;#10;       THEN&amp;#10;           v_qty := :WT_READINGS_UPD_BLK.reading- :WT_READINGS_UPD_BLK.PREVIOUS_READING;&amp;#10;           &amp;#10;           select abs(v_qty) &amp;#10;           into v_qty &amp;#10;           from dual;&amp;#10;  &#x9;&#x9; --ELSE&amp;#10;  &#x9;&#x9; --&#x9;  v_qty := :WT_READINGS_UPD_BLK.qty;&amp;#10;       END IF;&amp;#10;    end;&amp;#10;  end if;&amp;#10;  &amp;#10;  --crm 507180&amp;#10;  &#x9; --עדכון קריאה עבור מצב מד של זרימה הפוכה קריאה ראשונה&amp;#10;  &#x9;if :WT_READINGS_UPD_BLK.GAUGE_STATUS_CODE=:PARAMETER.P_UPDATE_READING then &amp;#10;&amp;#10;           v_qty := 99999999-:WT_READINGS_UPD_BLK.reading+ :WT_READINGS_UPD_BLK.PREVIOUS_READING;&amp;#10;&amp;#10;    end if;&amp;#10;     &amp;#10;  &#x9;begin&amp;#10;  &#x9;&#x9;SELECT PARENT_WATER_ID,ROOT_WATER_ID&amp;#10;            INTO L_PARENT_WATER_ID,L_ROOT_WATER_ID&amp;#10;            FROM WT_NET&amp;#10;            WHERE WATER_ID=:WT_READINGS_UPD_BLK.water_id&amp;#10;            AND :WT_READINGS_UPD_BLK.water_id&lt;>ROOT_WATER_ID;&amp;#10;        &amp;#10;       &amp;#10;  &#x9;exception&amp;#10;  &#x9;&#x9;when others then&amp;#10;  &#x9;&#x9;L_PARENT_WATER_ID:=NULL;&amp;#10;  &#x9;&#x9;L_ROOT_WATER_ID:=NULL;&amp;#10;  &#x9;&#x9;end;&amp;#10;    /* insert_debug('v_next_seq '||v_next_seq);&amp;#10;     insert_debug(':wt_readings_upd_blk.reading_seq '||:wt_readings_upd_blk.reading_seq);&amp;#10;      insert_debug(':wt_readings_upd_blk.reading '||:wt_readings_upd_blk.reading);*/&amp;#10;  &#x9; &amp;#10;  &#x9; update  wt_readings&amp;#10;  &#x9; set     previous_Reading  =  decode(reading_seq,:wt_readings_upd_blk.reading_seq, previous_Reading,:wt_readings_upd_blk.reading),&amp;#10;  &#x9;         reading           =  decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.reading, reading),&amp;#10;  &#x9;         qty   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;=&#x9; nvl(v_qty, decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.qty,&amp;#10;  &#x9;                                                                                   reading - :wt_readings_upd_blk.reading)),&amp;#10; &#x9;&#x9;&#x9;&#x9;--&#x9;&#x9;&#x9;qty               = decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.qty,&amp;#10;  &#x9;      --                                                                               reading - :wt_readings_upd_blk.reading),&amp;#10;--  &#x9;         comments            &#x9;                                                                                     &amp;#10;--  &#x9;         comments          =  decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.comments, comments),&amp;#10;  &#x9;         gauge_status_code =  decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.gauge_status_code, gauge_status_code),&amp;#10;  &#x9;         estimated_yn      =  decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.estimated_yn, estimated_yn),&amp;#10;  &#x9;         reading_date     =  decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.reading_date, reading_date),&amp;#10;  &#x9;         stamp_Date = sysdate,&amp;#10;  &#x9;         stamp_user = :global.user_name,&amp;#10;  &#x9;         stamp_action='U',&amp;#10;  &#x9;         /*brachi remove*/&amp;#10;  &#x9;        -- ESTIMATED_CODE= decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.ESTIMATED_CODE, ESTIMATED_CODE),&amp;#10;--  &#x9;        REPAIR_REASON_CODE=decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.REPAIR_REASON_CODE,REPAIR_REASON_CODE)&amp;#10;  &#x9;        REPAIR_REASON_CODE=decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.REPAIR_REASON_CODE,&amp;#10;  &#x9;        decode(:parameter.p_change_next_reading,'Y',:wt_readings_upd_blk.REPAIR_REASON_CODE,REPAIR_REASON_CODE)),&amp;#10;  &#x9;        COMMENTS = decode(reading_seq,:wt_readings_upd_blk.reading_seq,:wt_readings_upd_blk.comments,&amp;#10;  &#x9;        decode(:parameter.p_change_next_reading,'Y',&amp;#10;  &#x9;        decode(:wt_readings_upd_blk.repair_reason_code,:parameter.par_old_repair_reason,COMMENTS,COMMENTS||chr(32)||'סיבת תיקון עודכנה מתקופה קודמת'),COMMENTS)),&amp;#10;  &#x9;        reading_ready_yn = decode(reading_seq,:wt_readings_upd_blk.reading_seq, :wt_readings_upd_blk.READING_READY_YN, READING_READY_YN)&amp;#10;  &#x9;        &amp;#10;  &#x9;         --CODE_DESC=decode(reading_seq,:wt_readings_upd_blk.reading_seq,:wt_readings_upd_blk.code_desc,code_desc)&amp;#10;  &#x9; where   reading_Seq in  (v_next_seq, :wt_readings_upd_blk.reading_seq);&amp;#10;  &#x9; &amp;#10;  &#x9; &amp;#10;  &#x9; &amp;#10;   forms_ddl('commit');&#x9;&amp;#10; /*  FOR i in 1..99 LOOP  &#x9; &amp;#10;   BEGIN  &#x9; &amp;#10;&#x9;  wt_logit_pkg.print_mess(i, v_year, v_period, v_log_text); &amp;#10;&#x9;  IF v_log_text = 'NO' THEN&amp;#10;&#x9;  &#x9;  &#x9;exit;&amp;#10;&#x9;  &#x9;  &#x9;null;&amp;#10;&#x9;  ELSE&amp;#10;&#x9;  IF v_log_text IS NOT  NULL THEN&amp;#10;&#x9;  v_log_text:='תקופה'||v_year||'-'||v_period||chr(10) || v_log_text; &#x9;  &amp;#10;&#x9;  --SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;&#x9; -- v_alert :=DISPLAY_COMMENT('APP',1101,NULL,v_log_text,NULL,NULL);&amp;#10;&#x9;  END IF;  &#x9;    &amp;#10;&#x9;  &#x9;END IF; &amp;#10;&#x9;  &#x9;  wt_logit_pkg.Set_TAb_TO_NULL (i);&amp;#10;&#x9;  END;&#x9;&amp;#10;&#x9; END LOOP;&amp;#10;&#x9; */&amp;#10;&#x9; &amp;#10;&#x9; --v_log_text:=wt_logit_pkg.get_logit_text;&amp;#10;&#x9; insert_Debug('v_log_text :' ||v_log_text );&amp;#10;&#x9; &amp;#10;&#x9;   &#x9; if wt_logit_pkg.get_logit_text is not null then&amp;#10;&#x9;   SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;&#x9;  v_alert :=DISPLAY_COMMENT('APP',1101,NULL,wt_logit_pkg.get_logit_text,NULL,NULL);&amp;#10;&#x9;   &#x9; end if;&amp;#10;&#x9;   &#x9; &amp;#10;&#x9;   --&#x9; v_log_text:=null;&amp;#10;&amp;#10;&#x9;  wt_logit_pkg.set_LOGIT_TEXT_to_null;&amp;#10; &amp;#10;   &amp;#10;   IF &#x9;L_PARENT_WATER_ID IS NOT NULL OR&amp;#10;  &#x9;&#x9;L_ROOT_WATER_ID IS NOT NULL THEN &amp;#10;  &#x9; &amp;#10;  &#x9; update  wt_readings&amp;#10;  &#x9; set &amp;#10;  &#x9; STAMP_DATE=SYSDATE,&amp;#10;  &#x9; stamp_user = :global.user_name,&amp;#10;  &#x9;         stamp_action='U',&amp;#10;  &#x9;         Triggers_logit_water_id=:WT_READINGS_UPD_BLK.WATER_ID&amp;#10;  &#x9; WHERE WATER_ID IN (L_PARENT_WATER_ID,L_ROOT_WATER_ID)&amp;#10;  &#x9; AND FISCAL_YEAR=:WT_READINGS_UPD_BLK.FISCAL_YEAR&amp;#10;  &#x9; AND PERIOD_NUM=:WT_READINGS_UPD_BLK.PERIOD_NUM&amp;#10;  &#x9; AND READING_TYPE=1;&amp;#10;        &amp;#10;  forms_ddl('commit');&amp;#10;  END IF;&amp;#10;  --commit_form;&amp;#10;  Set_RECORD_Property(:system.cursor_record,'WT_READINGS_UPD_BLK', STATUS, QUERY_STATUS);&amp;#10;  &amp;#10;  v_trace:=3;&amp;#10;  &amp;#10;  if wt_logit_pkg.get_logit_text is not null then &amp;#10;  &#x9; v_log_text:=chr(10) ||'שגיאות זיהוי אב '||chr(10) ||wt_logit_pkg.get_logit_text;&amp;#10;&#x9;   SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;&#x9;  v_alert :=DISPLAY_COMMENT('APP',1101,NULL,v_log_text,NULL,NULL);&amp;#10;&#x9;  end if;&amp;#10;  /*הצגת הודעות לוגית */&#x9;  &amp;#10;  /* Kתקופה זו והתקופה הבאה אם היא עודכנה */&amp;#10;  &amp;#10;  /*&amp;#10;IF nvl(v_log_text,'NO') &lt;> 'NO' THEN--הצגת לוגית על הזיהוי המשני&amp;#10;&#x9;SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;  v_alert :=DISPLAY_COMMENT('APP',1101,NULL,v_log_text,NULL,NULL);&amp;#10;END IF;&amp;#10;&amp;#10;FOR i in 1..99 LOOP --הצגת הודעות לוגיות אם קימות על הזיוהי הכללי &#x9; &amp;#10; BEGIN  &#x9; &amp;#10; v_trace:=4;&amp;#10; wt_logit_pkg.print_mess(i, v_year, v_period, v_log_text_parent); &amp;#10;  IF v_log_text_parent = 'NO' THEN&amp;#10;  &#x9;  &#x9;exit;&amp;#10;  &#x9;  &#x9;null;&amp;#10;  ELSE&amp;#10;       IF v_log_text_parent IS NOT  NULL THEN&amp;#10;  &#x9;     &amp;#10;  &#x9;        v_log_text:='תקופה'||v_year||'-'||v_period||chr(10) || v_log_text_parent; &#x9;  &amp;#10;  &#x9;         SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;  &#x9;        v_alert :=DISPLAY_COMMENT('APP',1101,NULL,v_log_text_parent,NULL,NULL);&amp;#10;             &amp;#10;        END IF;  &#x9;    &amp;#10;  &#x9; END IF; &amp;#10;  &#x9;  wt_logit_pkg.Set_TAb_TO_NULL (i);&amp;#10;  END;&#x9;&amp;#10;END LOOP;&amp;#10;&amp;#10;*/&amp;#10;  &amp;#10; -- commit;  &amp;#10;  return 1;&amp;#10;EXCEPTION&amp;#10;&#x9;when NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;return 0;&amp;#10;&#x9;&amp;#10;  when OTHERS then&amp;#10;       message('LOGIT-'||SQLERRM||': '||v_trace);  &#x9; &amp;#10;       message('LOGIT-'||SQLERRM||': '||v_trace);&amp;#10;       ROLLBACK;&amp;#10;       return 0;&amp;#10;END;"/>
      <ProgramUnit Name="VALIDATE_FIELD" ProgramUnitType="Function" ProgramUnitText="FUNCTION validate_field(P_VALUE IN VARCHAR2) RETURN boolean IS&amp;#10;v_alert NUMBER;&amp;#10;v_return BOOLEAN:=TRUE;&amp;#10;BEGIN&amp;#10;  IF P_VALUE IS NOT NULL THEN&amp;#10;    BEGIN&amp;#10;              v_alert := TO_NUMBER(P_VALUE);&amp;#10;    EXCEPTION&amp;#10;            WHEN OTHERS THEN&amp;#10;        v_alert := DISPLAY_COMMENT('FRM',50016,NULL,NULL,NULL,NULL);&amp;#10;        v_return:= FALSE;&amp;#10;        --:WT_GAUGE_MAINTENANCE_UPD.MONTHES_FOR_DISASSEMBLE:= NULL;&amp;#10;        RAISE FORM_TRIGGER_FAILURE;&amp;#10;    END;&amp;#10;    IF P_VALUE&lt;= 0 THEN&amp;#10;            v_alert := DISPLAY_COMMENT('APP',1501,NULL,NULL,NULL,NULL);&amp;#10;             v_return:= FALSE;&amp;#10;      --:WT_GAUGE_MAINTENANCE_UPD.MONTHES_FOR_DISASSEMBLE:= NULL;&amp;#10;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;    END IF;         &amp;#10;END IF;&amp;#10;RETURN v_return;&amp;#10;END;&amp;#10;&amp;#10;"/>
      <ProgramUnit Name="ADD_WATER_ID" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE add_water_id IS&amp;#10; v_process_Seq NUMBER; &amp;#10; v_dummy NUMBER:=0;&amp;#10; v_class NUMBER;&amp;#10; v_fixed NUMBER;&amp;#10; v_reading_seq NUMBER;&amp;#10; v_prev_reading number;&amp;#10; v_reading      number;&amp;#10; v_reading_date date;&amp;#10; v_trace        NUMBER;&amp;#10; v_log_text     VARCHAr2(3000);&amp;#10;    v_next_period NUMBER;&amp;#10;    v_next_reading NUMBER;&amp;#10;    v_next_pervious_reading  NUMBER; &amp;#10;  &#x9;v_year NUMBER;&amp;#10;  &#x9;v_period NUMBER;&amp;#10;  &#x9;v_next_seq       NUMBER;&amp;#10;  &#x9;v_alert NUMBER;&amp;#10;  &#x9;v_run_status number;&amp;#10;  &#x9;v_logit_seq number;--Add by chani 9.2013&amp;#10;&#x9;  v_text       varchar2(500); &amp;#10;&#x9;  v_region_code number; --Add by chani 9.2013&amp;#10;&#x9; &amp;#10;  --&#x9;v_reading NUMBER;&amp;#10; BEGIN&amp;#10;  select WATER_ID_CLASS, FIXED_CONSUMPTION_qty&amp;#10;  into   v_class, v_fixed&amp;#10;  from   WT_NET&amp;#10;  where  water_id = :query.water_id;&amp;#10;  &amp;#10;  FOR i IN 1..99999 LOOP&amp;#10;  &#x9;  GO_Record(i);&amp;#10;  &#x9;  &amp;#10;  &#x9;  SELECT rm_process_seq.nextval  -- מספר עיבוד&amp;#10;      INTO v_process_seq&amp;#10;      FROM sys.dual;&amp;#10;   BEGIN&amp;#10;&#x9;      select number_data_new&amp;#10;&#x9;      into   v_region_code&amp;#10;&#x9;      from   WT_NET_DETAILS&amp;#10;&#x9;      where   column_name=('region_code')&amp;#10;&#x9;      and     water_id = :query.water_id&amp;#10;&#x9;      and     start_date&lt;=:new_water_id.READING_DATE&amp;#10;&#x9;      and    ((end_date is null) or (end_date>=:new_water_id.READING_DATE and end_Date is not null));&amp;#10;      EXCEPTION&amp;#10;      WHEN others THEN &amp;#10;               BEGIN&amp;#10;                select region_code&amp;#10;                into   v_region_code&amp;#10;                from   WT_NET&amp;#10;                where  water_id =:query.WATER_ID;&amp;#10;            /*  EXCEPTION&amp;#10;              WHEN OTHERS THEN &amp;#10;               NULL;     */ &amp;#10;             END;&amp;#10;           END;&amp;#10;       --End of Add by chani 9.2013    &amp;#10;     -- IF v_class in (3, 4) THEN&amp;#10;     &#x9;:new_water_id.READING_SOURCE:=2;&amp;#10;  &#x9;  ------------------------&amp;#10;  &#x9;  /* insert into wt_periodic */&amp;#10;  &#x9; /* INSERT INTO wt_periodic&amp;#10;     (fiscal_year, period_num, process_seq, water_id, parent_water_id, root_water_id, &amp;#10;      water_id_type,  water_id_class, level_num, usage_type, subj_code, obj_id,&amp;#10;      card_num, common_yn, common_type, common_weight, &amp;#10;      public_type, garden_yn, garden_area, private_garden_area,&amp;#10;      allocation_yn, sewage_yn, sewage_include_common_yn, sewage_type, sewage_weight,&amp;#10;      debit_code, region_code, walking_order, comments,&amp;#10;      water_id_start, water_id_end, &amp;#10;      pricelist_steps_scale,  stamp_action, stamp_cdate, stamp_date, stamp_user, &amp;#10;      address, gauge_seq, public_garden_allocation_yn, client_id, client_type)&amp;#10;      (SELECT :new_water_id.FISCAL_YEAR, :new_water_id.PERIOD_NUM, v_process_Seq, &amp;#10;      n.water_id,  parent_water_id, root_water_id, &amp;#10;      water_id_type,  water_id_class, level_num, usage_type, n.subj_code, n.obj_id,&amp;#10;      n.card_num, common_yn, common_type, common_weight,&amp;#10;      public_type, garden_yn, garden_area, private_garden_area,&amp;#10;      allocation_yn, sewage_yn, sewage_include_common_yn, sewage_type, sewage_weight,&amp;#10;      d.debit_code, region_code, walking_order, comments,&amp;#10;      water_id_start, water_id_end,  1, &amp;#10;    &#x9;'I', SYSDATE, SYSDATE, :global.user_name, address, null, public_garden_allocation_yn,&amp;#10;    &#x9;d.client_id, d.client_type&amp;#10;      FROM    wt_net n,&amp;#10;              rm_cards d --,&amp;#10;&#x9;&#x9;  WHERE n.water_id=:query.WATER_ID&amp;#10;        AND d.card_num= n.card_num&amp;#10;        AND d.subj_code= 3 AND d.serv_code=4);&amp;#10;        &amp;#10;      ELSE&amp;#10;      &#x9; INSERT INTO wt_periodic&amp;#10;         (fiscal_year, period_num, process_seq, water_id, parent_water_id, root_water_id, &amp;#10;          water_id_type,  water_id_class, level_num, usage_type, subj_code, obj_id,&amp;#10;          card_num, common_yn, common_type, common_weight, &amp;#10;          public_type, garden_yn, garden_area, private_garden_area,&amp;#10;          allocation_yn, sewage_yn, sewage_include_common_yn, sewage_type, sewage_weight,&amp;#10;          debit_code, region_code, walking_order, comments,&amp;#10;          water_id_start, water_id_end, &amp;#10;          pricelist_steps_scale,  stamp_action, stamp_cdate, stamp_date, stamp_user, &amp;#10;          address, gauge_seq, public_garden_allocation_yn, client_id, client_type)&amp;#10;         (SELECT :new_water_id.FISCAL_YEAR, :new_water_id.PERIOD_NUM, v_process_Seq, &amp;#10;          n.water_id,  parent_water_id, root_water_id, &amp;#10;          water_id_type,  water_id_class, level_num, usage_type, n.subj_code, n.obj_id,&amp;#10;          n.card_num, common_yn, common_type, common_weight,&amp;#10;          public_type, garden_yn, garden_area, private_garden_area,&amp;#10;          allocation_yn, sewage_yn, sewage_include_common_yn, sewage_type, sewage_weight,&amp;#10;          null, region_code, walking_order, comments,&amp;#10;          water_id_start, water_id_end,  1, &amp;#10;    &#x9;    'I', SYSDATE, SYSDATE, :global.user_name, address, null, public_garden_allocation_yn,&amp;#10;        &#x9;null, null&amp;#10;          FROM    wt_net n&amp;#10;&#x9;&#x9;      WHERE n.water_id=:query.WATER_ID);&amp;#10;      END IF;&#x9;*/&amp;#10;     &amp;#10;      /* insert into  readings -*/&amp;#10;      -- הוכנסה קריאה תקופתית וזה לא מצב של זיהוי שמקבל רק משותפת&amp;#10;      IF :new_water_id.READING_DATE IS NOT NULL THEN&amp;#10;         select count(1)&amp;#10;         into   v_dummy&amp;#10;         from   wt_readings&amp;#10;         where  water_id =  :query.WATER_ID&amp;#10;           and  fiscal_year = :new_water_id.FISCAL_YEAR&amp;#10;           and  period_num  = :new_water_id.PERIOD_NUM &#x9; &amp;#10;           and  reading_type = 1;&amp;#10;         IF v_dummy = 0 THEN  -- אם לא קיימת קריאה תקופתית&amp;#10;            insert into wt_readings      &amp;#10;            (water_id, gauge_seq, fiscal_year, period_num, process_Seq, reading_type, &amp;#10;             reading_seq, reading_date, reading, previous_reading, qty, estimated_yn, &amp;#10;             gauge_status_code, comments, stamp_action, &amp;#10;             stamp_cdate, stamp_date,  stamp_user,region_code,READING_SOURCE,repair_reason_code)&amp;#10;            (SELECT water_id, gauge_seq,:new_water_id.FISCAL_YEAR, :new_water_id.PERIOD_NUM, &amp;#10;              v_process_Seq,  1, &amp;#10;              wt_reading_seq.NEXTVAL, :new_water_id.READING_DATE, &amp;#10;              :new_wateR_id.READING , :new_water_id.PREVIOUS_READING, &amp;#10;              :new_wateR_id.READING - :new_water_id.PREVIOUS_READING, :NEW_WATER_ID.ESTIMATED_YN,&amp;#10;              :NEW_WATER_ID.GAUGE_STATUS_CODE, NULL, 'I', SYSDATE, SYSDATE, :global.user_name ,v_region_code,2,:new_wateR_id.repair_reason_code&amp;#10;             FROM       WT_GAUGES&amp;#10;             wHERE water_id = :query.WATER_ID&amp;#10;             --Miri and Orit 351923 04/03/18&amp;#10;               /*AND disassemble_date IS NULL*/&amp;#10;             and ((disassemble_date >=:NEW_WATER_ID.READING_DATE&amp;#10;             and install_date &lt;= :NEW_WATER_ID.READING_DATE)&amp;#10;             or (disassemble_date is null &amp;#10;             and install_date &lt;= :NEW_WATER_ID.READING_DATE))  --End Miri and Orit &amp;#10;               );&amp;#10;         END IF;      &amp;#10;      ELSE&amp;#10;        IF NVL(v_fixed, 0 ) >0 THEN&amp;#10;        &#x9; select count(1)&amp;#10;           into   v_dummy&amp;#10;           from   wt_readings&amp;#10;           where  water_id =    :query.WATER_ID&amp;#10;             and  fiscal_year = :new_water_id.FISCAL_YEAR&amp;#10;             and  period_num  = :new_water_id.PERIOD_NUM &#x9; &amp;#10;             and  reading_type = 1;&amp;#10;           IF v_dummy = 0 THEN  -- אם לא קיימת קריאה תקופתית&amp;#10;           &#x9; select wt_Reading_Seq.nextval into v_Reading_Seq from dual;&amp;#10;           &#x9; wt_readings_pkg.get_previous_reading(:query.WATER_ID, null, v_prev_reading);&amp;#10;             v_prev_reading:=NVL(v_prev_reading, 0);&amp;#10;             v_reading:=v_prev_reading +  v_fixed;&amp;#10;           begin&amp;#10;             select reading_date&amp;#10;             into   v_reading_date&amp;#10;             from   wt_readings&amp;#10;             where  water_id =  (Select parent_water_id&amp;#10;                                 from   wt_net&amp;#10;                                 where  water_id = :query.water_id )&amp;#10;               and  fiscal_year = :new_wateR_id.fiscal_year&amp;#10;               and  period_num  = :new_wateR_id.period_num;&amp;#10;           exception&amp;#10;             when others then&amp;#10;                  v_reading_date:=sysdate;&amp;#10;           end;&amp;#10;          -- message(v_region_code||'v_region_code');      message(v_region_code||'v_region_code');&amp;#10;             insert into wt_readings      &amp;#10;             (water_id, gauge_seq, fiscal_year, period_num, process_Seq, reading_type, &amp;#10;             reading_seq, reading_date, reading, previous_reading, qty, estimated_yn, &amp;#10;             gauge_status_code, comments, stamp_action, &amp;#10;             stamp_cdate, stamp_date,  stamp_user,region_code,READING_SOURCE,repair_reason_code)&amp;#10;             values&amp;#10;             (&amp;#10;              :query.water_id, null, :new_wateR_id.fiscal_year, :new_wateR_id.period_num, &amp;#10;               v_process_Seq,  1, v_Reading_Seq, &amp;#10;               v_reading_date, v_reading, v_prev_reading, v_fixed,  :NEW_WATER_ID.ESTIMATED_YN,&amp;#10;               :NEW_WATER_ID.GAUGE_STATUS_CODE, NULL, 'I', SYSDATE, SYSDATE, :global.user_name,v_region_code,2,:new_wateR_id.repair_reason_code&amp;#10;             );&amp;#10;            &amp;#10;         END IF;       &amp;#10;        END IF;&#x9;     &#x9; &amp;#10;      END IF;   &amp;#10;      &amp;#10;   ----עדכון רשומה קיימת   &amp;#10;       ------------HODAYA &amp;#10;       BEGIN&amp;#10;       &#x9;/*IF :NEW_WATER_ID.PERIOD_NUM =6 THEN&amp;#10;&#x9;&#x9;  &#x9;&#x9;v_year:=:NEW_WATER_ID.FISCAL_YEAR+1;&amp;#10;&#x9;&#x9;  &#x9;&#x9;v_period:=1;&amp;#10;&#x9;&#x9;  &#x9;ELSE&amp;#10;&#x9;&#x9;  &#x9;&#x9;v_year:=:NEW_WATER_ID.FISCAL_YEAR;&amp;#10;&#x9;&#x9;  &#x9;&#x9;v_period:=:NEW_WATER_ID.PERIOD_NUM+1;&amp;#10;&#x9;&#x9;  &#x9;END IF;*/&amp;#10;&#x9;&#x9;  --&#x9;message(:PARAMETER.P_NXT_YEAR||'  :PARAMETER.P_NXT_YEAR');message(:PARAMETER.P_NXT_PERIOD||'  :PARAMETER.P_NXT_PERIOD');&amp;#10;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   select /*reading_seq,*/reading,previous_reading&amp;#10;             &#x9;&#x9;into  /* v_next_seq ,*/v_next_reading,v_next_pervious_reading &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    from WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    where R.FISCAL_YEAR>=:PARAMETER.P_NXT_YEAR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and R.PERIOD_NUM>=&#x9;:PARAMETER.P_NXT_PERIOD&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND READING_SEQ=&#x9;:PARAMETER.P_NEXT_SEQ;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9; v_trace:=2;&#x9;&amp;#10;&#x9;&#x9;-- message(&#x9;:PARAMETER.P_NEXT_SEQ||'  v_next_seq');&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9; --MESSAGE(4);&amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9; IF  :parameter.p_change_next_reading='Y' THEN  &amp;#10;&#x9;&#x9;&#x9; --&#x9;message(332);message(2);&amp;#10;&#x9;       update  wt_readings&amp;#10;&#x9;       set     previous_Reading  =  decode(reading_seq,:PARAMETER.P_NEXT_SEQ, :NEW_WATER_ID.reading,previous_Reading),&amp;#10;&#x9;              -- reading           =  decode(reading_seq,:PARAMETER.P_READING_SEQ, :NEW_WATER_ID.reading, reading),&amp;#10;&#x9;               qty               =  decode(reading_seq,:PARAMETER.P_NEXT_SEQ, reading - :NEW_WATER_ID.reading,:NEW_WATER_ID.qty),&amp;#10;&#x9;                reading_date     =  decode(reading_seq,:PARAMETER.P_NEXT_SEQ, :NEW_WATER_ID.reading_date, reading_date),&amp;#10;&#x9;               stamp_Date = sysdate,&amp;#10;&#x9;               stamp_user = :global.user_name,&amp;#10;&#x9;               stamp_action='U'&amp;#10;&#x9;              -- READING_SOURCE=2--brachi 032015 מקור קריאה ידני&amp;#10;&#x9;       where   reading_Seq =&#x9;:PARAMETER.P_NEXT_SEQ;&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;     &#x9;EXCEPTION&amp;#10;       &#x9;&#x9;WHEN OTHERS THEN---אם אין קריאה לעדכון&amp;#10;       &#x9;&#x9;NULL;&amp;#10;       END;&amp;#10;       ------------&amp;#10;      &amp;#10;  &#x9;  &amp;#10;  &#x9;  EXIT WHEN :system.LAST_RECORD ='TRUE';&amp;#10;  END LOOP;&amp;#10; FORMS_DDL('commit');&amp;#10; --commit_form;&amp;#10; &amp;#10;   Set_RECORD_Property(:system.cursor_record, 'NEW_WATER_ID', STATUS, QUERY_STATUS);&amp;#10;   v_trace:=3;&amp;#10;  &amp;#10; &amp;#10;EXCEPTION&amp;#10;  when OTHERS then&amp;#10;       message('LOGIT-'||SQLERRM||': '||v_trace);  &#x9; &amp;#10;       message('LOGIT-'||SQLERRM||': '||v_trace);&amp;#10;       ROLLBACK;&amp;#10;      &amp;#10;END;&amp;#10;--END;"/>
      <ProgramUnit Name="VALIDATE_NEW_READING" ProgramUnitType="Package Spec" ProgramUnitText="PACKAGE validate_new_reading IS&amp;#10;  FUNCTION VALIDATE_PREV_QTY RETURN NUMBER;&amp;#10;  PROCEDURE VALIDATE_DATE;&amp;#10; -- FUNCTION VALIDATE_CURR_QTY RETURN NUMBER;&amp;#10;END;"/>
      <ProgramUnit Name="VALIDATE_NEW_READING" ProgramUnitType="Package Body" ProgramUnitText="PACKAGE BODY validate_new_reading IS&amp;#10;  FUNCTION VALIDATE_PREV_QTY RETURN NUMBER  &#x9;&amp;#10;  IS&amp;#10;  &#x9;v_year NUMBER;&amp;#10;  &#x9;v_period NUMBER;&amp;#10;  &#x9;v_reading NUMBER;&amp;#10;  &#x9;v_temp number;&amp;#10;  &#x9;max_reading_date DATE;&amp;#10;  &#x9;min_reading_date DATE;&amp;#10;  &#x9;v_start_water_id DATE;&amp;#10;  &#x9;min_install_date DATE;&amp;#10;  &#x9;v_alert NUMBER;&amp;#10;&#x9;&#x9;v_h_period NUMBER;&amp;#10;&#x9;&#x9;v_h_year NUMBER;&amp;#10;&#x9;&#x9;v_gauge_seq NUMBER;&amp;#10;&#x9;&#x9;v_fiscal_year NUMBER;&amp;#10;&#x9;&#x9;v_period_num NUMBER;&amp;#10;&#x9;&#x9;v_h_period_inst NUMBER;&amp;#10;&#x9;&#x9;v_h_year_inst NUMBER;&amp;#10;&#x9;&#x9;v_gauge_status_code NUMBER;&amp;#10;&#x9;&#x9;counter number;&amp;#10;&#x9;&#x9;v_check number;&amp;#10;&#x9;&#x9;v_type number;&amp;#10;&#x9;&#x9;&amp;#10;BEGIN&amp;#10;  BEGIN&amp;#10;  --שנה של קריאה קודמת &amp;#10;        begin &amp;#10;       /* SELECT MAX(FISCAL_YEAR)&amp;#10;        INTO v_year&amp;#10;        FROM WT_READINGS r&amp;#10;        WHERE  water_id=:QUERY.WATER_ID&amp;#10;        AND FISCAL_YEAR&lt;=:NEW_WATER_ID.FISCAL_YEAR;*/        &amp;#10;        &amp;#10;        --brachi change 31122013&amp;#10;       select max(fiscal_year)&amp;#10;         INTO v_year&amp;#10;         from wt_readings&amp;#10;        where fiscal_year&lt;= :NEW_WATER_ID.FISCAL_YEAR&amp;#10;          and ((fiscal_year=   :NEW_WATER_ID.FISCAL_YEAR and period_num&lt;= :NEW_WATER_ID.period_num   ) or fiscal_year&lt;   :NEW_WATER_ID.FISCAL_YEAR)&amp;#10;          and water_id=:QUERY.WATER_ID&amp;#10;          and reading_type&lt;>2/*Miri added 06/17*/&amp;#10;     order by fiscal_year desc, period_num desc; &amp;#10;        EXCEPTION when others then &amp;#10;       &#x9;&#x9;v_year := null;&amp;#10;       &#x9;&#x9;end;&amp;#10;       &#x9;&#x9;if v_year is null then &amp;#10;       &#x9;&#x9;begin&amp;#10;       &#x9;&#x9;&#x9;--Miri and Orit 351923 26/02/18&amp;#10;&#x9;       &#x9;  select install_reading &amp;#10;              into v_reading&amp;#10;              from wt_gauges g&amp;#10;             where water_id =:QUERY.WATER_ID&amp;#10;             and ((disassemble_date >=:NEW_WATER_ID.READING_DATE&amp;#10;             and install_date &lt;= :NEW_WATER_ID.READING_DATE)&amp;#10;             or (disassemble_date is null &amp;#10;             and install_date &lt;= :NEW_WATER_ID.READING_DATE));&amp;#10;       &#x9;&#x9;exception when others then&#x9;&amp;#10;       &#x9;&#x9;&#x9;v_reading :=null;&amp;#10;       &#x9;&#x9;&#x9;end;&amp;#10;        end if;&amp;#10;       --    message('v_year-'||v_year); message('v_year-'||v_year);--1818&amp;#10;        --(אם הקריאה הקודמת היתה בשנה קודמת)&amp;#10;      IF v_year&lt; :NEW_WATER_ID.FISCAL_YEAR THEN&amp;#10;       --תקופה של שנה קודמת&amp;#10;       begin&amp;#10;        SELECT nvl(MAX(PERIOD_NUM),0) &amp;#10;          INTO v_period&amp;#10;          from wt_readings&amp;#10;         where fiscal_year=v_year&amp;#10;           and water_id=:QUERY.WATER_ID&amp;#10;      order by fiscal_year desc, period_num desc;&amp;#10;        --message('v_period-'||v_period);&amp;#10;         -- message('v_period-'||v_period);--1818&amp;#10;         EXCEPTION WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;MESSAGE(SQLERRM||'13');MESSAGE(SQLERRM||'13');&amp;#10;       &#x9;&#x9;  &#x9; &#x9;&#x9; WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;&#x9;&#x9;MESSAGE('718'||SQLERRM);MESSAGE('718'||SQLERRM);--1818&amp;#10;         end;&amp;#10;            --??&amp;#10;            --brachi&amp;#10;            /*&amp;#10;            IF v_period>=:NEW_WATER_ID.PERIOD_NUM THEN&amp;#10;&#x9;            begin&amp;#10;&#x9;            SELECT nvl(MAX(FISCAL_YEAR),0) &amp;#10;&#x9;         &#x9;  INTO v_year&amp;#10;&#x9;            FROM WT_READINGS r&amp;#10;&#x9;            WHERE  water_id=:QUERY.WATER_ID&amp;#10;&#x9;           AND  PERIOD_NUM=v_period; &amp;#10;&#x9;      &#x9;&#x9;   END IF*/&amp;#10;&#x9;       ELSE&amp;#10;       &#x9;begin &amp;#10;       &#x9;SELECT nvl(MAX(PERIOD_NUM),0) &amp;#10;        INTO v_period&amp;#10;        FROM WT_READINGS r&amp;#10;        WHERE  water_id=:QUERY.WATER_ID&amp;#10;        AND FISCAL_YEAR=v_year&amp;#10;        AND PERIOD_NUM&lt;=:NEW_WATER_ID.PERIOD_NUM&amp;#10;         and reading_type&lt;>2;     /*Miri added 06/17*/&amp;#10;       EXCEPTION&amp;#10;       &#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;MESSAGE(SQLERRM||'15');MESSAGE(SQLERRM||'15');&amp;#10;         &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;MESSAGE('918'||SQLERRM);MESSAGE('918'||SQLERRM);--1818&amp;#10;       &#x9; &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'a');MESSAGE(SQLERRM);&amp;#10;       end;&amp;#10;       END IF;&amp;#10;      -- END;&amp;#10;     &amp;#10;       -----brachi begin 2512 בדיקה האם כבר יש קריאה תקופתית  בשנה ובתקופה זו&amp;#10;       begin&amp;#10;       --&#x9;MESSAGE(2);MESSAGE(2);&amp;#10;       SELECT reading_type  INTO v_type &amp;#10;         from (select reading_type&amp;#10;                 FROM WT_READINGS r&amp;#10;                WHERE water_id=:QUERY.WATER_ID&amp;#10;                  AND FISCAL_YEAR&lt;=:NEW_WATER_ID.fiscal_year&amp;#10;             order by fiscal_year desc,period_num desc,reading_date desc) --brachi add the reading date in 09112014 &amp;#10;        where rownum=1;&amp;#10;       EXCEPTION&amp;#10;       WHEN no_data_found then&amp;#10;       null; &amp;#10;            &amp;#10;     -- message('v_type'||v_type);  message('v_type'||v_type);  --22&amp;#10;       &#x9;if :NEW_WATER_ID.fiscal_year=v_year and :NEW_WATER_ID.PERIOD_NUM=v_period and v_type=1 THEN&amp;#10;       &#x9;&#x9;&amp;#10;       SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;       v_alert := DISPLAY_COMMENT('APP',1027,NULL,null,NULL,NULL);&amp;#10;   &amp;#10;       &#x9;&#x9;:NEW_WATER_ID.fiscal_year:=null;&amp;#10;       &#x9;&#x9;:NEW_WATER_ID.PERIOD_NUM:=null;&amp;#10;       &#x9;&#x9;:new_water_id.reading_date:=null;&amp;#10;       &#x9;&#x9;:new_water_id.PREVIOUS_READING:=null;&amp;#10;       &#x9;&#x9;     RAISE FORM_TRIGGER_FAILURE;&amp;#10;       &#x9;end if;&amp;#10;       &#x9;end;&amp;#10;       &#x9;&amp;#10;       &#x9;&#x9;&amp;#10;       &amp;#10; --------------------------------------------------------------------------------- &amp;#10;    ---סימן שמנסים להכניס קריאה ראשונית, לפני כל הקריאות האחרונות&amp;#10;    IF v_period=0 THen&amp;#10;    &#x9;begin&amp;#10;         &#x9;SELECT TO_DATE(WATER_ID_START,'DD/MM/YYYY')&amp;#10;        &#x9;  INTO v_start_water_id&amp;#10;        &#x9;  FROM WT_NET &amp;#10;        &#x9; WHERE WATER_ID=:QUERY.WATER_ID;&amp;#10;     EXCEPTION&amp;#10;       &#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  MESSAGE(SQLERRM||'16');MESSAGE(SQLERRM||'16');&amp;#10;       &#x9;  WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;&#x9;MESSAGE('1018'||SQLERRM);MESSAGE('1018'||SQLERRM);--1818&amp;#10;       &#x9;&#x9;WHEN OTHERS THEN&amp;#10;       &#x9;&#x9;&#x9;MESSAGE(SQLERRM||'b');MESSAGE(SQLERRM);&amp;#10;       &#x9;end;&amp;#10;        &#x9;&amp;#10;        &#x9;----בדיקה האם הזיהוי מים היה בתוקף בשנה ובתקופה שמנסים להוסיף קריאה&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_h_year:=to_number(to_char(v_start_water_id,'YYYY'));&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;                   &#x9;         &#x9;            &amp;#10;      &#x9;&#x9;&#x9;&#x9;---אם הזיהוי לא היה פעיל בתקופה שמנסים להוסיף לה את הקריאה&amp;#10;           IF :NEW_WATER_ID.FISCAL_YEAR&lt;v_h_year OR&amp;#10;           &#x9; (:NEW_WATER_ID.FISCAL_YEAR=v_h_year AND :NEW_WATER_ID.PERIOD_NUM&lt;v_period )THEN&amp;#10;           &#x9; &#x9;v_alert:=DISPLAY_COMMENT('APP',50405,NULL,NULL,NULL,NULL);&amp;#10;           &#x9; &#x9;:NEW_WATER_ID.PERIOD_NUM:=NULL;&amp;#10;           &#x9; &#x9;:NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;           &#x9; &#x9;RETURN -1;&amp;#10;           &#x9; &#x9;&#x9;--RAISE FORM_TRIGGER_FAILURE;&amp;#10;           ELSE&amp;#10;           &#x9;---------------------------------------------------&amp;#10;                   &#x9;&amp;#10;          /*--hodaya begin&#x9;&amp;#10;          begin&amp;#10;&#x9;           &#x9;&#x9;select --min(install_date)&amp;#10;&#x9;           &#x9;&#x9;into min_install_date&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;from wt_gauges&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;where water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;and stamp_action&lt;>'D';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_h_period_inst:=&#x9;to_number(to_char(min_install_date,'MM'));&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/*&#x9;&#x9;v_h_year_inst:=&#x9;to_number(to_char(min_install_date,'YYYY'));&amp;#10;&#x9;&#x9;&#x9;&#x9;   EXCEPTION&amp;#10;       &#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;MESSAGE(SQLERRM||'18');MESSAGE(SQLERRM||'18');&amp;#10;       &#x9; &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'d');MESSAGE(SQLERRM);&amp;#10;&#x9;&#x9;&#x9;&#x9;   end;&amp;#10;&#x9;&#x9;&#x9;&#x9;   begin&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  select period_num&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  into period_install&amp;#10;            from rm_periods&amp;#10;            where subj_code=3&amp;#10;            and serv_code=4&amp;#10;             and v_h_period_inst>=to_number(substr(first_mon_day,4,2)) &amp;#10;            and v_h_period_inst&lt;=TO_NUMBER(substr(last_mon_day,4,2)); &amp;#10;            /*  EXCEPTION&amp;#10;       &#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;MESSAGE(SQLERRM||'19');MESSAGE(SQLERRM||'19');&amp;#10;       &#x9; &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'e');MESSAGE(SQLERRM);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;   --end;&amp;#10;&#x9;&#x9;&#x9;/*&#x9;   &#x9;MESSAGE('v_h_year_inst');&#x9;MESSAGE('v_h_year_inst');&amp;#10;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;MESSAGE('period_install');&#x9;MESSAGE('period_install');&amp;#10;           &#x9;IF :NEW_WATER_ID.FISCAL_YEAR&lt;v_h_year_inst OR&amp;#10;           &#x9;&#x9;&#x9;(:NEW_WATER_ID.FISCAL_YEAR=v_h_year_inst AND :NEW_WATER_ID.PERIOD_NUM&lt;period_install ) OR&amp;#10;           &#x9;&#x9;&#x9;(V_YEAR IS NULL AND v_period IS NULL  )THEN&amp;#10;           &#x9;&#x9;&#x9;&#x9;&#x9;message(3);&#x9;&#x9;message(3);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;v_alert:=DISPLAY_COMMENT('APP',50404,NULL,NULL,NULL,NULL);&amp;#10;&#x9;&#x9;&#x9;           &#x9;&#x9;&#x9;:NEW_WATER_ID.PERIOD_NUM:=NULL;&amp;#10;&#x9;&#x9;&#x9;           &#x9; &#x9;&#x9;:NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;&#x9;&#x9;&#x9;           &#x9;&#x9;&#x9;--&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;           &#x9;&#x9;&#x9;RETURN -1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;begin&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT MIN(READING_DATE)&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;INTO min_reading_date&amp;#10;&#x9;&#x9;&#x9;&#x9;        &#x9;FROM WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;         WHERE  water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;        &#x9; AND STAMP_ACTION&lt;>'D';&amp;#10;&#x9;&#x9;&#x9;&#x9;      EXCEPTION&amp;#10;       &#x9;&#x9;&#x9;&#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;&#x9;&#x9;MESSAGE(SQLERRM||'20');MESSAGE(SQLERRM||'20');&amp;#10;       &#x9; &#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;       &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MESSAGE(SQLERRM||'f');MESSAGE(SQLERRM);&amp;#10;       &#x9;&#x9;&#x9;&#x9;end;     --hodaya end*/&amp;#10;       &#x9;----------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;       &amp;#10;&#x9;&#x9;&#x9;&#x9;        ---למקרה שיש יותר מקריאה אחת בתאריך המינימלי&amp;#10;&#x9;&#x9;&#x9;&#x9;        begin&amp;#10;&#x9;&#x9;&#x9;&#x9;        select min(fiscal_year)&amp;#10;&#x9;&#x9;&#x9;&#x9;        into v_fiscal_year&amp;#10;                        from wt_readings&amp;#10;                        where reading_date=min_reading_date&amp;#10;                        and water_id=:QUERY.WATER_ID&amp;#10;                        AND STAMP_ACTION&lt;>'D'&amp;#10;                        and fiscal_year>=&#x9;:NEW_WATER_ID.FISCAL_YEAR--v_h_year&amp;#10;                        and period_num>=:NEW_WATER_ID.PERIOD_NUM--v_h_period&amp;#10;                        and  exists ( select 1&amp;#10;                                      from wt_readings&amp;#10;                                      where reading_date=min_reading_date&amp;#10;                                      and water_id=:QUERY.WATER_ID&amp;#10;                                      AND STAMP_ACTION&lt;>'D');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;       &#x9;&#x9;&#x9;&#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;&#x9;&#x9;MESSAGE(SQLERRM||'21');MESSAGE(SQLERRM||'21');&amp;#10;   &amp;#10;      /* &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;MESSAGE('1218'||SQLERRM);MESSAGE('1218'||SQLERRM);--1818*/&amp;#10;       &#x9;&#x9;    &#x9; &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'g');MESSAGE(SQLERRM);&amp;#10;       &#x9;end;&amp;#10;          begin        &amp;#10;&#x9;        select min(period_num)&amp;#10;&#x9;          into v_period_num&amp;#10;            from wt_readings&amp;#10;           where reading_date=min_reading_date&amp;#10;          &#x9; and water_id=:QUERY.WATER_ID&amp;#10;          &#x9; AND STAMP_ACTION&lt;>'D'&amp;#10;          &#x9; and fiscal_year>=&#x9;:NEW_WATER_ID.FISCAL_YEAR--v_h_year&amp;#10;          &#x9; and period_num>=:NEW_WATER_ID.PERIOD_NUM--v_h_period&amp;#10;          &#x9; and fiscal_year=v_fiscal_year&amp;#10;           &#x9; and  exists ( select 1&amp;#10;                             from wt_readings&amp;#10;                            where reading_date=min_reading_date&amp;#10;                              and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                  AND STAMP_ACTION&lt;>'D');&amp;#10;                     --message('v_fiscal_year'||v_fiscal_year);    message('v_fiscal_year'||v_fiscal_year) ;--1010&amp;#10;                     --   message('v_period_num'||v_period_num);    message('v_period_num'||v_period_num) ;--1010&amp;#10;&#x9;&#x9;&#x9;      -- message('min_reading_date'||min_reading_date);  message('min_reading_date'||min_reading_date);--1010&amp;#10;&#x9;&#x9;&#x9;    EXCEPTION&amp;#10;       &#x9;&#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;MESSAGE(SQLERRM||'22');MESSAGE(SQLERRM||'22');&amp;#10;       &#x9;   &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;&#x9;&#x9;MESSAGE('1318'||SQLERRM);MESSAGE('1318'||SQLERRM);--1818&amp;#10;       &#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;       &#x9;&#x9;&#x9;&#x9;MESSAGE(SQLERRM||'h');MESSAGE(SQLERRM);&amp;#10;&#x9;&#x9;&#x9;    end;&amp;#10;&#x9;&#x9;&#x9;         --לבדוק (1)&amp;#10;&#x9;&#x9;&#x9;         if v_period_num is not null and v_fiscal_year is not null then&amp;#10;&#x9;&#x9;&#x9;         begin&amp;#10;&#x9;&#x9;&#x9;         &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; select PREVIOUS_READING,reading_seq&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   INTO v_reading, :parameter.p_reading_seq&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    from WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    where water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  --  and reading_date=min_reading_date&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and fiscal_year=v_fiscal_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and period_num=v_period_num;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     :PARAMETER.P_MIN_READING_DATE:=min_reading_date;&amp;#10;&#x9;           &#x9;&#x9;:PARAMETER.P_PREV_NXT:='NXT';&amp;#10;&#x9;           &#x9;&#x9;&amp;#10;&#x9;           &#x9;EXCEPTION&amp;#10;           &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;MESSAGE('1418'||SQLERRM);MESSAGE('1418'||SQLERRM);--1818&amp;#10;           &#x9;&#x9;&#x9;WHEN OTHERS THEN---אם לזיהוי לא היה מד פעיל&amp;#10;           &#x9;&#x9;--&#x9;message(2);&#x9;&#x9;message(2);&#x9;--1010&amp;#10;           &#x9;&#x9;&#x9;v_alert:=DISPLAY_COMMENT('APP',50404,NULL,NULL,NULL,NULL);&amp;#10;           &amp;#10;           &#x9;&#x9;:NEW_WATER_ID.PERIOD_NUM:=NULL;&amp;#10;           &#x9; &#x9;:NEW_WATER_ID.FISCAL_YEAR:=NULL;&amp;#10;           &#x9; &#x9;&#x9;:NEW_WATER_ID.reading_date:=null;&amp;#10;           &#x9; &#x9;:NEW_WATER_ID.PREVIOUS_READING:=null;&amp;#10;           &#x9; &#x9;&amp;#10;           &#x9;&amp;#10;           &#x9;&#x9;RETURN -1;&amp;#10;&#x9;           &#x9;END;&amp;#10;&#x9;           &#x9;end if;&amp;#10;&#x9;           &#x9;--1&amp;#10;        END IF;&amp;#10;        &amp;#10; &amp;#10;        ELSE---אם לא מנסים להכניס קריאה ראשונית&amp;#10;        &amp;#10;      /* message(v_year||'  v_year');&amp;#10;       message(v_period||'  v_period');*/&amp;#10;       begin&amp;#10; &#x9;&#x9;&#x9;&#x9;SELECT MAX(READING_DATE)&amp;#10;  &#x9;&#x9;&#x9;INTO max_reading_date&amp;#10;        FROM WT_READINGS r&amp;#10;        WHERE  water_id=:QUERY.WATER_ID&amp;#10;        AND FISCAL_YEAR=v_year&amp;#10;        AND PERIOD_NUM=v_period;&#x9;&amp;#10;&amp;#10;   EXCEPTION&amp;#10;       &#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&#x9;  &#x9;MESSAGE(SQLERRM||'23');MESSAGE(SQLERRM||'23');&amp;#10;       &amp;#10;       &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;MESSAGE('1518'||SQLERRM);MESSAGE('1518'||SQLERRM);--1818&amp;#10;       &#x9;&#x9;&#x9; &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'i');MESSAGE(SQLERRM);&amp;#10;   end;     &amp;#10;   -- message('max_reading_date'||max_reading_date); message('max_reading_date'||max_reading_date);&amp;#10;&#x9;    :PARAMETER.P_MAX_READING_DATE:=max_reading_date;&amp;#10;&#x9;    :PARAMETER.P_PREV_NXT:='PREV';&amp;#10;&#x9; ----&amp;#10;&#x9; begin&amp;#10;&#x9; &#x9;  &amp;#10;&#x9;   select READING,GAUGE_SEQ,nvl(gauge_status_code,0),reading_seq&amp;#10;&#x9;     INTO v_reading,v_gauge_seq,v_gauge_status_code,:parameter.p_reading_seq&amp;#10;&#x9;     from WT_READINGS r&#x9; &amp;#10;&#x9;    where R.FISCAL_YEAR=v_year&#x9;     &amp;#10;&#x9;&#x9;    and R.PERIOD_NUM=&#x9;v_period&amp;#10;&#x9;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;    and reading_date=max_reading_date&amp;#10;&#x9;    ;&amp;#10;&#x9; &amp;#10;&#x9;   EXCEPTION&amp;#10;       WHEN no_data_found then &amp;#10;       &amp;#10;       &#x9;null;&#x9;&amp;#10;       &#x9;WHEN too_many_rows THEN&amp;#10;&#x9;   begin&amp;#10;&#x9;   &#x9; select READING,GAUGE_SEQ,nvl(gauge_status_code,0),reading_seq&amp;#10;&#x9;   INTO v_reading,v_gauge_seq,v_gauge_status_code,:parameter.p_reading_seq&amp;#10;&#x9;    from WT_READINGS r&amp;#10;&#x9; &amp;#10;&#x9;    where R.FISCAL_YEAR=v_year&amp;#10;&#x9;     &amp;#10;&#x9;    and R.PERIOD_NUM=&#x9;v_period&amp;#10;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;    and reading_date=max_reading_date&amp;#10;&#x9;    and reading_type=1;&amp;#10;&#x9;   &#x9;end;&amp;#10;       &#x9;--&#x9;MESSAGE('1616'||SQLERRM);MESSAGE('1616'||SQLERRM);--1818&amp;#10;       &#x9;--&amp;#10;       &#x9;/* &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'j');MESSAGE(SQLERRM);*/&amp;#10;       &#x9;end;&amp;#10;&#x9; if  :NEW_WATER_ID.GAUGE_STATUS_CODE!=0 then &amp;#10;&#x9;  &#x9;:NEW_WATER_ID.gauge_status_code:=v_gauge_status_code;&amp;#10;&#x9;  &#x9;begin&amp;#10;&#x9;   &#x9;select status_name&amp;#10;&#x9;&#x9;&#x9;INTO :NEW_WATER_ID.GAUGE_STATUS_DESC&amp;#10;&#x9;&#x9;&#x9;from wt_gauge_status_codes&amp;#10;&#x9;&#x9;&#x9;where stamp_action &lt;> 'D'&amp;#10;&#x9;&#x9;&#x9;AND status_code=:NEW_WATER_ID.GAUGE_STATUS_CODE;&amp;#10;&#x9;&#x9;&#x9;   EXCEPTION&amp;#10;       &#x9;&#x9;WHEN no_data_found then &amp;#10;       &#x9;&amp;#10;        &#x9;v_alert:=DISPLAY_COMMENT('APP',155,NULL,NULL,NULL);&amp;#10;        &#x9;&#x9;:NEW_WATER_ID.GAUGE_STATUS_DESC:=NULL;&amp;#10;         &#x9;:NEW_WATER_ID.GAUGE_STATUS_CODE:=NULL;&amp;#10;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;       &amp;#10;       &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;MESSAGE('1717'||SQLERRM);MESSAGE('1717'||SQLERRM);--1818&amp;#10;       &#x9;&#x9;&#x9; &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM||'k');MESSAGE(SQLERRM);&amp;#10;       &#x9;end;&amp;#10;&#x9;  end if;&amp;#10;&#x9;  &amp;#10;        &#x9; &amp;#10;        END IF;&amp;#10;   --------------------- &amp;#10;   /*brachi add*/    &amp;#10;--message(v_year||'v_year'); message(v_year||'v_year');--11&amp;#10;-- message(v_period||'v_period'); message(v_period||'v_period');--11&amp;#10;   /*begin&amp;#10;    select count(*),reading_type&amp;#10;    into counter&amp;#10;    from wt_readings&amp;#10;    where /*reading_type=3&amp;#10;    and* fiscal_year=v_year&amp;#10;    and period_num=v_period&amp;#10;    and water_id=:QUERY.WATER_ID;&amp;#10;   exception&amp;#10;   &#x9;when others then &amp;#10;   &#x9;&amp;#10;    end;&amp;#10;    if counter=1 and then*/&amp;#10;    if v_type=3 then&amp;#10;    &#x9;begin&amp;#10;    select install_reading&amp;#10;    into v_reading&amp;#10;          from   WT_GAUGES w&amp;#10;         where w.water_id=:QUERY.WATER_ID&amp;#10;         and w.install_date=(select w.install_date &amp;#10;                             from   WT_GAUGES w&amp;#10;                             where  w.water_id=:QUERY.WATER_ID&amp;#10;                             and    w.install_date &lt; :new_water_id.reading_date&amp;#10;                             and    nvl(disassemble_date,sysdate) > :new_water_id.reading_date);&amp;#10;       end; &amp;#10;          &amp;#10;       end if;&amp;#10;      -- message(v_reading||'v_reading'); message(v_reading||'v_reading');&amp;#10;&amp;#10;    ----------------------------------&amp;#10;&#x9;  --tzvia add in 09/06/2015&amp;#10;&#x9;  begin&amp;#10;&#x9;  &#x9;select wg.install_reading&amp;#10;&#x9;  &#x9;into v_temp &amp;#10;        from wt_readings wr, wt_gauges wg&amp;#10;        where wr.water_id=wg.water_id&amp;#10;        and wr.water_id =:QUERY.WATER_ID&amp;#10;        and wr.fiscal_year =v_year&amp;#10;        and wr.period_num =v_period&amp;#10;        and trunc(wg.install_date)>=trunc(wr.reading_date)&amp;#10;         /*Adi  19/03/2019 crm 420100*/&amp;#10;        and not exists (select 1 from wt_readings r&amp;#10;        where wr.water_id=r.water_id&amp;#10;        and r.reading_date>wg.install_date)&amp;#10;        /*end Adi  19/03/2019 crm 420100*/&amp;#10;        and trunc(wg.install_date) &lt;=to_date(:new_water_id.reading_date,'dd/mm/yyyy');&amp;#10;&amp;#10;        &#x9;v_reading:=v_temp;&amp;#10;        exception&amp;#10;        &#x9;when no_data_found&amp;#10;        &#x9;then null;&amp;#10;&#x9;  end;&amp;#10;&#x9;  &amp;#10;&#x9;  &amp;#10;  &#x9;RETURN v_reading;&amp;#10;       EXCEPTION&amp;#10;       &#x9;WHEN no_data_found THEN&amp;#10;       &#x9;null;&amp;#10;       &#x9;--&#x9;MESSAGE('kk'||SQLERRM);MESSAGE('kk'||SQLERRM);&amp;#10;       &#x9; &#x9;WHEN too_many_rows THEN&amp;#10;       &#x9;&#x9;MESSAGE('1818'||SQLERRM);MESSAGE('1818'||SQLERRM);--1818&amp;#10;       &#x9;WHEN OTHERS THEN&amp;#10;       &#x9;MESSAGE(SQLERRM);MESSAGE(SQLERRM);&amp;#10;       &#x9;v_reading:=0;&amp;#10;       &#x9;     &#x9;RETURN v_reading;&amp;#10;       END;&amp;#10;       v_reading:=NULL;&amp;#10;  &#x9;RETURN v_reading;&amp;#10;  END;&amp;#10;-----------------------------&amp;#10;  PROCEDURE VALIDATE_DATE&amp;#10;  IS&amp;#10;  &#x9;v_prv_date DATE;&amp;#10;   &#x9;v_nxt_date DATE;&amp;#10;   &#x9;v_allert NUMBER;&amp;#10;  BEGIN&amp;#10;  &#x9;BEGIN&amp;#10;  &#x9;       select READING_DATE&amp;#10;   &#x9;&#x9;&#x9;&#x9;into   v_prv_date&amp;#10;          from WT_READINGS r&amp;#10;          where R.FISCAL_YEAR=NVL(:PARAMETER.P_PRV_YEAR,0)&amp;#10;          and R.PERIOD_NUM=NVL(:PARAMETER.P_PRV_PERIOD,0)&amp;#10;          and water_id=:QUERY.WATER_ID;&amp;#10;  &#x9;EXCEPTION&amp;#10;  &#x9;&#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;v_prv_date:=NULL;&amp;#10;  &#x9;END;&amp;#10;  &#x9;BEGIN&amp;#10;  &#x9;      select READING_DATE&amp;#10;   &#x9;&#x9;&#x9;&#x9;into   v_nxt_date&amp;#10;          from WT_READINGS r&amp;#10;          where R.FISCAL_YEAR=NVL(:PARAMETER.P_NXT_YEAR,0)&amp;#10;          and R.PERIOD_NUM=NVL(:PARAMETER.P_NXT_PERIOD,0)&amp;#10;          and water_id=:QUERY.WATER_ID;&amp;#10;  &#x9;EXCEPTION&amp;#10;  &#x9;&#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;v_nxt_date:=NULL;&amp;#10;  &#x9;END;&amp;#10;  &#x9;IF v_nxt_date IS NOT NULL THEN&amp;#10;&#x9;  &#x9;IF :NEW_WATER_ID.READING_DATE>v_nxt_date THEN&amp;#10;&#x9;  &#x9;&#x9;v_allert:=DISPLAY_COMMENT('APP',782,NULL,NULL,NULL);&amp;#10;&#x9;  &#x9;&#x9;:NEW_WATER_ID.READING_DATE:=NULL;&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;  &#x9;END IF;&amp;#10;  &#x9;IF v_prv_date IS NOT NULL THEN&amp;#10;&#x9;  &#x9;IF :NEW_WATER_ID.READING_DATE&lt;v_prv_date THEN&amp;#10;&#x9;  &#x9;&#x9;v_allert:=DISPLAY_COMMENT('APP',783,NULL,NULL,NULL);&amp;#10;&#x9;  &#x9;&#x9;:NEW_WATER_ID.READING_DATE:=NULL;&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;  &#x9;END IF;&amp;#10;  &#x9;&amp;#10;  END;&amp;#10;  &amp;#10;-----------------------------  &amp;#10; /* FUNCTION VALIDATE_CURR_QTY RETURN NUMBER&amp;#10;  IS&amp;#10;     v_alert NUMBER;&amp;#10;     v_next_seq       NUMBER;&amp;#10;     v_return BOOLEAN;&amp;#10;     v_next_year   NUMBER;&amp;#10;     v_next_period NUMBER;&amp;#10;     v_next_reading NUMBER;&amp;#10;     v_next_pervious_reading  NUMBER; &amp;#10;     &#x9;v_year NUMBER;&amp;#10;  &#x9;v_period NUMBER;&amp;#10;  &#x9;v_reading NUMBER;&amp;#10;  &#x9;v_curr_gauge NUMBER;&amp;#10;  &#x9;v_nxt_gauge NUMBER;&amp;#10;  &#x9;v_prv_year NUMBER;&amp;#10;  &#x9;v_prv_period NUMBER;&amp;#10;  &#x9;  &#x9;v_nxt_year NUMBER;&amp;#10;  &#x9;v_nxt_period NUMBER;&amp;#10;  &#x9;v_min_reading_date DATE;&amp;#10; BEGIN&amp;#10;    &amp;#10;         :parameter.p_change_next_reading:='N';&amp;#10; &amp;#10;            ----------------------------------------------------------&amp;#10;      --   הודעה האם לעדכן קריאה הבאה רק אם יש קריאה הבאה &amp;#10;            wt_year_period_pkg.get_next_period(:NEW_WATER_ID.fiscal_year, :NEW_WATER_ID.period_num, :wt_readings_blk.region_code, v_next_year, v_next_period);&amp;#10;       &amp;#10;            BEGIN     &amp;#10;             select reading_seq,reading,previous_reading&amp;#10;             into   v_next_seq ,v_next_reading,v_next_pervious_reading  &amp;#10;             from   WT_READINGS r1&amp;#10;             where  water_id = :QUERY.water_id                               &amp;#10;            and   rownum=1; &amp;#10;           &amp;#10;           --- &amp;#10;            SELECT MAX(FISCAL_YEAR)&amp;#10;         INTO v_year&amp;#10;        FROM WT_READINGS r&amp;#10;        WHERE  water_id=:QUERY.WATER_ID&amp;#10;        AND FISCAL_YEAR&lt;=:NEW_WATER_ID.FISCAL_YEAR;&amp;#10;       IF :NEW_WATER_ID.PERIOD_NUM =1 THEN&amp;#10;           SELECT nvl(MAX(PERIOD_NUM),0) &amp;#10;           INTO v_period&amp;#10;&#x9;        FROM WT_READINGS r&amp;#10;&#x9;        WHERE  water_id=:QUERY.WATER_ID&amp;#10;&#x9;        AND FISCAL_YEAR&lt;=v_year-1&amp;#10;&#x9;        AND PERIOD_NUM&lt;=6;&amp;#10;       ELSE&amp;#10;       &#x9;SELECT nvl(MAX(PERIOD_NUM),0) &amp;#10;        INTO v_period&amp;#10;        FROM WT_READINGS r&amp;#10;        WHERE  water_id=:QUERY.WATER_ID&amp;#10;        AND FISCAL_YEAR=v_year&amp;#10;        AND PERIOD_NUM&lt;:NEW_WATER_ID.PERIOD_NUM;&amp;#10;       END IF;&amp;#10;       ----&amp;#10;        &amp;#10;            &#x9;IF :NEW_WATER_ID.PERIOD_NUM =6 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_year:=:NEW_WATER_ID.FISCAL_YEAR+1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_period:=1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_year:=:NEW_WATER_ID.FISCAL_YEAR;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_period:=:NEW_WATER_ID.PERIOD_NUM+1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; -- message(v_year||'  v_year'||v_period||'  v_period='|| :parameter.p_reading_seq||'  .p_reading_seq');message(21);&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;SELECT MIN(READING_DATE)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;INTO v_min_reading_date&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;FROM WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    WHERE R.FISCAL_YEAR>=v_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND R.PERIOD_NUM>=v_period&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and reading_seq=:parameter.p_reading_seq;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   -- end;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   select reading_seq&amp;#10;             &#x9;&#x9;into   v_next_seq &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    from WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    where R.FISCAL_YEAR>=v_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and R.PERIOD_NUM>=v_period&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND READING_DATE=v_min_reading_date;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    v_next_seq:=:parameter.p_reading_seq;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    --message(31);message(31);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    select reading,previous_reading,GAUGE_SEQ,FISCAL_YEAR,PERIOD_NUM&amp;#10;             &#x9;&#x9;into   v_next_reading,v_next_pervious_reading ,v_nxt_gauge,v_nxt_year,v_nxt_period&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    from WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    where R.FISCAL_YEAR>=v_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and R.PERIOD_NUM>=v_period&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and reading_seq=v_next_seq;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   -- message(41);message(41);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   -- :PARAMETER.P_READING_SEQ:=v_next_seq;&amp;#10;        &#x9;:PARAMETER.P_NXT_PERIOD:=v_period;&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:PARAMETER.P_NXT_YEAR:=v_year;&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:PARAMETER.P_NEXT_SEQ:=v_next_seq;&amp;#10;        EXCEPTION&amp;#10;            when NO_DATA_FOUND then&amp;#10;                 v_next_seq   :=0;&amp;#10;                 v_next_reading:=0;&amp;#10;                 v_next_pervious_reading:=0; &amp;#10;        END;&amp;#10;            &amp;#10;         -- message(2);message(2);&amp;#10;            ----------------------------------------------------------&amp;#10;             &#x9;---בדיקה שהמד של הקריאה הבאה אכן שווה למד של הקריאה הנוכחית ואז באמת צריך לעדכן את הקריאה הבאה&amp;#10;             &#x9;--המד של הקריאה הנוכית שווה למד של הקריאה הקודמ לכן שולפים אותו&amp;#10;             &#x9;IF :NEW_WATER_ID.PERIOD_NUM !=1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_prv_year:=:NEW_WATER_ID.FISCAL_YEAR;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_prv_period:=:NEW_WATER_ID.PERIOD_NUM-1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_prv_year:=:NEW_WATER_ID.FISCAL_YEAR-1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;v_prv_period:=6;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;:PARAMETER.P_PRV_PERIOD:=v_prv_period;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;:PARAMETER.P_PRV_YEAR:=v_prv_year;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  --&#x9;message(:PARAMETER.P_PRV_PERIOD||  ':PARAMETER.P_PRV_PERIOD');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  --&#x9;message(:PARAMETER.P_PRV_YEAR||'  :PARAMETER.P_PRV_YEAR');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  --&#x9;message(v_next_seq||'  v_next_seq');*&amp;#10;             IF  v_next_seq   !=0 THEN&amp;#10;             &#x9;&#x9;IF :PARAMETER.P_PREV_NXT='PREV' THEN         &amp;#10;&#x9;&#x9;              &#x9;select MAX(GAUGE_SEQ)&amp;#10;&#x9;&#x9;             &#x9;&#x9;into   v_curr_gauge&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    from WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    where R.FISCAL_YEAR&lt;=v_prv_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and R.PERIOD_NUM&lt;=v_prv_period&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and reading_date= :PARAMETER.P_MAX_READING_DATE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ELSE   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    select MIN(GAUGE_SEQ)&amp;#10;&#x9;&#x9;             &#x9;&#x9;into   v_curr_gauge&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    from WT_READINGS r&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    where R.FISCAL_YEAR>=v_nxt_year&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and R.PERIOD_NUM>=v_nxt_period&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and water_id=:QUERY.WATER_ID&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    and reading_date= :PARAMETER.P_MIN_READING_DATE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   IF v_nxt_gauge=v_curr_gauge THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     IF sr_code_values_pkg.get_varchar_value('wt_update_next_reading_always','Y')='N' then  --ADD BY CHANI 11.2013&amp;#10;&#x9;&#x9;               v_alert := DISPLAY_COMMENT('APP',1102,NULL,NULL,NULL,NULL);&amp;#10;&#x9;&#x9;               IF v_alert = ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;                     :parameter.p_change_next_reading:='Y';&amp;#10;&#x9;&#x9;               END IF;&amp;#10;&#x9;&#x9;             ELSE&amp;#10;&#x9;&#x9;               &#x9;:parameter.p_change_next_reading:='Y';&amp;#10;&#x9;&#x9;              END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;             &amp;#10;             END IF;   &amp;#10;            &amp;#10;         if :NEW_WATER_ID.reading&lt;:NEW_WATER_ID.PREVIOUS_READING then&amp;#10;             v_alert := DISPLAY_COMMENT('APP',50207,NULL,NULL,NULL,NULL);&amp;#10;             :NEW_WATER_ID.reading:=null;&amp;#10;             --RAISE FORM_TRIGGER_FAILURE;&amp;#10;             RETURN 0;&amp;#10;         end if;&amp;#10;       IF  v_next_seq!=0 THEN  &amp;#10;          IF  :parameter.p_change_next_reading='Y' THEN&amp;#10;             IF :NEW_WATER_ID.reading> v_next_reading THEN&amp;#10;             &#x9; v_alert := DISPLAY_COMMENT('APP',444,NULL,'עדכון הקריאה יגרום שבתקופה הבאה קריאה קודמת תיהיה יותר גדולה מקריאה נוכחית.',NULL,NULL);&amp;#10;                 :NEW_WATER_ID.reading:=null;&amp;#10;                 :NEW_WATER_ID.QTY:=NULL;&amp;#10;                 --RAISE FORM_TRIGGER_FAILURE;&amp;#10;                 RETURN 0;&amp;#10;             END IF;&amp;#10;          END IF;&amp;#10;       END IF; &amp;#10;     --  END IF;&amp;#10;      --RETURN 1;&amp;#10;         &amp;#10;/*EXCEPTION&amp;#10;&#x9;WHEN OTHERS THEN &amp;#10;&#x9;&#x9;NULL;&amp;#10;&#x9;END;     */&amp;#10;&amp;#10;&amp;#10;  END;"/>
      <ProgramUnit Name="CALL_HISTORY" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE CALL_HISTORY&amp;#10;IS&amp;#10;  plParamList   PARAMLIST;&#x9;&#x9;                      /* parameter list for the form  */&amp;#10;  plListName    VARCHAR2(30);&#x9;                            /* name of the parameter list&#x9;*/&amp;#10;  bParameters&#x9;BOOLEAN := TRUE;&#x9;                      /* indicate a valid parameter   */&amp;#10;  cForm         VARCHAR2(30) := 'WT_READINGS_HIST';  /* name of the IMAGES FORM&#x9;*/    &amp;#10;  v_alert number;&amp;#10;BEGIN&amp;#10;&amp;#10;        -- create a parameter list ...&amp;#10;    plListName  := 'PL_HISTORY';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    if not ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    end if;&amp;#10;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    if ID_NULL(plParamList) then&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;    else&amp;#10;       ADD_PARAMETER(plParamList, 'P_WATER_ID',   TEXT_PARAMETER, :WT_READINGS_BLK.water_id );&amp;#10;       ADD_PARAMETER(plParamList, 'P_FISCAL_YEAR',TEXT_PARAMETER, :WT_READINGS_BLK.fiscal_year );&amp;#10;       ADD_PARAMETER(plParamList, 'P_PERIOD_NUM', TEXT_PARAMETER, :WT_READINGS_BLK.period_num );&amp;#10;       ADD_PARAMETER(plParamList, 'P_REGION_CODE', TEXT_PARAMETER,:WT_READINGS_BLK.region_code);&amp;#10;       ADD_PARAMETER(plParamList, 'P_READING_TYPE', TEXT_PARAMETER,:WT_READINGS_BLK.reading_type);&amp;#10;       --ADD_PARAMETER(plParamList, 'P_READING_SEQ', TEXT_PARAMETER,:WT_READINGS_BLK.reading_seq);remove by chani 9.2013&amp;#10;    end if;&amp;#10;&amp;#10;    IF bParameters THEN&amp;#10;       -- invoke the image viewer with or without the PARAMETERS ...&amp;#10;       CALL_FORM(cForm, NO_HIDE, NO_REPLACE, NO_QUERY_ONLY, plParamList );&amp;#10;    ELSE&amp;#10;       CALL_FORM(cForm, NO_HIDE );&amp;#10;    END IF;&amp;#10;&amp;#10;    EXCEPTION&amp;#10;    &#x9;when others then&amp;#10;    &#x9;   SET_APPLICATION_PROPERTY(CURSOR_STYLE,'DEFAULT');&amp;#10;         v_alert := DISPLAY_COMMENT('APP',918,NULL,SQLERRM,NULL);&amp;#10;END;"/>
      <ProgramUnit Name="PRINT_REP" ProgramUnitType="Procedure" ProgramUnitText="----rachely 10/10/2013  begin&amp;#10;PROCEDURE Print_Rep&amp;#10;IS&amp;#10;&amp;#10; v_print_copies rm_print_copies.print_copies_num%type; &amp;#10;   v_params run_report_pkg.report_params_table; &amp;#10;   v_report_name rm_activity_versions.FILE_NAME%type;   &amp;#10;BEGIN&amp;#10;&amp;#10;   v_params.delete; &amp;#10;   v_params(1).param_name:='P_WATER_ID';&amp;#10;   v_params(1).param_value:=:WT_READINGS_BLK.water_id;&amp;#10;    v_params(2).param_name:='P_PERIOD_NUM';&amp;#10;   v_params(2).param_value:= :WT_READINGS_BLK.period_num;&amp;#10;    v_params(3).param_name:='P_FISCAL_YEAR';&amp;#10;   v_params(3).param_value:=:WT_READINGS_BLK.FISCAL_YEAR;&amp;#10;    v_report_name  := report_proc_pkg.get_file_name(871,24);&amp;#10;   v_print_copies := report_proc_pkg.Get_Print_Copies(871,24);  &#x9;  &amp;#10;  if form_success then&amp;#10;   run_report_pkg.run_report ('DUMMY',&amp;#10;                             v_report_name,&amp;#10;                            v_params,&amp;#10;                              1,&amp;#10;                              CACHE ); &amp;#10;end if;&amp;#10;  exception&amp;#10;  &#x9;when others then&#x9;&amp;#10;  &amp;#10;  &#x9; message(sqlerrm);   message(sqlerrm);&amp;#10;  END;  &amp;#10; ----rachely 10/10/2013 end;"/>
      <ProgramUnit Name="PRINT_REP_2" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE print_rep_2 IS  &amp;#10;  ----tzvia 21/10/2013  begin&amp;#10;&amp;#10; v_print_copies rm_print_copies.print_copies_num%type; &amp;#10;   v_params run_report_pkg.report_params_table; &amp;#10;   v_report_name rm_activity_versions.FILE_NAME%type;   &amp;#10;  BEGIN&amp;#10;  &#x9;/*brachi c hange 092014*/&amp;#10;   v_params.delete; &amp;#10; &amp;#10;   v_params(1).param_name:='P_obj_ID';&amp;#10;   v_params(1).param_value:=:QUERY.OBJ_ID;&amp;#10;    v_params(2).param_name:='P_obj_subj_code';&amp;#10;   v_params(2).param_value:= :global.obj_subj_code;&amp;#10;    v_params(3).param_name:='P_water_serv_code';&amp;#10;   v_params(3).param_value:=:global.water_serv_code;&amp;#10;    v_params(4).param_name:='P_excel';&amp;#10;   v_params(4).param_value:=:query.excel;&amp;#10;    v_params(5).param_name:='P_reading_type';&amp;#10;   v_params(5).param_value:=:global.reading_type;&amp;#10;     v_params(6).param_name:='p_water_id';&amp;#10;   v_params(6).param_value:=:QUERY.water_ID;&amp;#10;    v_report_name  := report_proc_pkg.get_file_name(874,24);&amp;#10;   v_print_copies := report_proc_pkg.Get_Print_Copies(874,24);  &#x9;  &amp;#10;  if form_success then&amp;#10;   run_report_pkg.run_report ('DUMMY',&amp;#10;                             v_report_name,&amp;#10;                            v_params,&amp;#10;                              1,&amp;#10;                              CACHE ); &amp;#10;end if;&amp;#10;  exception&amp;#10;  &#x9;when others then&#x9;&amp;#10;  &amp;#10;  &#x9; message(sqlerrm);   message(sqlerrm);&amp;#10;  END;&amp;#10;  ---tzvia 21/10/2013"/>
      <ProgramUnit Name="SHOW_IMAGE" ProgramUnitType="Procedure" ProgramUnitText="--tzvia 06/2014&amp;#10;PROCEDURE show_image IS&amp;#10;v_image_seq number;&amp;#10;v_image_name varchar2(1000);&amp;#10;v_ext        varchar2(5);&amp;#10;v_path       varchar2(1000);&amp;#10;BEGIN&amp;#10;&#x9;v_ext :='.jpg';&amp;#10;&#x9;v_path:=Get_Desc_Pkg.get_global_value('READINGS_IMAGES_PATH');&amp;#10;&#x9;&amp;#10;  /*select image_seq&amp;#10;  into&#x9; v_image_seq&amp;#10;  from   WT_PT_UNLOAD_READING_IMAGES&amp;#10;  where  water_id   =:WT_READINGS_BLK.water_id&amp;#10;  and    period_num =:WT_READINGS_BLK.period_num&amp;#10;  and    fiscal_year=:WT_READINGS_BLK.fiscal_year;&amp;#10;  */&amp;#10;  select image_seq&amp;#10;  into&#x9; v_image_seq &amp;#10;  from   wt_reading_images&amp;#10;  where  reading_seq = :WT_READINGS_BLK.reading_seq;&amp;#10;  &amp;#10;  v_image_name:=v_image_seq||v_ext; &amp;#10;  &amp;#10;  host('cmd /c start ' ||v_path || v_image_name );&amp;#10;   --client_host&amp;#10;exception &amp;#10;&#x9;when others then &amp;#10;&#x9;message('others: '||sqlerrm);&#x9;message('others: '||sqlerrm);&amp;#10;END;"/>
      <ProgramUnit Name="IMAGES_PKG" ProgramUnitType="Package Spec" ProgramUnitText="PACKAGE images_pkg IS&amp;#10;   procedure show_image(p_folder varchar2,p_image_seq number);&amp;#10;    procedure main(p_folder varchar2,p_reading_seq number);&amp;#10; procedure show_button_image(p_reading_seq number,p_tav varchar2 default null);&amp;#10;procedure show_image2(p_folder varchar2,p_image_seq number);--chani_l ממזגת את השינויים של חני הבלין&amp;#10;END;"/>
      <ProgramUnit Name="IMAGES_PKG" ProgramUnitType="Package Body" ProgramUnitText="PACKAGE BODY images_pkg IS&amp;#10; procedure show_image(p_folder varchar2,p_image_seq number)&amp;#10; is&amp;#10; --&#x9;v_image_seq number;&amp;#10;&#x9;v_image_name varchar2(1000);&amp;#10;&#x9;v_ext        varchar2(5);&amp;#10;&#x9;v_path       varchar2(1000);&amp;#10;&#x9;v_temp      varchar2(20000);&amp;#10;&#x9;V_NAME varchar2(20000);&amp;#10;BEGIN&amp;#10;&#x9;v_ext :='.jpg';&amp;#10;&#x9;v_path:=Get_Desc_Pkg.get_global_value('READINGS_IMAGES_PATH');&amp;#10;&#x9;&amp;#10;  /*select image_seq&amp;#10;  into&#x9; v_image_seq &amp;#10;  from   wt_reading_images&amp;#10;  where  reading_seq = :WT_READINGS_BLK.reading_seq;&amp;#10;  */&amp;#10;  v_image_name:=p_image_seq||v_ext; &amp;#10;  &amp;#10;  --host('cmd /c start ' ||v_path || v_image_name );&amp;#10;  v_temp:='cmd /c start ' ||v_path ||p_folder|| v_image_name;&amp;#10;   --tzvia close 06/2015 client_host('cmd /c start ' ||v_path || v_image_name);&amp;#10;  &amp;#10;  V_NAME := computer_data_pkg.get_url_string||nvl(:global.IMAGE_VIRTUAL_DISPLAY,'/forms/image_disp')||'/readings/'||p_folder||v_image_name;&amp;#10;  web.show_document(V_NAME,'_SELF');    &amp;#10;  &amp;#10;exception &amp;#10;&#x9;when others then &amp;#10;&#x9;message('others: '||sqlerrm);&#x9;message('others: '||sqlerrm);&amp;#10;end;&amp;#10;---------------------------------------------------------------------------------------&amp;#10;procedure show_image2(p_folder varchar2,p_image_seq number)&amp;#10; is&amp;#10; &#x9;v_image_name varchar2(1000);&amp;#10;&#x9;v_ext        varchar2(5);&amp;#10;&#x9;v_path       varchar2(1000);&amp;#10;&#x9;v_temp      varchar2(20000);&amp;#10;&#x9;V_NAME varchar2(20000);&amp;#10;&#x9;v_alert number;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;&#x9;&amp;#10;if :IMAGES.IMAGE_LINK is not null then &amp;#10;&#x9; --v_alert := DISPLAY_COMMENT('APP',397,NULL,' 1 בדיקה',NULL,NULL);&amp;#10;&#x9;READ_IMAGE_FILE(:global.GLOBAL_IMAGES_PATH||'error_folder.jpg','any','DETAILS.PIC');&amp;#10;&#x9;READ_IMAGE_FILE(:global.GLOBAL_IMAGES_PATH||'error_folder.jpg','any','BIG_PIC.PIC');&amp;#10;&#x9;&amp;#10;else&amp;#10;&#x9; --v_alert := DISPLAY_COMMENT('APP',397,NULL,' 2 בדיקה',NULL,NULL);&amp;#10;&#x9;v_ext :='.jpg';&amp;#10;  v_image_name:=p_image_seq||v_ext; &amp;#10;  &amp;#10;&#x9;&#x9;&#x9;if :IMAGES.from_table='WT_WORK_COMMANDS_IMAGES' then &amp;#10;&#x9;&#x9;&#x9;&#x9;READ_IMAGE_FILE('X:\avivim\commands\'||p_folder||v_image_name,'any','DETAILS.PIC');&amp;#10;&#x9;&#x9;&#x9;&#x9;READ_IMAGE_FILE('X:\avivim\commands\'||p_folder||v_image_name,'any','BIG_PIC.PIC');&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;elsif :IMAGES.from_table='WT_READING_IMAGES' then &amp;#10;&#x9;insert_debug('1381: in - '||'X:\avivim\readings\'||p_folder||v_image_name&amp;#10;&#x9;);&#x9;&#x9;&#x9;&amp;#10;  &#x9;&#x9;READ_IMAGE_FILE('X:\avivim\readings\'||p_folder||v_image_name,'any','DETAILS.PIC');&amp;#10;&#x9;&#x9;&#x9;READ_IMAGE_FILE('X:\avivim\readings\'||p_folder||v_image_name,'any','BIG_PIC.PIC');&amp;#10;  &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;end if;&amp;#10;end if;&amp;#10;go_block('DETAILS');&amp;#10;&amp;#10;&#x9;&#x9;insert_debug('1381: p_folder - '||p_folder);&amp;#10;&#x9;&#x9;insert_debug('1381: p_image_seq - '||p_image_seq);&amp;#10;&#x9;&#x9;insert_debug('1381: :IMAGES.IMAGE_LINK - '||:IMAGES.IMAGE_LINK);&amp;#10;&amp;#10;&amp;#10;--V_NAME := computer_data_pkg.get_url_string||nvl(:global.IMAGE_VIRTUAL_DISPLAY,'/forms/image_disp')||'/readings/'||p_folder||v_image_name;&amp;#10;--insert_debug('1381: :V_NAME - '||V_NAME);&amp;#10; -- web.show_document(V_NAME,'_SELF');    &amp;#10;  &amp;#10;&amp;#10;exception &amp;#10;&#x9;when others then &amp;#10;&#x9;READ_IMAGE_FILE(:global.GLOBAL_IMAGES_PATH||'error_folder.jpg','any','DETAILS.PIC');&amp;#10;&#x9;READ_IMAGE_FILE(:global.GLOBAL_IMAGES_PATH||'error_folder.jpg','any','BIG_PIC.PIC');&amp;#10;end;&amp;#10;--------------------------------------------------------------------*/&amp;#10;&amp;#10;&amp;#10;--------------------------------------------------------------------*/&amp;#10;function count_images_for_reading(p_reading_seq number)return number&amp;#10;is&amp;#10;v_count number:=0;&amp;#10;begin&amp;#10;&#x9;begin&amp;#10;&#x9;&#x9;select count(image_seq)&amp;#10;&#x9;  into&#x9; v_count &amp;#10;&#x9;  from   wt_reading_images&amp;#10;&#x9;  where  reading_seq = p_reading_seq;&amp;#10;&#x9;exception&amp;#10;&#x9;&#x9;when no_data_found then&amp;#10;&#x9;&#x9;&#x9;v_count :=0;&amp;#10;&#x9;end;&amp;#10;&#x9;return v_count;&amp;#10;end;&#x9;&amp;#10;&amp;#10; procedure main(p_folder varchar2,p_reading_seq number)&amp;#10; is&amp;#10; v_count number:=0;&amp;#10; v_image_seq number;&amp;#10; begin&amp;#10; &#x9;v_count := count_images_for_reading(p_reading_seq);&amp;#10; &#x9;&amp;#10;&#x9;if v_count = 1 then&amp;#10;  &#x9;select image_seq&amp;#10;  &#x9;into&#x9; v_image_seq &amp;#10;  &#x9;from   wt_reading_images&amp;#10;  &#x9;where  reading_seq = p_reading_seq;&amp;#10;  &#x9;&amp;#10;  &#x9;show_image(p_folder,v_image_seq);&amp;#10;  &#x9;--&#x9;show_image2(p_folder,v_image_seq);&amp;#10;  &#x9;&amp;#10;&#x9;elsif v_count > 1 then&amp;#10;&#x9;&#x9;go_block('WT_READING_IMAGES');&amp;#10;  end if;&amp;#10; end;&amp;#10; &amp;#10; procedure show_button_image(p_reading_seq number,p_tav varchar2 default null)&amp;#10; is&amp;#10; v_count number;&amp;#10; begin&amp;#10; &#x9;&#x9;v_count := count_images_for_reading(p_reading_seq);&amp;#10; &#x9;&#x9;if v_count=0 then&amp;#10; &#x9;&#x9;buttons_pkg.enabled_true_false(NULL,NULL,&amp;#10;                               'control.BTN_PRINT_IMAGE',0,&amp;#10;                               NULL,NULL, NULL,NULL,&amp;#10;                               NULL,NULL, NULL,NULL);&amp;#10;   elsif v_count>0 and p_tav is not null then&amp;#10;   &#x9;:WT_READINGS_BLK.image:='*';&amp;#10;    end if;&amp;#10; end;&amp;#10; &amp;#10;END;"/>
      <ProgramUnit Name="CHECK_PACKAGE_FAILURE" ProgramUnitType="Procedure" ProgramUnitText="Procedure Check_Package_Failure IS&amp;#10;BEGIN&amp;#10;  IF NOT ( Form_Success ) THEN&amp;#10;    RAISE Form_Trigger_Failure;&amp;#10;  END IF;&amp;#10;END;"/>
      <ProgramUnit Name="QUERY_MASTER_DETAILS" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE Query_Master_Details(rel_id Relation,detail VARCHAR2) IS&amp;#10;  oldmsg VARCHAR2(2);  -- Old Message Level Setting&amp;#10;  reldef VARCHAR2(5);  -- Relation Deferred Setting&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Initialize Local Variable(s)&amp;#10;  --&amp;#10;  reldef := Get_Relation_Property(rel_id, DEFERRED_COORDINATION);&amp;#10;  oldmsg := :System.Message_Level;&amp;#10;  --&amp;#10;  -- If NOT Deferred, Goto detail and execute the query.&amp;#10;  --&amp;#10;  IF reldef = 'FALSE' THEN&amp;#10;    Go_Block(detail);&amp;#10;    Check_Package_Failure;&amp;#10;    :System.Message_Level := '10';&amp;#10;    Execute_Query;&amp;#10;    :System.Message_Level := oldmsg;&amp;#10;  ELSE&amp;#10;    --&amp;#10;    -- Relation is deferred, mark the detail block as un-coordinated&amp;#10;    --&amp;#10;    Set_Block_Property(detail, COORDINATION_STATUS, NON_COORDINATED);&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;    WHEN Form_Trigger_Failure THEN&amp;#10;      :System.Message_Level := oldmsg;&amp;#10;      RAISE;&amp;#10;END Query_Master_Details;&amp;#10;"/>
      <ProgramUnit Name="CLEAR_ALL_MASTER_DETAILS" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE Clear_All_Master_Details IS&amp;#10;  mastblk  VARCHAR2(30);  -- Initial Master Block Causing Coord&amp;#10;  coordop  VARCHAR2(30);  -- Operation Causing the Coord&amp;#10;  trigblk  VARCHAR2(30);  -- Cur Block On-Clear-Details Fires On&amp;#10;  startitm VARCHAR2(61);  -- Item in which cursor started&amp;#10;  frmstat  VARCHAR2(15);  -- Form Status&amp;#10;  curblk   VARCHAR2(30);  -- Current Block&amp;#10;  currel   VARCHAR2(30);  -- Current Relation&amp;#10;  curdtl   VARCHAR2(30);  -- Current Detail Block&amp;#10;&amp;#10;  FUNCTION First_Changed_Block_Below(Master VARCHAR2)&amp;#10;  RETURN VARCHAR2 IS&amp;#10;    curblk VARCHAR2(30);  -- Current Block&amp;#10;    currel VARCHAR2(30);  -- Current Relation&amp;#10;    retblk VARCHAR2(30);  -- Return Block&amp;#10;  BEGIN&amp;#10;    --&amp;#10;    -- Initialize Local Vars&amp;#10;    --&amp;#10;    curblk := Master;&amp;#10;    currel := Get_Block_Property(curblk,  FIRST_MASTER_RELATION);&amp;#10;    --&amp;#10;    -- While there exists another relation for this block&amp;#10;    --&amp;#10;    WHILE currel IS NOT NULL LOOP&amp;#10;      --&amp;#10;      -- Get the name of the detail block&amp;#10;      --&amp;#10;      curblk := Get_Relation_Property(currel, DETAIL_NAME);&amp;#10;      --&amp;#10;      -- If this block has changes, return its name&amp;#10;      --&amp;#10;      IF ( Get_Block_Property(curblk, STATUS) = 'CHANGED' ) THEN&amp;#10;        RETURN curblk;&amp;#10;      ELSE&amp;#10;        --&amp;#10;        -- No changes, recursively look for changed blocks below&amp;#10;        --&amp;#10;        retblk := First_Changed_Block_Below(curblk);&amp;#10;        --&amp;#10;        -- If some block below is changed, return its name&amp;#10;        --&amp;#10;        IF retblk IS NOT NULL THEN&amp;#10;          RETURN retblk;&amp;#10;        ELSE&amp;#10;          --&amp;#10;          -- Consider the next relation&amp;#10;          --&amp;#10;          currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;#10;        END IF;&amp;#10;      END IF;&amp;#10;    END LOOP;&amp;#10;&amp;#10;    --&amp;#10;    -- No changed blocks were found&amp;#10;    --&amp;#10;    RETURN NULL;&amp;#10;  END First_Changed_Block_Below;&amp;#10;&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Init Local Vars&amp;#10;  --&amp;#10;  mastblk  := :System.Master_Block;&amp;#10;  coordop  := :System.Coordination_Operation;&amp;#10;  trigblk  := :System.Trigger_Block;&amp;#10;  startitm := :System.Cursor_Item;&amp;#10;  frmstat  := :System.Form_Status;&amp;#10;&amp;#10;  --&amp;#10;  -- If the coordination operation is anything but CLEAR_RECORD or&amp;#10;  -- SYNCHRONIZE_BLOCKS, then continue checking.&amp;#10;  --&amp;#10;  IF coordop NOT IN ('CLEAR_RECORD', 'SYNCHRONIZE_BLOCKS') THEN&amp;#10;    --&amp;#10;    -- If we're processing the driving master block...&amp;#10;    --&amp;#10;    IF mastblk = trigblk THEN&amp;#10;      --&amp;#10;      -- If something in the form is changed, find the&amp;#10;      -- first changed block below the master&amp;#10;      --&amp;#10;      IF frmstat = 'CHANGED' THEN&amp;#10;        curblk := First_Changed_Block_Below(mastblk);&amp;#10;        --&amp;#10;        -- If we find a changed block below, go there&amp;#10;        -- and Ask to commit the changes.&amp;#10;        --&amp;#10;        IF curblk IS NOT NULL THEN&amp;#10;          Go_Block(curblk);&amp;#10;          Check_Package_Failure;&amp;#10;          Clear_Block(ASK_COMMIT);&amp;#10;          --&amp;#10;          -- If user cancels commit dialog, raise error&amp;#10;          --&amp;#10;          IF NOT ( :System.Form_Status = 'QUERY'&amp;#10;                   OR :System.Block_Status = 'NEW' ) THEN&amp;#10;            RAISE Form_Trigger_Failure;&amp;#10;          END IF;&amp;#10;        END IF;&amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;  END IF;&amp;#10;&amp;#10;  --&amp;#10;  -- Clear all the detail blocks for this master without&amp;#10;  -- any further asking to commit.&amp;#10;  --&amp;#10;  currel := Get_Block_Property(trigblk, FIRST_MASTER_RELATION);&amp;#10;  WHILE currel IS NOT NULL LOOP&amp;#10;    curdtl := Get_Relation_Property(currel, DETAIL_NAME);&amp;#10;    IF Get_Block_Property(curdtl, STATUS) &lt;> 'NEW'  THEN&amp;#10;      Go_Block(curdtl);&amp;#10;      Check_Package_Failure;&amp;#10;      Clear_Block(NO_VALIDATE);&amp;#10;      IF :System.Block_Status &lt;> 'NEW' THEN&amp;#10;        RAISE Form_Trigger_Failure;&amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;    currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;#10;  END LOOP;&amp;#10;&amp;#10;  --&amp;#10;  -- Put cursor back where it started&amp;#10;  --&amp;#10;  IF :System.Cursor_Item &lt;> startitm THEN&amp;#10;    Go_Item(startitm);&amp;#10;    Check_Package_Failure;&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;  WHEN Form_Trigger_Failure THEN&amp;#10;    IF :System.Cursor_Item &lt;> startitm THEN&amp;#10;      Go_Item(startitm);&amp;#10;    END IF;&amp;#10;    RAISE;&amp;#10;&amp;#10;END Clear_All_Master_Details;&amp;#10;"/>
      <ProgramUnit Name="POPULATE_PKG_SEARCH" SubclassObjectGroup="true" ProgramUnitType="Package Body" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <ProgramUnit Name="POPULATE_PKG_SEARCH" SubclassObjectGroup="true" ProgramUnitType="Package Spec" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <ProgramUnit Name="CALL_RETRO_FORM" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE CALL_retro_form(infrom_period in number,&amp;#10;                          into_period in number,&amp;#10;                          infrom_year in number,&amp;#10;                          into_year in number) IS&amp;#10;  plParamList   PARAMLIST;&#x9;&#x9;                      /* parameter list for the form  */&amp;#10;  plListName    VARCHAR2(16);&#x9;                            /* name of the parameter list&#x9;*/&amp;#10;  bParameters&#x9;BOOLEAN := TRUE;&#x9;                      /* indicate a valid parameter   */&amp;#10;  cForm         VARCHAR2(30) := 'wt_retro_Ver2';             /* name of the CALL FORM&#x9;*/    &amp;#10;&amp;#10;BEGIN&amp;#10;    -- create a parameter list ...&amp;#10;    plListName  := 'PL_retro';&amp;#10;    plParamList := GET_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    IF NOT ID_NULL(plParamList) then&amp;#10;       DESTROY_PARAMETER_LIST(plListName);&amp;#10;    END IF;&amp;#10;&amp;#10;    plParamList := CREATE_PARAMETER_LIST(plListName); &amp;#10;&amp;#10;    IF ID_NULL(plParamList) THEN&amp;#10;       -- set the flag to FALSE if there is an ERROR ...&amp;#10;       bParameters := FALSE;&amp;#10;       ELSE&amp;#10;       ADD_PARAMETER(plParamList, 'p_run_from_period',TEXT_PARAMETER,infrom_period);&amp;#10;       ADD_PARAMETER(plParamList, 'p_run_to_period',TEXT_PARAMETER,into_period);&amp;#10;       ADD_PARAMETER(plParamList, 'p_run_from_year',TEXT_PARAMETER,infrom_year);&amp;#10;       ADD_PARAMETER(plParamList, 'p_run_to_year',TEXT_PARAMETER,into_year);&amp;#10;&amp;#10;    END IF;&amp;#10;&amp;#10;    IF bParameters THEN&amp;#10;       CALL_FORM(cForm, NO_HIDE,NO_REPLACE,  NO_QUERY_ONLY, plParamList );&amp;#10;    ELSE&amp;#10;       CALL_FORM(cForm);&amp;#10;    END IF;&amp;#10;END;"/>
      <ProgramUnit Name="T_DEBUG" SubclassObjectGroup="true" ProgramUnitType="Package Body" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="T_DEBUG" SubclassObjectGroup="true" ProgramUnitType="Package Spec" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="T" SubclassObjectGroup="true" ProgramUnitType="Package Body" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="T" SubclassObjectGroup="true" ProgramUnitType="Package Spec" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="FORM_PKG" SubclassObjectGroup="true" ProgramUnitType="Package Body" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="FORM_PKG" SubclassObjectGroup="true" ProgramUnitType="Package Spec" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="POPULATE_LIST_WITH_QUERY" SubclassObjectGroup="true" ProgramUnitType="Procedure" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="PERFORM_FOR_ALL" SubclassObjectGroup="true" ProgramUnitType="Procedure" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="D" SubclassObjectGroup="true" ProgramUnitType="Package Body" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="D" SubclassObjectGroup="true" ProgramUnitType="Package Spec" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <ProgramUnit Name="CHECK_IF_NULL" ProgramUnitType="Function" ProgramUnitText="/* בדיקה על שדות מנדטורים */&amp;#10;/* TRUE - שדות חובה מלאים */&amp;#10;/* FALSE - חסר ערכים בשדות חובה */&amp;#10;FUNCTION Check_If_Null  (BlockId IN varchar2) &amp;#10;RETURN BOOLEAN&amp;#10;IS&amp;#10;  v_first_item  varchar2(100);&amp;#10;  v_next_item   varchar2(100);&amp;#10;  N NUMBER;&amp;#10;BEGIN&amp;#10;  v_first_item := BlockId||'.'||get_block_property(BlockID, first_item);&amp;#10;  v_next_item  := v_first_item;&amp;#10;  LOOP&amp;#10;  &#x9;IF get_item_property(v_next_item,hint_text) = 'Mandatory' &amp;#10;     &#x9;                AND get_item_property(v_next_item,visible) = 'TRUE' THEN        &amp;#10;        IF name_in(v_next_item) is null then&amp;#10;        &#x9; go_item(v_next_item);&amp;#10;           bell;&amp;#10;           N:=DISPLAY_COMMENT('APP',197,NULL,nvl(get_item_property(v_next_item,prompt_text),'Item'),NULL,NULL);&amp;#10;           return FALSE;&amp;#10;        END IF;&amp;#10;     END IF;&amp;#10;     v_next_item := get_item_property(v_next_item,NextItem);&amp;#10;     IF v_next_item is not null then&amp;#10;        v_next_item := BlockId||'.'||v_next_item;&amp;#10;     END IF;&amp;#10;     exit when NVL(v_next_item,v_first_item)=v_first_item;&amp;#10;  END LOOP;&amp;#10;  return TRUE;  &amp;#10;END;&amp;#10;"/>
      <ProgramUnit Name="F_FIX_999999" ProgramUnitType="Function" ProgramUnitText="  FUNCTION F_fix_999999 (p_reading IN NUMBER, p_pre_reading IN NUMBER)&amp;#10;   RETURN NUMBER&amp;#10;IS&amp;#10;        v_qty        NUMBER;&amp;#10;        v_fix_pre    NUMBER;&amp;#10;        v_fix_curr   NUMBER;&amp;#10;    BEGIN&amp;#10;        IF p_pre_reading > 9999999&amp;#10;        THEN&amp;#10;            IF INSTR (p_pre_reading,&amp;#10;                      '.',&amp;#10;                      1,&amp;#10;                      1) &lt; 9&amp;#10;            THEN&amp;#10;                IF INSTR (p_pre_reading,&amp;#10;                          '.',&amp;#10;                          1,&amp;#10;                          1) = 0&amp;#10;                THEN&amp;#10;                    v_fix_pre := LPAD (p_pre_reading, 8, '9');&amp;#10;                ELSE&amp;#10;                    v_fix_pre := '9' || p_pre_reading;&amp;#10;                END IF;&amp;#10;            ELSE&amp;#10;                v_fix_pre := p_pre_reading;&amp;#10;            END IF;&amp;#10;&amp;#10;            v_fix_pre := 100000000 - v_fix_pre;&amp;#10;        ELSE&amp;#10;            v_fix_pre := p_pre_reading;&amp;#10;        END IF;&amp;#10;&amp;#10;        ------------------------&amp;#10;        IF p_reading > 9999999&amp;#10;        THEN&amp;#10;            IF INSTR (p_reading,&amp;#10;                      '.',&amp;#10;                      1,&amp;#10;                      1) &lt; 9&amp;#10;            THEN&amp;#10;                IF INSTR (p_reading,&amp;#10;                          '.',&amp;#10;                          1,&amp;#10;                          1) = 0&amp;#10;                THEN&amp;#10;                    v_fix_curr := LPAD (p_reading, 8, '9');&amp;#10;                ELSE&amp;#10;                    v_fix_curr := '9' || p_reading;&amp;#10;                END IF;&amp;#10;            ELSE&amp;#10;                v_fix_curr := p_reading;&amp;#10;            END IF;&amp;#10;&amp;#10;            v_fix_curr := 100000000 - v_fix_curr;&amp;#10;        ELSE&amp;#10;            v_fix_curr := p_reading;&amp;#10;        END IF;&amp;#10;&amp;#10;        IF p_pre_reading > 9999999 AND p_reading > 9999999&amp;#10;        THEN&amp;#10;            IF p_pre_reading > p_reading&amp;#10;            THEN&amp;#10;                v_qty := p_pre_reading - p_reading;&amp;#10;            ELSE&amp;#10;                v_qty := p_reading - p_pre_reading;&amp;#10;            END IF;&amp;#10;        ELSE&amp;#10;            v_qty := v_fix_pre + v_fix_curr;&amp;#10;        END IF;&amp;#10;&amp;#10;        RETURN v_qty;&amp;#10; &amp;#10;&amp;#10;    &amp;#10;END;"/>
      <ProgramUnit Name="RM_TAGS_UPD_PKG" ProgramUnitType="Package Spec" ProgramUnitText="PACKAGE RM_TAGS_UPD_PKG IS&amp;#10;  PROCEDURE open_win;&amp;#10;&#x9;PROCEDURE close_win; &amp;#10;&#x9;PROCEDURE save_rec;&amp;#10;END;"/>
      <ProgramUnit Name="RM_TAGS_UPD_PKG" ProgramUnitType="Package Body" ProgramUnitText="&amp;#10;PACKAGE BODY RM_TAGS_UPD_PKG IS&amp;#10;&amp;#10;--PROCEDURE open_win&amp;#10;PROCEDURE open_win IS&amp;#10;   v_where   VARCHAR2(200) := '1=1';&amp;#10;BEGIN&amp;#10; &#x9;  IF :parameter.prev_butt = 'insert' THEN&amp;#10;  &#x9;SET_WINDOW_PROPERTY('UPD_TAGS_WIN',TITLE,'הוספת תגית');&amp;#10;   &#x9;select nvl(max(TAG_SEQ),0)+1&amp;#10;   &#x9;into :RM_TAGS_UPD.TAG_SEQ&amp;#10;   &#x9;from RM_TAGS;&amp;#10;   &#x9;:rm_tags_upd.end_date:=to_date('31/12/9999','dd/mm/yyyy');&amp;#10;  go_item('RM_TAGS_UPD.START_DATE');&amp;#10;  end if;&amp;#10;END;&amp;#10;&amp;#10;--close_win &amp;#10;PROCEDURE close_win IS&amp;#10;BEGIN&amp;#10;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;HIDE_WINDOW('UPD_TAGS_WIN');&amp;#10;&#x9;SET_RECORD_PROPERTY(1,'RM_TAGS_UPD', STATUS, QUERY_STATUS);&amp;#10;&#x9;GO_BLOCK('QUERY');&amp;#10;&#x9;&amp;#10;END;&amp;#10;&amp;#10;&amp;#10;--PROCEDURE save_rec----------------------------------------------------------------------&amp;#10;PROCEDURE save_rec IS&amp;#10;  p_ret_yn varchar2(1); &amp;#10;  v_alert&#x9;NUMBER;&amp;#10;  v_tag_code&#x9;number;&amp;#10;  v_tag_category&#x9;number;&amp;#10;BEGIN&amp;#10;  COMMIT_form;&amp;#10;  CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;HIDE_WINDOW('UPD_TAGS_WIN');&amp;#10; GO_ITEM('QUERY_BUTTON');&amp;#10; EXECUTE_TRIGGER('WHEN-BUTTON-PRESSED');&amp;#10; &amp;#10;  EXCEPTION&amp;#10;  &#x9;WHEN dup_val_on_index THEN&amp;#10;  &#x9;v_alert:=DISPLAY_COMMENT('APP',444,NULL,'לא ניתן לשמור רשומה.',NULL,NULL);&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;      &#x9;&amp;#10;    WHEN OTHERS THEN&amp;#10;    v_alert:=DISPLAY_COMMENT('APP',444,NULL,'לא ניתן לשמור רשומה.',NULL,NULL);&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;&amp;#10;&amp;#10;END RM_TAGS_UPD_PKG;"/>
      <ProgramUnit Name="VALIDATE_NEW_DIAMETER" ProgramUnitType="Procedure" ProgramUnitText="PROCEDURE VALIDATE_NEW_DIAMETER IS&amp;#10;  v_alert NUMBER;&amp;#10;  v_letter_Code NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF :wt_work_command_blk.DIAMETER_CODE IS NOT NULL THEN&amp;#10;&#x9;   :wt_work_command_blk.DIAMETER_DESC:=get_desc_pkg.GET_CODE_DESC(4486, :wt_work_command_blk.DIAMETER_CODE);   &#x9;  &amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  v_letter_code:=WT_WORK_PKG.F_GET_AUTO_LETTER &amp;#10;&#x9;&#x9;                           (InCommand_Type      => :wt_work_command_blk.COMMAND_TYPE,&amp;#10;                                InCommand_Sub_Type  => :wt_work_command_blk.SUB_COMMAND_TYPE, &amp;#10;                                InNewDiameter       => :WT_WORK_COMMAND_BLK.DIAMETER_CODE&amp;#10;                               );&amp;#10;&#x9;  &amp;#10;&#x9;  select GAUGE_LETTER_CODE, GAUGE_LETTER_NAME, GAUGE_LETTER_DESC&amp;#10;&#x9;  into   :wt_work_command_blk.GAUGE_LETTER_CODE,&amp;#10;&#x9;         :wt_work_command_blk.GAUGE_LETTER_NAME,&amp;#10;&#x9;         :wt_work_command_blk.GAUGE_LETTER_DESC&amp;#10;&#x9;  FROM   WT_GAUGE_LETTER_CODES&amp;#10;&#x9;  where  GAUGE_LETTER_CODE = v_letter_code;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;when OTHERS then&amp;#10;&#x9;&#x9;     NULL;&amp;#10;  END;&amp;#10;&#x9;  &amp;#10;EXCEPTION&amp;#10;  when NO_DATA_FOUND THEN&amp;#10;        v_alert := DISPLAY_COMMENT('APP',155,NULL, NULL, NULL, NULL);&amp;#10;        :wt_work_command_blk.DIAMETER_CODE:=null;&amp;#10;&#x9;      :wt_work_command_blk.DIAMETER_DESC:=null;&amp;#10;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;&#x9;&amp;#10;"/>
      <ProgramUnit Name="GET_DESC_QUERY_PKG2" ProgramUnitType="Package Spec" ProgramUnitText="PACKAGE get_desc_query_pkg2 IS&amp;#10;----------------------------------------------------------------------------------------&amp;#10;FUNCTION COMMAND_TYPE_desc(p_COMMAND_TYPE in number&amp;#10;                                            ) RETURN varchar2;&amp;#10;-----------------------------------------------------------------------------------------------------------------------------------&amp;#10;procedure FISCAL_YEAR_PERIOD_NUM(P_REGION_CODE in NUMBER,p_FISCAL_YEAR out NUMBER,p_PERIOD_NUM out NUMBER);&amp;#10;----------------------------------------------------------------------------------------------------------------------------------------&amp;#10;-- FUNCTION CRM_USER_desc(p_CRM_USER in varchar2) RETURN varchar2;&amp;#10; -------------------------------------------------------------------------------------&amp;#10; function COMMAND_SUB_TYPE_DESC(p_COMMAND_TYPE  in number,&amp;#10;                                             p_COMMAND_SUB_TYPE  in number)  RETURN varchar2;&amp;#10;-----------------------------------------------------------------------------------------------&amp;#10;function COMPLAINT_SOURCE_DESC(p_COMPLAINT_SOURCE in number)  RETURN varchar2;&amp;#10;------------------------------------------------------------------------------------------&amp;#10;function command_status_desc(p_STATUS in number)  RETURN varchar2;&amp;#10;------------------------------------------------------------------------------------------&amp;#10;function UNIT_STATUS_desc(p_STATUS in number)  RETURN varchar2;&amp;#10;--------------------------------------------------------------------------------------------------------------------------&amp;#10;function COMPLAINT_status_desc(p_COMPLAINT_status in number)  RETURN varchar2;&amp;#10;--------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;&amp;#10;FUNCTION CONTRACTOR_CODE_desc(       p_CONTRACTOR_CODE in number&amp;#10;                                            ) RETURN varchar2;&amp;#10;-------------------------------------------------------------------------------------&amp;#10; function CONTRACTOR_USER_NAME(p_CONTRACTOR_CODE  in number,&amp;#10;                                             p_CONTRACTOR_USER_CODE  in number)  RETURN varchar2;&amp;#10;-------------------------------------------------------------------------------------&amp;#10;function root_gauge(p_water_id  in varchar2)  RETURN varchar2;&amp;#10;&amp;#10;-----------------------------------------------------------------------------------------------&amp;#10;procedure root_water_obj_id_REGION(p_water_id  in varchar2,&amp;#10;                            p_GAUGE_SEQ in number,P_ROOT_WATER_ID out varchar2,&amp;#10;                            P_PARENT_WATER_ID out varchar2,p_OBJ_ID out varchar2,&amp;#10;                            P_REGION_CODE OUT NUMBER, P_CENTER_GAUGE_SEQ OUT NUMBER);&amp;#10; -----------------------------------------------------------------------------------------------&amp;#10; procedure REGION_CODES_desc(P_REGION_CODE in NUMBER,P_REGION out varchar2);  &amp;#10; --------------------------------------------------------------------------------------------------&amp;#10; procedure COMMAND_STATUS_desc(P_STATUS in NUMBER,P_STATUS_desc out varchar2);&amp;#10; --------------------------------------------------------------------------------------------------&amp;#10; procedure client_obj(p_OBJ_ID in varchar2,p_subj_code out number,p_client_id out varchar2, p_client_type out number);&amp;#10; -----------------------------------------------------------------------------------------------------------------&amp;#10; procedure client_phone(p_OBJ_ID in varchar2,p_PHONE_NUM out varchar2);&amp;#10; ----------------------------------------------------------------------------------------------------------------&amp;#10;  procedure gauge_last_reading(p_WATER_ID in varchar2,/*p_PERIOD_NUM in number,*/p_READING_DATE out date,p_PREVIOUS_READING out NUMBER,p_QTY out number);&amp;#10; ------------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure proc_FIELD_COMMENT_desc(p_FIELD_COMMENT_CODE in number,p_FIELD_COMMENT_desc out varchar2); &amp;#10; ------------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure ACTION_CODE_desc(P_ACTION_CODE in NUMBER,P_ACTION_desc out varchar2);&amp;#10; ------------------------------------------------------------------------------------------------------------------------------------&amp;#10; --procedure ACTION_MATERIAL_desc(P_ACTION_MATERIAL_CODE in NUMBER,P_ACTION_MATERIAL_desc out varchar2);&amp;#10; ------------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure root_water_obj_REGION_upd(p_water_id  in varchar2,&amp;#10;                                   p_GAUGE_PLACE_DESC  out varchar2,p_GAUGE_TYPE_CODE OUT NUMBER,p_DIAMETER OUT NUMBER,p_INSTALL_DATE OUT date,  &amp;#10;                                             p_GAUGE_SEQ out number,P_ROOT_WATER_ID out varchar2,p_OBJ_ID out varchar2,P_REGION_CODE OUT NUMBER,&amp;#10;                                             p_REGION_NAME out varchar2,p_UNIT_FOR_READING  OUT NUMBER, p_gauge_status_code OUT NUMBER);&amp;#10;---------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;FUNCTION GAUGE_ID_FROM_GAUGE_SEQ(p_GAUGE_SEQ in number,p_water_id  in varchar2&amp;#10;                                            ) RETURN varchar2;&amp;#10;-------------------------------------------------------------------------------------------------------------------------------------------                                                                                         &amp;#10; ----------------------------------------------------------------------------------------&amp;#10;FUNCTION ACTION_CODE_desc(       p_ACTION_CODE in number&amp;#10;                                            ) RETURN varchar2;&amp;#10; -------------------------------------------------------------------------------------&amp;#10;--function ACTION_MATERIAL_desc(p_ACTION_MATERIAL  in number)  RETURN varchar2;     &amp;#10;FUNCTION GET_WATER_ADDRESS(P_WATER_ID WT_NET.WATER_ID%TYPE) RETURN   WT_NET.ADDRESS%TYPE;&amp;#10;FUNCTION GET_ROPE_DESC(P_REGION_CODE RM_REGION_CODES.REGION_CODE%TYPE) RETURN rm_decode_values.VALUE_NAME%TYPE; &amp;#10;---------------------------------------------------------------------------------------&amp;#10;---------------------------------------------------------------------------------------&amp;#10; FUNCTION get_contract_acc_num(--P_serv  IN varchar2,&amp;#10;                               P_obj  IN varchar2)  RETURN varchar2;&amp;#10;&amp;#10;END;&amp;#10;"/>
      <ProgramUnit Name="GET_DESC_QUERY_PKG2" ProgramUnitType="Package Body" ProgramUnitText="PACKAGE BODY get_desc_query_pkg2 IS&amp;#10;----------------------------------------------------------------------------------------&amp;#10;FUNCTION COMMAND_TYPE_desc(p_COMMAND_TYPE in number&amp;#10;                                            ) RETURN varchar2 is&amp;#10;  V_COMMAND_TYPE_DESC varchar2(100);  &amp;#10;  v_alert    varchar2(500);                                     &amp;#10; begin&amp;#10;&#x9;select rdv.VALUE_NAME --RDV.VALUE_DESC&amp;#10;&#x9;&#x9;into V_COMMAND_TYPE_DESC&amp;#10;&#x9;  from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10;&#x9; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9; and RD.DECODE_CODE = 113&amp;#10;&#x9;&#x9; AND RDV.VALUE_CODE = p_COMMAND_TYPE &amp;#10;order by RDV.VALUE_CODE;&amp;#10;&amp;#10;RETURN(V_COMMAND_TYPE_DESC);&amp;#10; exception WHEN NO_DATA_FOUND THEN&amp;#10; &#x9;v_alert := DISPLAY_COMMENT('APP',185,NULL,'סוג פקודה',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10; when others then &amp;#10; &#x9;RETURN(null);&amp;#10; END;&amp;#10; ---------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure FISCAL_YEAR_PERIOD_NUM(P_REGION_CODE in NUMBER,p_FISCAL_YEAR out NUMBER,p_PERIOD_NUM out NUMBER) IS&amp;#10; &#x9;v_alert    varchar2(500);         &amp;#10; begin&amp;#10; select FISCAL_YEAR,PERIOD_NUM&amp;#10;   into p_FISCAL_YEAR,p_PERIOD_NUM &amp;#10;   from RM_SERV_REGION_CODES&amp;#10;  where REGION_CODE = P_REGION_CODE&amp;#10;    and subj_code = 3&amp;#10;    AND serv_code = 4;&amp;#10;                     &amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN OTHERS THEN NULL;&amp;#10;  --v_alert := DISPLAY_COMMENT('APP',185,NULL,'קוד אזור','טבלת קודים ',NULL);&amp;#10;  --RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end; &amp;#10;  ------------------------------------------------------------------------------------------------------------------------------&amp;#10; /* FUNCTION CRM_USER_desc(p_CRM_USER in varchar2) RETURN varchar2 is&amp;#10;  V_CRM_USER_NAME varchar2(100);  &amp;#10;  v_alert    varchar2(500);                                     &amp;#10; begin&amp;#10;&amp;#10;select ru.FIRST_NAME ||' '||ru.FAMILY_NAME CRM_USER_NAME&amp;#10;into V_CRM_USER_NAME&amp;#10;from RM_USERS ru&amp;#10;where ru.USER_NAME = p_CRM_USER;&amp;#10;&amp;#10;RETURN(V_CRM_USER_NAME);&amp;#10; exception&amp;#10; &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'שם משתמש ','טבלת משתמשים ',NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10; &#x9;when others then RETURN(null);&amp;#10; END; */&amp;#10; -------------------------------------------------------------------------------------&amp;#10; function COMMAND_SUB_TYPE_DESC(p_COMMAND_TYPE  in number,&amp;#10;                                             p_COMMAND_SUB_TYPE  in number)  RETURN varchar2 is&amp;#10; v_COMMAND_SUB_TYPE_desc varchar2(100);   &amp;#10; v_alert    varchar2(500);         &amp;#10; begin&amp;#10; &#x9;SELECT COMMAND_SUB_TYPE_desc&amp;#10;    INTO v_COMMAND_SUB_TYPE_desc&amp;#10;    from WT_COMMAND_SUB_TYPES&amp;#10;   WHERE COMMAND_TYPE = p_COMMAND_TYPE&amp;#10;     and COMMAND_sub_TYPE = p_COMMAND_SUB_TYPE;&amp;#10;  RETURN(v_COMMAND_SUB_TYPE_desc);&amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'תת סוג פקודה',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;    WHEN OTHERS THEN &amp;#10;     return(NULL);&amp;#10;end;  &amp;#10;----------------------------------------------------------------------------------------------------------------------------&amp;#10;function COMPLAINT_SOURCE_DESC(p_COMPLAINT_SOURCE in number)  RETURN varchar2 is&amp;#10; v_COMPLAINT_SOURCE_desc varchar2(100);   &amp;#10; v_alert    varchar2(500);          &amp;#10; begin&amp;#10;select RDV.VALUE_DESC&amp;#10;  into v_COMPLAINT_SOURCE_desc        &amp;#10;  from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9; and RD.DECODE_CODE = 119&amp;#10;&#x9; and RDV.VALUE_CODE = p_COMPLAINT_SOURCE;&amp;#10;RETURN(v_COMPLAINT_SOURCE_desc);&amp;#10;EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',185,NULL,'מקור_תלונה',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;    WHEN OTHERS THEN &amp;#10;     return(NULL);&amp;#10;end;  &amp;#10;---------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;function UNIT_STATUS_desc (p_STATUS in number)  RETURN varchar2 is&amp;#10;  v_command_status_desc varchar2(100);   &amp;#10; v_alert    varchar2(500);          &amp;#10; begin&amp;#10;select RDV.VALUE_DESC&amp;#10;&#x9;into v_command_status_desc&amp;#10;&#x9;from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;   and RD.DECODE_CODE = 214&amp;#10;   and RDV.VALUE_CODE = p_STATUS;&amp;#10;&amp;#10;RETURN(v_command_status_desc);&amp;#10;EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',185,NULL,'סטטוס_מנה',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;    WHEN OTHERS THEN &amp;#10;     return(NULL);&amp;#10;end; &amp;#10;----------------------------------------------------&amp;#10;function command_status_desc(p_STATUS in number)  RETURN varchar2 is&amp;#10; v_command_status_desc varchar2(100);   &amp;#10; v_alert    varchar2(500);          &amp;#10; begin&amp;#10;select RDV.VALUE_DESC&amp;#10;  into v_command_status_desc&amp;#10;&#x9;from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9; and RD.DECODE_CODE = 117&amp;#10;&#x9; and RDV.VALUE_CODE = p_STATUS;&amp;#10;&amp;#10;RETURN(v_command_status_desc);&amp;#10;EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',185,NULL,'סטטוס_פקודה',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;    WHEN OTHERS THEN &amp;#10;     return(NULL);&amp;#10;end; &amp;#10;-----------------------------------------------------------------------------------------------------------------------------------------&amp;#10;function COMPLAINT_status_desc(p_COMPLAINT_status in number)  RETURN varchar2 is&amp;#10; v_COMPLAINT_status_desc varchar2(100);   &amp;#10; v_alert    varchar2(500);          &amp;#10; begin&amp;#10;select RDV.VALUE_DESC&amp;#10;&#x9;into v_COMPLAINT_status_desc        &amp;#10;&#x9;from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9; and RD.DECODE_CODE = 118&amp;#10;&#x9; and RDV.VALUE_CODE = p_COMPLAINT_status;&amp;#10;RETURN(v_COMPLAINT_status_desc);&amp;#10;EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'סטטוס_תלונה',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10; &amp;#10;   WHEN OTHERS THEN &amp;#10;     return(NULL);&amp;#10;    &amp;#10;end; &amp;#10;&amp;#10;----------------------------------------------------------------------------------------&amp;#10;FUNCTION CONTRACTOR_CODE_desc(       p_CONTRACTOR_CODE in number&amp;#10;                                            ) RETURN varchar2 is&amp;#10;  V_CONTRACTOR_CODE_DESC varchar2(100);  &amp;#10;  v_alert    varchar2(500);                                     &amp;#10; begin&amp;#10;&#x9;&amp;#10;&#x9;select RDV.VALUE_DESC&amp;#10;&#x9;  into V_CONTRACTOR_CODE_DESC&amp;#10;&#x9;&#x9;from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10;&#x9; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9; and RD.DECODE_CODE = 501&amp;#10;&#x9;&#x9; AND RDV.VALUE_CODE = p_CONTRACTOR_CODE &amp;#10;order by RDV.VALUE_CODE;&amp;#10;&amp;#10;RETURN(V_CONTRACTOR_CODE_DESC);&amp;#10; exception&amp;#10; &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'שם חברה קבלנית','קבלנים ',NULL);&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10; &#x9;when others then &amp;#10; &#x9;&#x9;RETURN(null);&amp;#10; END;&amp;#10; -------------------------------------------------------------------------------------&amp;#10; function CONTRACTOR_USER_NAME(p_CONTRACTOR_CODE  in number,&amp;#10;                                             p_CONTRACTOR_USER_CODE  in number)  RETURN varchar2 is&amp;#10; v_CONTRACTOR_USER_NAME varchar2(100);   &amp;#10; v_alert    varchar2(500);         &amp;#10; begin&amp;#10; &#x9;SELECT CONTRACTOR_USER_NAME&amp;#10;    INTO v_CONTRACTOR_USER_NAME&amp;#10;   &#x9;from WT_CONTRACTOR_USERS&amp;#10;   WHERE CONTRACTOR_CODE = p_CONTRACTOR_CODE&amp;#10;   &#x9; and CONTRACTOR_USER_CODE = p_CONTRACTOR_USER_CODE;&amp;#10;   RETURN(v_CONTRACTOR_USER_NAME);&amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;&#x9;v_alert := DISPLAY_COMMENT('APP',185,NULL,'שם מבצע ',' מבצעים ',NULL);&amp;#10;  &#x9;&#x9;:global.error_contractor_code := 'y';&amp;#10;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;   WHEN OTHERS THEN &amp;#10;   &#x9;:global.error_contractor_code := 'y';  --------  llllllllllllll&amp;#10;     return(NULL);&amp;#10;end;  &amp;#10;-------------------------------------------------------------------------------------------&amp;#10;function root_gauge(p_water_id in varchar2)  RETURN varchar2 is&amp;#10; v_GAUGE_SEQ number;   &amp;#10; v_alert    varchar2(500);         &amp;#10; begin&amp;#10; &#x9;select wg.GAUGE_SEQ&amp;#10; &#x9;&#x9;into v_GAUGE_SEQ&amp;#10; &#x9;&#x9;from wt_gauges wg&amp;#10; &#x9; where wg.WATER_ID = p_water_id &amp;#10;  &#x9; and wg.DISASSEMBLE_DATE is null;&amp;#10;  &amp;#10;   RETURN(v_GAUGE_SEQ);&amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;/*  v_alert := DISPLAY_COMMENT('APP',185,NULL,'מספר מד מרכז','טבלת מדים ',NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;   &amp;#10;   WHEN OTHERS THEN */&amp;#10;     return('');&amp;#10;       &amp;#10;end;  &amp;#10;&amp;#10;-------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;procedure root_water_obj_id_REGION(p_water_id  in varchar2,&amp;#10;                            p_GAUGE_SEQ in number,P_ROOT_WATER_ID out varchar2,&amp;#10;                            P_PARENT_WATER_ID out varchar2,p_OBJ_ID out varchar2,&amp;#10;                            P_REGION_CODE OUT NUMBER, P_CENTER_GAUGE_SEQ OUT NUMBER) IS&amp;#10; &amp;#10; v_alert    varchar2(500);         &amp;#10; begin&amp;#10; &amp;#10; select wn.ROOT_WATER_ID,wn.PARENT_WATER_ID,wn.obj_id,wn.REGION_CODE,CENTER_GAUGE_SEQ&amp;#10;   into P_ROOT_WATER_ID,P_PARENT_WATER_ID,p_OBJ_ID,P_REGION_CODE,P_CENTER_GAUGE_SEQ&amp;#10;   from wt_net wn&amp;#10;  where wn.water_id = p_water_id;&amp;#10;   &amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN OTHERS THEN &amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'זהוי מים','מים',NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10; &amp;#10; end; &amp;#10; -------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;procedure REGION_CODES_desc(P_REGION_CODE in NUMBER,P_REGION out varchar2) IS&amp;#10; &amp;#10; v_alert    varchar2(500);    &amp;#10;      &amp;#10; begin&amp;#10; select REGION_NAME&amp;#10;   into P_REGION&amp;#10;   from RM_REGION_CODES&amp;#10;  where REGION_CODE= P_REGION_CODE;  &amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;WHEN OTHERS THEN &amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'קוד אזור ','אזורים',NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;   &amp;#10; &amp;#10; end; &amp;#10;-----------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10; -------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;procedure COMMAND_STATUS_desc(P_STATUS in NUMBER,P_STATUS_desc out varchar2) IS&amp;#10; &amp;#10; v_alert    varchar2(500);    &amp;#10;      &amp;#10; begin&amp;#10;  select RDV.VALUE_DESC -------      status_command_select&amp;#10; &#x9;  into P_STATUS_desc            &amp;#10; &#x9;  from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10;&#x9; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9; and RDV.VALUE_CODE = P_STATUS&amp;#10;&#x9;&#x9; and RD.DECODE_CODE = 117&amp;#10;order by RDV.VALUE_CODE;&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;WHEN OTHERS THEN &amp;#10;&#x9;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'קוד סטטוס ',NULL,NULL);&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10; end; &amp;#10;--------------------------------------------------------------------------------&amp;#10;procedure client_obj(p_OBJ_ID in varchar2,p_subj_code out number,p_client_id out varchar2, p_client_type out number) IS&amp;#10; &amp;#10; v_alert    varchar2(500);    &amp;#10; begin&amp;#10; &amp;#10;select ro.SUBJ_CODE,ro.client_id, ro.client_type&amp;#10;  into p_subj_code,p_client_id, p_client_type &amp;#10;  from RM_cards ro&amp;#10; where ro.OBJ_ID =p_OBJ_ID&amp;#10;&#x9; and ro.serv_code=4&amp;#10;&#x9; and ro.stamp_action&lt;>'D'&amp;#10;&#x9; and nvl(trunc(card_end), trunc(sysdate)) >= trunc(sysdate);&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;WHEN OTHERS THEN &amp;#10;  --  v_alert := DISPLAY_COMMENT('APP',185,NULL,'קוד לקוח ',' לקוחות ',NULL);  --  lll&amp;#10; -- RAISE FORM_TRIGGER_FAILURE;   --  lll&amp;#10; p_subj_code := null;&amp;#10; p_client_id  := null;&amp;#10; p_client_type  := null;&amp;#10; end; &amp;#10;---------------------------------------------------------------------------------------------&amp;#10;procedure client_phone(p_OBJ_ID in varchar2,p_PHONE_NUM out varchar2) IS&amp;#10; &amp;#10; v_alert    varchar2(500); &amp;#10; v_PHONE_NUM  varchar2(15);  &amp;#10; cursor cur_tel is&amp;#10;select  '('||nvl(rph.PHONE_AREA_CODE,' ')||')' ||rph.PHONE_NUM phone&amp;#10;  from RM_CARDS ro,RM_PHONES rph&amp;#10; where ro.CLIENT_ID = rph.CLIENT_ID&amp;#10;&#x9; and ro.CLIENT_TYPE = rph.CLIENT_TYPE&amp;#10;&#x9; and rph.PHONE_NUM is not null &amp;#10;&#x9; and ro.serv_code=4&amp;#10;&#x9; and ro.OBJ_ID = p_OBJ_ID;&amp;#10;V_COUNT NUMBER:=0;      &amp;#10; begin&amp;#10;  --DELETE_LIST_ELEMENT('WT_WORK_COMMANDS_ADD_BLK.CLIENT_PHONE_LIST');&amp;#10; for i in cur_tel loop&amp;#10; &#x9;&#x9;v_PHONE_NUM := ltrim(rtrim(i.phone));&amp;#10; &#x9; V_COUNT:=V_COUNT+1;&amp;#10; &#x9;--&#x9;ADD_LIST_ELEMENT('WT_WORK_COMMANDS_ADD_BLK.CLIENT_PHONE_LIST', Vz_COUNT,v_PHONE_NUM,v_PHONE_NUM);&amp;#10; &#x9;&#x9;--if v_PHONE_NUM is not null then&amp;#10; &#x9;&#x9;--&#x9;exit;&amp;#10; &#x9;&#x9;--end if;&amp;#10; &#x9;&#x9;end loop;&amp;#10; &#x9;&amp;#10; p_PHONE_NUM := v_PHONE_NUM;&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN OTHERS THEN &amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'טלפון לקוח ',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end; &amp;#10; ----------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure gauge_last_reading(p_WATER_ID in varchar2,/*p_PERIOD_NUM in number,*/p_READING_DATE out date,p_PREVIOUS_READING out NUMBER,p_QTY out number) IS&amp;#10; &amp;#10; v_alert    varchar2(500);    &amp;#10;      &amp;#10; begin&amp;#10;select wr.READING_DATE,wr.QTY,READING&amp;#10;  into p_READING_DATE,p_QTY,p_PREVIOUS_READING&amp;#10;  from WT_READINGS wr,wt_gauges wg&amp;#10; where wr.WATER_ID = p_WATER_ID&amp;#10;&#x9; AND wg.WATER_ID = wr.WATER_ID&amp;#10;&#x9; AND wg.GAUGE_SEQ = wr.GAUGE_SEQ&amp;#10;&#x9; and wg.DISASSEMBLE_DATE is null&amp;#10; --AND wg.DISASSEMBLE_READING IS NULL change by miri 02/17&amp;#10; --and wr.PERIOD_NUM = p_PERIOD_NUM &amp;#10;&#x9; AND WR.READING_TYPE=1&amp;#10;&#x9; and wr.READING_DATE = (select distinct max(wr1.READING_DATE) &amp;#10;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;from WT_READINGS wr1&amp;#10;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; where wr1.WATER_ID = wr.WATER_ID--);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--Yocheved 06/01/2013 פניה 1754&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--and wr1.PERIOD_NUM = p_PERIOD_NUM &amp;#10;                        &#x9;&#x9; AND WR1.READING_TYPE=1);&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN others THEN&amp;#10; &#x9;&#x9;p_READING_DATE := null;&amp;#10;--&#x9;&#x9;p_QTY := 0;&amp;#10;&amp;#10;&amp;#10; end; &amp;#10; &amp;#10; ----------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure proc_FIELD_COMMENT_desc(p_FIELD_COMMENT_CODE in number,p_FIELD_COMMENT_desc out varchar2) IS&amp;#10;  &amp;#10; v_alert    varchar2(500);    &amp;#10; begin     &amp;#10;select wfc.FIELD_COMMENT_desc&amp;#10; into p_FIELD_COMMENT_desc&amp;#10; from WT_FIELD_COMMENTS wfc&amp;#10;where wfc.FIELD_COMMENT_CODE = p_FIELD_COMMENT_CODE;&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;WHEN OTHERS THEN &amp;#10;&#x9;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'הערת_שטח',NULL,NULL);&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;  end; &amp;#10;  ----------------------------------------------------------------------------------------------------------------------------------&amp;#10; procedure ACTION_CODE_desc(P_ACTION_CODE in NUMBER,P_ACTION_desc out varchar2) IS&amp;#10; &amp;#10; v_alert    varchar2(500);    &amp;#10;begin&amp;#10;&#x9;select RDV.VALUE_DESC  &amp;#10;&#x9;&#x9;into  P_ACTION_desc       &amp;#10;&#x9; &#x9;from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10;&#x9; where RDv.VALUE_CODE = P_ACTION_CODE&amp;#10;&#x9;&#x9; and RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9; and RD.DECODE_CODE = 121&amp;#10;order by RDV.VALUE_CODE;&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN OTHERS THEN &amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'קוד עבודה שבוצעה ',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;   &amp;#10;  &amp;#10; end; &amp;#10; ----------------------------------------------------------------------------------------------------------------------------------&amp;#10; /*procedure ACTION_MATERIAL_desc(P_ACTION_MATERIAL_CODE in NUMBER,P_ACTION_MATERIAL_desc out varchar2) IS&amp;#10; &amp;#10; v_alert    varchar2(500);    &amp;#10;      &amp;#10; begin&amp;#10; &#x9;    &amp;#10;select &amp;#10;RDV.VALUE_DESC  into  P_ACTION_MATERIAL_desc&amp;#10;from RM_DECODE rd,&amp;#10;RM_DECODE_VALUES rdv&amp;#10;where RDv.VALUE_CODE = P_ACTION_MATERIAL_CODE&amp;#10;and RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;and RD.DECODE_CODE = 122&amp;#10;order by RDV.VALUE_CODE;&amp;#10;  &amp;#10; EXCEPTION&amp;#10; &#x9;&#x9;WHEN OTHERS THEN &amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'קוד חומר עבודה שבוצעה ',NULL,NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;  &amp;#10; end; */&amp;#10;-------------------------------------------------------------------------------&amp;#10;procedure root_water_obj_REGION_upd(p_water_id  in varchar2,&amp;#10;                                    p_GAUGE_PLACE_DESC  out varchar2,&amp;#10;                                    p_GAUGE_TYPE_CODE OUT NUMBER,&amp;#10;                                    p_DIAMETER OUT NUMBER,&amp;#10;                                    p_INSTALL_DATE OUT date,  &amp;#10;                                    p_GAUGE_SEQ out number,&amp;#10;                                    P_ROOT_WATER_ID out varchar2,&amp;#10;                                    p_OBJ_ID out varchar2,&amp;#10;                                    P_REGION_CODE OUT NUMBER,&amp;#10;                                    p_REGION_NAME out varchar2,&amp;#10;                                    p_UNIT_FOR_READING  OUT NUMBER, &amp;#10;                                    p_gauge_status_code OUT NUMBER) IS&amp;#10; v_alert    varchar2(500);         &amp;#10; begin &amp;#10;select WN.COMMENTS,--wg.GAUGE_TYPE_CODE,wg.DIAMETER,wg.INSTALL_DATE, --wg.GAUGE_SEQ,&amp;#10;&#x9;&#x9;&#x9; wn.ROOT_WATER_ID,wn.OBJ_ID,wn.REGION_CODE, rc.REGION_NAME,wn.UNIT_FOR_READING--, wg.gauge_status_code&amp;#10;  into p_GAUGE_PLACE_DESC,--p_GAUGE_TYPE_CODE,p_DIAMETER,p_INSTALL_DATE, --p_GAUGE_SEQ,&amp;#10; &#x9;&#x9;&#x9; P_ROOT_WATER_ID,p_OBJ_ID,P_REGION_CODE,p_REGION_NAME,p_UNIT_FOR_READING--, p_gauge_status_code&amp;#10;  from wt_net wn,RM_REGION_CODES rc--,--WT_GAUGES wg&amp;#10; where /*wg.DISASSEMBLE_DATE is null and wn.WATER_ID = wg.WATER_ID(+) and*/ &amp;#10;&#x9; &#x9;&#x9; wn.REGION_CODE(+) = rc.REGION_CODE&amp;#10;&#x9; and wn.water_id = p_water_id;&amp;#10; --AND wg.DISASSEMBLE_READING IS NULL;&amp;#10;&amp;#10;select /*Yocheved 06/01/2013 wg.GAUGE_TYPE_CODE*/&amp;#10;&#x9;&#x9;&#x9; wg.GAUGE_LETTER_CODE, wg.DIAMETER, wg.INSTALL_DATE, wg.GAUGE_SEQ, wg.gauge_addition_status_code&amp;#10;  into p_GAUGE_TYPE_CODE,    p_DIAMETER,  p_INSTALL_DATE,  p_GAUGE_SEQ,  p_gauge_status_code&amp;#10; &#x9;from WT_GAUGES wg&amp;#10; where wg.DISASSEMBLE_DATE is null&amp;#10;   and p_water_id = wg.WATER_ID;&amp;#10; --AND wg.DISASSEMBLE_READING IS NULL;change by miri&amp;#10;   &amp;#10; EXCEPTION&amp;#10; &#x9;WHEN OTHERS THEN &amp;#10;  --v_alert := DISPLAY_COMMENT('APP',185,NULL,'מספר מד מרכז',NULL,NULL);&amp;#10;  --:control.gauge_not_exists := 'Y';   ---   llllllllllllll&amp;#10;  ---  RAISE FORM_TRIGGER_FAILURE;    ---   llllllllllllll&amp;#10;   null;&amp;#10;   end; &amp;#10;----------------------------------------------------------------------------------------------------------------------------&amp;#10;FUNCTION GAUGE_ID_FROM_GAUGE_SEQ(p_GAUGE_SEQ in number,p_water_id  in varchar2&amp;#10;                                            ) RETURN varchar2 is&amp;#10;  V_GAUGE_ID varchar2(16);  &amp;#10;  v_alert    varchar2(500);                                     &amp;#10; begin&amp;#10;&amp;#10;select GAUGE_id&amp;#10;&#x9;into V_GAUGE_ID&amp;#10;&#x9;from WT_GAUGES&amp;#10; where GAUGE_SEQ = p_GAUGE_SEQ&amp;#10;&#x9; and WATER_ID = p_water_id;&amp;#10;&amp;#10;RETURN(V_GAUGE_ID);&amp;#10; exception&amp;#10; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;  v_alert := DISPLAY_COMMENT('APP',185,NULL,' מד מספר ',NULL,NULL);&amp;#10;&#x9;  RETURN(null);&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10; END;&amp;#10;&amp;#10;FUNCTION ACTION_CODE_desc(       p_ACTION_CODE in number&amp;#10;                                            ) RETURN varchar2 is&amp;#10;  V_ACTION_CODE_desc varchar2(100);  &amp;#10;  v_alert    varchar2(500);                                     &amp;#10; begin&amp;#10;if p_ACTION_CODE is null then&amp;#10;RETURN(null);&amp;#10;else&amp;#10;&#x9;select RDV.VALUE_DESC&amp;#10;&#x9;  into V_ACTION_CODE_desc&amp;#10;&#x9;  from RM_DECODE rd,RM_DECODE_VALUES rdv&amp;#10;&#x9; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;&#x9;&#x9; and RD.DECODE_CODE = 121&amp;#10;&#x9;&#x9; AND RDV.VALUE_CODE = p_ACTION_CODE&amp;#10;order by RDV.VALUE_CODE;&amp;#10;&amp;#10;RETURN(V_ACTION_CODE_desc);&amp;#10;end if;&#x9;&amp;#10; exception&amp;#10; &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'סוג פקודה',' סוגי פקודות ',NULL);&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10; &#x9;when others then RETURN(null);&amp;#10; END;&amp;#10; -------------------------------------------------------------------------------------&amp;#10;/* function ACTION_MATERIAL_desc(p_ACTION_MATERIAL  in number)  RETURN varchar2 is&amp;#10; V_ACTION_CODE_desc varchar2(100);  &amp;#10;  v_alert    varchar2(500);                                     &amp;#10; begin&amp;#10;if p_ACTION_MATERIAL is null then&amp;#10;RETURN(null);&amp;#10;else&#x9;&amp;#10;select &amp;#10;RDV.VALUE_DESC&amp;#10;into V_ACTION_CODE_desc&amp;#10;from RM_DECODE rd,&amp;#10;RM_DECODE_VALUES rdv&amp;#10;where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;and RD.DECODE_CODE = 122&amp;#10;AND RDV.VALUE_CODE = p_ACTION_MATERIAL&amp;#10;order by RDV.VALUE_CODE;&amp;#10;&amp;#10;&amp;#10;RETURN(V_ACTION_CODE_desc);&amp;#10;end if;&amp;#10; exception&amp;#10; &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  v_alert := DISPLAY_COMMENT('APP',185,NULL,'סוג פקודה',' סוגי פקודות ',NULL);&amp;#10;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10; &#x9;when others then RETURN(null);&amp;#10; &#x9;&amp;#10; END;*/&amp;#10; &amp;#10; ---------------------------------------------------------------------------------------------------------------------------&amp;#10; FUNCTION GET_WATER_ADDRESS(P_WATER_ID WT_NET.WATER_ID%TYPE) RETURN   WT_NET.ADDRESS%TYPE IS&amp;#10; &#x9; V_ADDRESS WT_NET.ADDRESS%TYPE;&amp;#10; BEGIN&amp;#10;&#x9; SELECT ADDRESS &amp;#10;&#x9;   INTO V_ADDRESS&amp;#10;&#x9;   FROM WT_NET&#x9;&amp;#10;&#x9;  WHERE WATER_ID=P_WATER_ID;&amp;#10; &#x9; RETURN V_ADDRESS;&amp;#10; EXCEPTION&amp;#10;&#x9; &#x9;WHEN OTHERS THEN &amp;#10;&#x9; &#x9;&#x9;RETURN NULL;&amp;#10; END;&amp;#10; ----------------------------------------------------------------------------------------------------------------------------------&amp;#10; FUNCTION GET_ROPE_DESC(P_REGION_CODE RM_REGION_CODES.REGION_CODE%TYPE) RETURN rm_decode_values.VALUE_NAME%TYPE&amp;#10; IS&amp;#10; V_DESC rm_decode_values.VALUE_NAME%TYPE;&amp;#10; BEGIN&amp;#10; &#x9;select distinct D.value_name INTO V_DESC&amp;#10; &#x9;  from RM_REGION_CODES t, WT_CONTRACT_DETAILS c,  WT_CONTRACT_REGIONS r,rm_decode_values D&amp;#10;&#x9; where  R.REGION_CODE = T.REGION_CODE&amp;#10;     and C.CONTRACT_SEQ = R.CONTRACT_SEQ&amp;#10;  &#x9; and C.GEO_UNIT = D.VALUE_CODE&amp;#10;  &#x9; AND decode_code = 231&amp;#10;  &#x9; AND T.REGION_CODE=P_REGION_CODE&amp;#10;  &#x9; AND (sysdate between c.start_date AND c.end_date OR (c.start_date &lt; sysdate and c.end_date IS NULL));&amp;#10;  &amp;#10;  RETURN V_DESC;&amp;#10; EXCEPTION&amp;#10; &#x9;WHEN OTHERS THEN&amp;#10; &#x9;&#x9;RETURN NULL;&amp;#10;&amp;#10; END;&amp;#10; ------------------------------------------------------------------------------------------------------------------------------------&amp;#10; &amp;#10; ---------------------------------------------------------------------------------------------------------------------------------------&amp;#10; /*brachi add 07052014*/&amp;#10; FUNCTION get_contract_acc_num(--P_serv  IN varchar2,&amp;#10;                               P_obj  IN varchar2)  RETURN varchar2&amp;#10; IS&amp;#10; v_contract    varchar2(100);&amp;#10; begin&amp;#10; &#x9;select contract_acc_num &amp;#10;    into v_contract&amp;#10;    from rm_cards&amp;#10;   where serv_code=4&amp;#10;   &#x9; and obj_id =p_obj&amp;#10;  &#x9; and card_start&lt;sysdate and nvl(card_end,sysdate) >=sysdate;&amp;#10; RETURN  v_contract;&amp;#10; &#x9; EXCEPTION WHEN OTHERS THEN&amp;#10; &#x9;  RETURN NULL;&amp;#10; &#x9;return null;&amp;#10; &#x9;end get_contract_acc_num;&amp;#10; END;"/>
      <ProgramUnit Name="PREV_REC" SubclassObjectGroup="true" ProgramUnitType="Procedure" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <ProgramUnit Name="NEXT_REC" SubclassObjectGroup="true" ProgramUnitType="Procedure" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <ProgramUnit Name="HANDLE_PERMITS" SubclassObjectGroup="true" ProgramUnitType="Procedure" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <ProgramUnit Name="SET_TAGS" SubclassObjectGroup="true" ProgramUnitType="Procedure" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS"/>
      <PropertyClass Name="SEARCH_CLIENT_BUT_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS">
         <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" DirtyInfo="true"/>
      </PropertyClass>
      <PropertyClass Name="SEARCH_WATER_ID_BUT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID">
         <Trigger Name="WHEN-BUTTON-PRESSED" SubclassSubObject="true" TriggerText=":parameter.par_block_name := :system.current_block;&amp;#10;SHOW_VIEW('water_id_serch_cv');&amp;#10;SHOW_VIEW('STACK_WATER_ID_CV');&amp;#10;go_block('QUERY_WATER_ID');&amp;#10;go_block('WATER_ID_SEARCH');&amp;#10;go_item('WATER_ID_SEARCH.water_id');" DirtyInfo="true"/>
      </PropertyClass>
      <PropertyClass Name="TEXT_ITEM_HEB_CENTER_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BACKGROUND_ITEM" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_LIST_ITEM_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="PRIVATE_MENU_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_CHECK_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_ADD_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_UPDATE_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_SAVE_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_EXIT_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_CANCEL_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_LOV_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_PRINT_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_SHOW_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_ORDER_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_CALANDER_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="FOR_UPDATE_CV_FRAME" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="IN_RED_RADIO_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="IN_RED_CHECK_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SECONDARY_CANVAS_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SECONDARY_WIN_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="TAB_CANVAS_PC" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="ALERT_TEXT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_LARGE_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="BUTTON_SMALL_TEXT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="CHECK_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="CODE_4INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="CONTENT_CANVAS_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_CODE_4INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_DATE_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_HEB_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_ENG_UPPER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_ENG_LOWER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_ENG_MIXED_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_NUMBER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_NUM_INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_RADIO_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_NUMBER_COLOR_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_NUM_INT_COLOR_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_CODE_4INT_COLOR_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_HEB_COLOR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_ENG_UPPER_COLOR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_ENG_LOWER_COLOR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISP_ITEM_ENG_MIXED_COLOR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISPLAY_DATE_COLOR_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISPLAY_ACTION_CODE" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="DISPLAY_SPECIAL_CODE" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="ENG_LOV_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="FIELD_FRAME_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="HEB_LOV_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="LIST_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="NUM_INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="NUMBER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="RADIO_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_CHECK_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_CODE_4INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_NUMBER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_NUM_INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_RADIO_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_TEXT_ITEM_HEB_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_TXT_ITEM_ENG_UPPER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_TXT_ITEM_ENG_LOWER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_TXT_ITEM_ENG_MIXED_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_LIST_ITEM_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_NUMBER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_NUM_INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_CODE_4INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_ITEM_ENG_UPPER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_ITEM_ENG_LOWER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_ITEM_ENG_MIXED_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_ITEM_HEB_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_CHECK_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SB_REQ_YYYY_CAL_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS">
         <Trigger Name="WHEN-MOUSE-DOUBLECLICK" SubclassSubObject="true" DirtyInfo="true"/>
      </PropertyClass>
      <PropertyClass Name="STAMP_DATE_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_NUMBER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_NUM_INT_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_ITEM_HEB_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_ITEM_ENG_UPPER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_ITEM_ENG_LOWER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_ITEM_ENG_MIXED_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="SUM_DATE_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="TXT_ITEM_HEB_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="TXT_ITEM_ENG_UPPER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="TXT_ITEM_ENG_LOWER_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="TXT_ITEM_ENG_MIXED_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="TXT_DATE_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="YYYY_CAL_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS">
         <Trigger Name="WHEN-MOUSE-DOUBLECLICK" SubclassSubObject="true" DirtyInfo="true"/>
      </PropertyClass>
      <PropertyClass Name="ICON_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="ICON_SMALL_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS"/>
      <PropertyClass Name="PROPERTY_CLASS433" DirtyInfo="true"/>
      <RecordGroup Name="GR_CITY_CODES" SubclassObjectGroup="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="GENERAL_GROUP" SubclassObjectGroup="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <RecordGroup Name="RECORD_DEBIT_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_REGION_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_UNIT_FOR_READING_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_UNIT_BY_REGION_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_REGION_BY_UNIT_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_ASSETS_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_WATER_ID_TYPE_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RECORD_GAUGE_TYPE_S" SubclassObjectGroup="true" DirtyInfo="true" RecordGroupFetchSize="0" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <RecordGroup Name="RG_COMMANDS_TYPE" DirtyInfo="true" RecordGroupType="Query" RecordGroupQuery="select DISTINCT RDV.VALUE_CODE,&amp;#10;RDV.VALUE_DESC&amp;#10;from RM_DECODE rd,&amp;#10;RM_DECODE_VALUES rdv&amp;#10;where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;and RD.DECODE_CODE = 113&amp;#10;and rd.stamp_action != 'D'&amp;#10;and rdv.stamp_action!= 'D'&amp;#10;order by RDV.VALUE_CODE&amp;#10;&amp;#10;&amp;#10;" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="VALUE_CODE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="VALUE_DESC" MaximumLength="60" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="CHAR"/>
      </RecordGroup>
      <RecordGroup Name="RG_GAUGE_STATUS" DirtyInfo="true" RecordGroupQuery="select status_code,status_name&amp;#10;from wt_gauge_status_codes&amp;#10;where stamp_action &lt;> 'D'&amp;#10;ORDER BY STATUS_CODE" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="STATUS_CODE" MaximumLength="5" DirtyInfo="true" ColumnDataType="Number"/>
         <RecordGroupColumn Name="STATUS_NAME" MaximumLength="40" DirtyInfo="true" ColumnDataType="Character"/>
      </RecordGroup>
      <RecordGroup Name="RG_SUB_COMMANDS_TYPE" DirtyInfo="true" RecordGroupType="Query" RecordGroupQuery="select WCST.COMMAND_TYPE command_type,&amp;#10;WCST.COMMAND_SUB_TYPE command_sub_type,&amp;#10;WCST.COMMAND_SUB_TYPE_DESC&amp;#10;from WT_COMMAND_SUB_TYPES wcst&amp;#10;where ((WCST.COMMAND_TYPE = :wt_work_command_blk.COMMAND_TYPE&amp;#10;and :wt_work_command_blk.COMMAND_TYPE is not null)&amp;#10;or :wt_work_command_blk.COMMAND_TYPE is null)&amp;#10;and STAMP_ACTION != 'D'&amp;#10;and nvl(wcst.opening_everywhere_yn,'N') = 'Y'&amp;#10;order by WCST.COMMAND_SUB_TYPE,WCST.COMMAND_TYPE,WCST.COMMAND_SUB_TYPE_DESC&amp;#10;&amp;#10;&amp;#10;" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="COMMAND_TYPE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="COMMAND_SUB_TYPE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="COMMAND_SUB_TYPE_DESC" MaximumLength="100" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="CHAR"/>
      </RecordGroup>
      <RecordGroup Name="RG_COMMAND_TYPE_FILTER" DirtyInfo="true" RecordGroupType="Query" RecordGroupQuery="select DISTINCT RDV.VALUE_CODE,RDV.VALUE_NAME&amp;#10;  from RM_DECODE rd, RM_DECODE_VALUES rdv, WT_COMMAND_SUB_TYPES CST&amp;#10; where RD.DECODE_CODE = RDV.DECODE_CODE&amp;#10;   and RDV.VALUE_CODE = CST.COMMAND_TYPE&amp;#10;   and RD.DECODE_CODE = 113&amp;#10;   and rd.STAMP_ACTION != 'D'&amp;#10;   and rdv.STAMP_ACTION != 'D'&amp;#10;   and (CST.CHARACTER_CODE =&amp;#10;       (SELECT GAUGE_TYPE_CODE&amp;#10;           FROM WT_GAUGES&amp;#10;          WHERE WATER_ID = :WT_WORK_COMMAND_BLK.water_id&amp;#10;            AND DISASSEMBLE_DATE IS NULL) OR CST.CHARACTER_CODE IS null)&amp;#10; order by RDV.VALUE_CODE&amp;#10;" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="VALUE_CODE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="VALUE_NAME" MaximumLength="40" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="CHAR"/>
      </RecordGroup>
      <RecordGroup Name="RG_DIAMETER" DirtyInfo="true" RecordGroupType="Query" RecordGroupQuery="select value_code, value_name&amp;#10;from rm_Decode_values&amp;#10;where decode_code=4486&amp;#10;and stamp_Action!='D'" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="VALUE_CODE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="VALUE_NAME" MaximumLength="40" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="BYTE"/>
      </RecordGroup>
      <RecordGroup Name="RG_REPAIR_REASONS" DirtyInfo="true" RecordGroupType="Query" RecordGroupQuery="select REPAIR_REASON_CODE,REPAIR_REASON_DESC&amp;#10;FROM WT_REPAIR_REASONS&amp;#10;WHERE REPAIR_REASON_TYPE=1&amp;#10;and stamp_action&lt;>'D'&amp;#10;" RecordGroupFetchSize="5">
         <RecordGroupColumn Name="REPAIR_REASON_CODE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="REPAIR_REASON_DESC" MaximumLength="50" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="BYTE"/>
      </RecordGroup>
      <RecordGroup Name="LOV365" DirtyInfo="true" RecordGroupQuery="select value_code,value_name&amp;#10;from rm_decode_values&amp;#10;where decode_code =5206" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="VALUE_CODE" MaximumLength="5" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="VALUE_NAME" MaximumLength="40" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="BYTE"/>
      </RecordGroup>
      <RecordGroup Name="LOV422" DirtyInfo="true" RecordGroupQuery="select REPAIR_REASON_CODE,REPAIR_REASON_DESC&amp;#10;FROM WT_REPAIR_REASONS&amp;#10;WHERE REPAIR_REASON_TYPE=1&amp;#10;and stamp_action&lt;>'D'&amp;#10;order by REPAIR_REASON_CODE" RecordGroupFetchSize="10">
         <RecordGroupColumn Name="REPAIR_REASON_CODE" MaximumLength="5" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="REPAIR_REASON_DESC" MaximumLength="50" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="BYTE"/>
      </RecordGroup>
      <RecordGroup Name="RG_TAGS" DirtyInfo="true" RecordGroupQuery="select t.tag_code,t.tag_desc &amp;#10;from rm_tags_codes t &amp;#10;where t.stamp_action&lt;>'D'" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="TAG_CODE" MaximumLength="65410" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="TAG_DESC" MaximumLength="1000" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="CHAR"/>
      </RecordGroup>
      <RecordGroup Name="RG_GAUGE_LETTERS" DirtyInfo="true" RecordGroupType="Query" RecordGroupQuery="select GAUGE_LETTER_CODE,&amp;#10;GAUGE_LETTER_NAME,GAUGE_LETTER_DESC&amp;#10;from WT_GAUGE_LETTER_CODEs&amp;#10;where stamp_action &lt;> 'D'&amp;#10;order by GAUGE_LETTER_CODE" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="GAUGE_LETTER_CODE" MaximumLength="23" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="GAUGE_LETTER_NAME" MaximumLength="40" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="BYTE"/>
         <RecordGroupColumn Name="GAUGE_LETTER_DESC" MaximumLength="40" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="BYTE"/>
      </RecordGroup>
      <RecordGroup Name="RG_COMMAND_SUB_TYPE_FILTER" DirtyInfo="true" RecordGroupQuery="select  COMMAND_SUB_TYPE,&amp;#10;       COMMAND_SUB_TYPE_DESC &amp;#10;from &amp;#10;WT_COMMAND_SUB_TYPES&amp;#10;where STAMP_ACTION != 'D'&amp;#10;AND ((COMMAND_TYPE = :wt_work_command_blk.COMMAND_TYPE&amp;#10;and :wt_work_command_blk.COMMAND_TYPE is not null)&amp;#10;or :wt_work_command_blk.COMMAND_TYPE is null)&amp;#10;order by COMMAND_SUB_TYPE,COMMAND_SUB_TYPE_DESC" RecordGroupFetchSize="0">
         <RecordGroupColumn Name="COMMAND_SUB_TYPE" MaximumLength="5" DirtyInfo="true" ColumnDataType="Number" DataLengthSemantics="Null"/>
         <RecordGroupColumn Name="COMMAND_SUB_TYPE_DESC" MaximumLength="100" DirtyInfo="true" ColumnDataType="Character" DataLengthSemantics="CHAR"/>
      </RecordGroup>
      <Report Name="DUMMY" DirtyInfo="true" Filename="DUMMY"/>
      <Trigger Name="KEY-F1" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="WHEN-MOUSE-CLICK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="WHEN-NEW-FORM-INSTANCE" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-F3" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-F4" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="WHEN-MOUSE-DOUBLECLICK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="WHEN-TIMER-EXPIRED" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-EXIT" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-ENTQRY" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="WHEN-EVENT-RAISED" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM"/>
      <Trigger Name="KEY-EXEQRY" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-CLRFRM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="ENTER_QRY" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="CLEAR_BLK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-CLRBLK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="ON-ERROR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="ON-MESSAGE" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-DELREC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-CREREC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-UPDREC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-NXTBLK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-PRVBLK" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-F5" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="WHEN-WINDOW-ACTIVATED" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS"/>
      <Trigger Name="KEY-CLRREC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <Trigger Name="KEY-DOWN" TriggerText="IF :system.record_status  = 'NEW' THEN&amp;#10;    NULL;&amp;#10;ELSE&amp;#10;   next_record;&amp;#10;END IF;&amp;#10;IF :system.last_record='TRUE' THEN&amp;#10;            previous_record;&amp;#10;            LAST_RECORD;&amp;#10;            --go_record(:parameter.p_count);        &amp;#10;END IF;&amp;#10;" DirtyInfo="true"/>
      <Trigger Name="ON-CLEAR-DETAILS" TriggerText="--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  Clear_All_Master_Details;&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
      <Trigger Name="ON-LOGON" TriggerText="--rachel 26/01/2011&amp;#10;--this form can be accessed from URL not through entrance form. &amp;#10;-- the trigger will do all that entrance form does instead&amp;#10;DECLARE &amp;#10;  v_profile_code  RM_USERS.PROFILE_CODE%TYPE;&amp;#10;   v_seq  NUMBER;&amp;#10;   v_dcrypt_pass varchar2(1000);&amp;#10;   v_log_done BOOLEAN;&amp;#10;   v_alert NUMBER;&amp;#10;   v_res number(3);&amp;#10;BEGIn&amp;#10;&amp;#10;&#x9; --check if login is needed&amp;#10;&#x9; DEFAULT_VALUE(:parameter.p_url_water_id,'GLOBAL.P_URL_WATER_ID');&amp;#10;&#x9; if :parameter.p_url_water_id is not null then&amp;#10;&#x9; &#x9;   &amp;#10;&#x9;     v_log_done:=login_pkg.connect_to_form(:parameter.p_url_user_name,:parameter.p_url_conf_num);&amp;#10;&#x9; &#x9;   --set global.&amp;#10;&#x9; &#x9;   -- even if log failed. globals needed for write log  &amp;#10;&#x9; &#x9;   &#x9;--exit form is done in the timer &amp;#10;&#x9;&#x9;&#x9;    begin&amp;#10;&#x9;&#x9;&#x9;      SELECT profile_code&amp;#10;&#x9;&#x9;&#x9;      INTO v_profile_code&amp;#10;&#x9;&#x9;&#x9;      FROM rm_users&amp;#10;&#x9;&#x9;&#x9;      WHERE user_name =:parameter.p_url_user_name;&amp;#10;&#x9;&#x9;&#x9;    exception&amp;#10;&#x9;&#x9;&#x9;      when others then&amp;#10;&#x9;&#x9;&#x9;         NULL;&amp;#10;&#x9;&#x9;&#x9;    end;&amp;#10;&#x9;&#x9;&#x9;    :global.profile_code := v_profile_code;&amp;#10;&#x9;&#x9;&#x9;    :global.user_name    := :parameter.p_url_user_name;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    SELECT entrance_seq.nextval&amp;#10;&#x9;&#x9;&#x9;    INTO v_seq&amp;#10;&#x9;&#x9;&#x9;    FROM DUAL;&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;    :global.entrance_seq := v_seq;&amp;#10;       --login from  developer&amp;#10;&#x9; &#x9;   else&amp;#10;&#x9; &#x9;   &#x9;v_res:=login_pkg.do_login;&amp;#10;&#x9;end if;&amp;#10;END;" DirtyInfo="true"/>
      <VisualAttribute Name="PERIOD_NOT_OK" FontWeight="Bold" FontStyle="Italic" ForegroundColor="metroblue1" DirtyInfo="true"/>
      <VisualAttribute Name="VISUAL_WATER_ID_CANCEL" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <VisualAttribute Name="VA_CURR_UNDERLINE" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURRENT_RECORD_UNDERLINE" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURR_RECORD_SPECIAL_ITEM" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURR_RECORD_RED_ITEM" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_RED_HEADER" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_TAB_CANVAS" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_DISPLAY_IN_RED_FRAME" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_ITEM_IN_SUM_ROW" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_SB_RADIO_CHECK_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_RADIO_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CHECK_PC" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_ALERT" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_BUTTON" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CONTENT_CANVAS" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURRENT_RECORD" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_EDITOR" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_ITEM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_LOV" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURRENT_NOTFUCUS" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURRENT_ACTION" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_CURRENT_ACTION_NOTF" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_ACTION_ITEM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_REQ_ITEM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_DISPLAY_ITEM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_ITEM_NOT_IN_ROW" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_SPECIAL_ITEM" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT"/>
      <VisualAttribute Name="VA_READING" FontWeight="Medium" ForegroundColor="r75g0b0"/>
      <VisualAttribute Name="VISUAL_KARAM" FontWeight="Bold" ForegroundColor="black" DirtyInfo="true"/>
      <VisualAttribute Name="CURENT" FontWeight="Bold" BackColor="r75g100b88" ForegroundColor="darkblue" FontSpacing="Normal" FontSize="1100" FontName="Monotype Sorts"/>
      <Window Name="TAGS_WIN" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS"/>
      <Window Name="BIG_PIC" YPosition="1500" XPosition="500" DirtyInfo="true" Width="25000" Title="פרטים נוספים" Height="14000" PrimaryCanvas="BIG_PIC"/>
      <Window Name="DETAILS" YPosition="1300" XPosition="400" DirtyInfo="true" Width="25374" Title="פרטים נוספים" Height="14658" PrimaryCanvas="DETAILS"/>
      <Window Name="POPUP_CONFIRM_WIN" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM"/>
      <Window Name="UPD_TAGS_WIN" YPosition="1683" XPosition="7500" DirtyInfo="true" Width="5079" Height="2566" PrimaryCanvas="UPD_TAGS_CV"/>
      <Window Name="IVR_PHON" SubclassObjectGroup="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_WINDOWS"/>
      <Window Name="UPD_READINGS_WIN" YPosition="6140" XPosition="13500" DirtyInfo="true" Width="7000" Title="עדכון תוספת" Height="5500" PrimaryCanvas="UPD_READINGS_CV"/>
      <Window Name="T_DEBUG" SubclassObjectGroup="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG"/>
      <Window Name="SEARCH_WATER_ID_WIN" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID"/>
      <Window Name="WEBUTIL_HIDDEN_WINDOW" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="webutil.olb" ParentModule="WEBUTIL" ParentModuleType="25" ParentName="WEBUTIL"/>
      <Window Name="IMAGES_WIN" YPosition="2000" XPosition="2000" DirtyInfo="true" Width="7000" Title="תמונות" Height="5000" PrimaryCanvas="IMAGES_CV"/>
      <Window Name="WT_WORK_COMMANDS_WIN" YPosition="4000" XPosition="5000" DirtyInfo="true" Width="12594" Title="יצירת פקודת עבודה" Height="10001" WindowStyle="Dialog" PrimaryCanvas="WT_WORK_COMMANDS_CV"/>
      <Window Name="ADD_WIN" MaximizeAllowed="false" YPosition="6140" MinimizeAllowed="false" XPosition="13500" DirtyInfo="true" Width="7000" Title="הוספת קריאת תוספת" Height="5500" PrimaryCanvas="ADD_CV"/>
      <Window Name="WINDOW1" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" PrimaryCanvas="MAIN_CV_4" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_WINDOWS"/>
      <Window Name="NEW_WATER_ID_WIN" ClearAllowed="true" MaximizeAllowed="true" YPosition="3000" XPosition="3000" Title="הוספת קריאה חדשה" ResizeAllowed="true" MoveAllowed="true" DirtyInfo="true" Width="14500" Height="10000" WindowStyle="Dialog" PrimaryCanvas="NEW_WATER_ID_CV" Modal="true"/>
      <Window Name="HELP_WIN" SubclassObjectGroup="true" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_WINDOWS"/>
      <Window Name="KARAM_WIN" Bevel="None" DirtyInfo="true" Width="10000" Title="תישאול קר&quot;מ" LanguageDirection="Default" Height="5000"/>
      <Window Name="WT_READINGS_UPD_WIN" ClearAllowed="false" MaximizeAllowed="false" YPosition="5000" XPosition="2600" MinimizeAllowed="false" Title="קריאות לזיהוי מים" ResizeAllowed="false" MoveAllowed="true" Bevel="None" DirtyInfo="true" Width="17300" Height="8400" PrimaryCanvas="READING_UPD_CV" Modal="true"/>
      <Window Name="STAM_WIN" DirtyInfo="true" Width="19050" Height="11430"/>
      <ObjectGroup Name="OBJ_TRIGGERS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TRIGGERS">
         <ObjectGroupChild Name="KEY-F1" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="WHEN-MOUSE-CLICK" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="WHEN-NEW-FORM-INSTANCE" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-F3" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="HANDLE_PERMITS" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="NEXT_REC" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="PREV_REC" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="KEY-F4" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="WHEN-MOUSE-DOUBLECLICK" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="WHEN-WINDOW-ACTIVATED" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="WHEN-TIMER-EXPIRED" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-EXIT" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-ENTQRY" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-EXEQRY" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-CLRFRM" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="ENTER_QRY" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="CLEAR_BLK" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-CLRBLK" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="ON-ERROR" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="ON-MESSAGE" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-DELREC" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-CREREC" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-UPDREC" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-NXTBLK" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-PRVBLK" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="KEY-F5" SubclassSubObject="true" Type="Trigger"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_EVENT_CONFIRM" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_EVENT_CONFIRM">
         <ObjectGroupChild Name="POPUP_CONFIRM" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="POPUP_CONFIRM_CV" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="WHEN-EVENT-RAISED" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="POPUP_CONFIRM_WIN" SubclassSubObject="true" Type="Window"/>
         <ObjectGroupChild Name="EVENT_CONFIRM" SubclassSubObject="true" Type="Event"/>
         <ObjectGroupChild Name="PAR_BLOCK_NAME_POPUP" SubclassSubObject="true" Type="ModuleParameter"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_TAGS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_TAGS">
         <ObjectGroupChild Name="RM_TAGS_ICONS" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="RM_TAGS_CONTENT" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="P_TAGS_EXISTS" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="TAGS_CV" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="P_TAGS_TEXT" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="P_TAGS_QUERY" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="P_TAGS_LEVEL" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="SET_TAGS" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="TAGS_WIN" SubclassSubObject="true" Type="Window"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJECT_GROUP438" DirtyInfo="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG">
         <ObjectGroupChild Name="KEY-CLRREC" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="DYNAMIC_STOP" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Window"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="D" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="D" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="PERFORM_FOR_ALL" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="POPULATE_LIST_WITH_QUERY" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="GENERAL_GROUP" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="CHECK_IF_NULL" SubclassSubObject="true" ProgramUnitType="Function" Type="ProgramUnit"/>
         <ObjectGroupChild Name="FORM_PKG" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="FORM_PKG" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="STD_MENU_VIEW" SubclassSubObject="true" Type="Menu"/>
      </ObjectGroup>
      <ObjectGroup Name="WEBUTIL" DirtyInfo="true" ParentType="23" ParentFilename="webutil.olb" ParentModule="WEBUTIL" ParentModuleType="25" ParentName="WEBUTIL">
         <ObjectGroupChild Name="WEBUTIL_ERROR" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="WEBUTIL_HIDDEN_WINDOW" SubclassSubObject="true" Type="Window"/>
         <ObjectGroupChild Name="WEBUTIL_CANVAS" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="WEBUTIL" SubclassSubObject="true" Type="Block"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_SEARCH_WATER_ID" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_SEARCH_WATER_ID">
         <ObjectGroupChild Name="LOV_DEBIT_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_REGION_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_CITY" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_UNIT_FOR_READING_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_UNIT_BY_REGION_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_REGION_BY_UNIT_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_GAUGES_TYPE_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_STREET_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="LOV_WATER_CLASS_S" SubclassSubObject="true" Type="LOV"/>
         <ObjectGroupChild Name="QUERY_WATER_ID" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="WATER_ID_SEARCH" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="WATER_ID_SERCH_CV" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="SEARCH_V_SQL_RESULTS" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="POPULATE_PKG_SEARCH" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="STACK_WATER_ID_CV" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="POPULATE_PKG_SEARCH" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="SEARCH_WATER_ID_BUT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="RECORD_DEBIT_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_REGION_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_UNIT_FOR_READING_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="GR_CITY_CODES" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_UNIT_BY_REGION_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_REGION_BY_UNIT_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_ASSETS_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_WATER_ID_TYPE_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="RECORD_GAUGE_TYPE_S" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="VISUAL_WATER_ID_CANCEL" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="SEARCH_WATER_ID_WIN" SubclassSubObject="true" Type="Window"/>
      </ObjectGroup>
      <ObjectGroup Name="T_DEBUG" DirtyInfo="true" ParentType="23" ParentFilename="BA_OLB.olb" ParentModule="BA_OLB" ParentModuleType="25" ParentName="T_DEBUG">
         <ObjectGroupChild Name="KEY-CLRREC" SubclassSubObject="true" Type="Trigger"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="DYNAMIC_STOP" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Window"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="D" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="D" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="PERFORM_FOR_ALL" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="POPULATE_LIST_WITH_QUERY" SubclassSubObject="true" ProgramUnitType="Procedure" Type="ProgramUnit"/>
         <ObjectGroupChild Name="GENERAL_GROUP" SubclassSubObject="true" Type="RecordGroup"/>
         <ObjectGroupChild Name="CHECK_IF_NULL" SubclassSubObject="true" ProgramUnitType="Function" Type="ProgramUnit"/>
         <ObjectGroupChild Name="FORM_PKG" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="FORM_PKG" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" ProgramUnitType="Package Spec" Type="ProgramUnit"/>
         <ObjectGroupChild Name="T_DEBUG" SubclassSubObject="true" ProgramUnitType="Package Body" Type="ProgramUnit"/>
         <ObjectGroupChild Name="STD_MENU_VIEW" SubclassSubObject="true" Type="Menu"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_INS_UPD" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_INS_UPD">
         <ObjectGroupChild Name="UPD_CV" SubclassSubObject="true" Type="Canvas"/>
      </ObjectGroup>
      <ObjectGroup Name="CANVAS_4" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="CANVAS_4">
         <ObjectGroupChild Name="MAIN_CV_4" SubclassSubObject="true" Type="Canvas"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_ALERTS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_ALERTS">
         <ObjectGroupChild Name="GENERAL" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="STOP_1" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="STOP_2" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="STOP_3" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="CAUTION_1" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="CAUTION_2" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="CAUTION_3" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="NOTE_1" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="NOTE_2" SubclassSubObject="true" Type="Alert"/>
         <ObjectGroupChild Name="NOTE_3" SubclassSubObject="true" Type="Alert"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_CANVAS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CANVAS">
         <ObjectGroupChild Name="IVR_PHON" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="HELP_CAN" SubclassSubObject="true" Type="Canvas"/>
         <ObjectGroupChild Name="TOOLBAR" SubclassSubObject="true" Type="Canvas"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_VISUAL_ATT" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_VISUAL_ATT">
         <ObjectGroupChild Name="VA_CURR_UNDERLINE" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURR_RECORD_SPECIAL_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURR_RECORD_RED_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_RED_HEADER" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_TAB_CANVAS" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_ALERT" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_BUTTON" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CONTENT_CANVAS" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURRENT_RECORD" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_EDITOR" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CHECK_PC" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_RADIO_PC" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_SB_RADIO_CHECK_PC" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_LOV" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURRENT_NOTFUCUS" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURRENT_ACTION" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURRENT_ACTION_NOTF" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_ACTION_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_SPECIAL_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_REQ_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_DISPLAY_ITEM" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_DISPLAY_IN_RED_FRAME" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_ITEM_NOT_IN_ROW" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_ITEM_IN_SUM_ROW" SubclassSubObject="true" Type="VisualAttribute"/>
         <ObjectGroupChild Name="VA_CURRENT_RECORD_UNDERLINE" SubclassSubObject="true" Type="VisualAttribute"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_CLASS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_CLASS">
         <ObjectGroupChild Name="TEXT_ITEM_HEB_CENTER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SEARCH_CLIENT_BUT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BACKGROUND_ITEM" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="ALERT_TEXT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_LARGE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_SMALL_TEXT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_ADD_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_UPDATE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_SAVE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_EXIT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_CANCEL_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_LOV_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_PRINT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_SHOW_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_ORDER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="BUTTON_CALANDER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="CHECK_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="CODE_4INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="CONTENT_CANVAS_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_CODE_4INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_DATE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_HEB_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_ENG_UPPER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_ENG_LOWER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_ENG_MIXED_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_NUMBER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_NUM_INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_CHECK_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_RADIO_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_NUMBER_COLOR_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_NUM_INT_COLOR_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_CODE_4INT_COLOR_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_HEB_COLOR" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_ENG_UPPER_COLOR" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_ENG_LOWER_COLOR" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISP_ITEM_ENG_MIXED_COLOR" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISPLAY_DATE_COLOR_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISPLAY_ACTION_CODE" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="DISPLAY_SPECIAL_CODE" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="ENG_LOV_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="FIELD_FRAME_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="FOR_UPDATE_CV_FRAME" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="IN_RED_RADIO_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="IN_RED_CHECK_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="HEB_LOV_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="LIST_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="NUM_INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="NUMBER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="RADIO_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="PRIVATE_MENU_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_CHECK_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_CODE_4INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_NUMBER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_NUM_INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_RADIO_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_TEXT_ITEM_HEB_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_TXT_ITEM_ENG_UPPER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_TXT_ITEM_ENG_LOWER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_TXT_ITEM_ENG_MIXED_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_LIST_ITEM_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_NUMBER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_NUM_INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_CODE_4INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_ITEM_ENG_UPPER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_ITEM_ENG_LOWER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_ITEM_ENG_MIXED_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_ITEM_HEB_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_CHECK_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_YYYY_CAL_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SB_REQ_LIST_ITEM_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="STAMP_DATE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_NUMBER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_NUM_INT_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_ITEM_HEB_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_ITEM_ENG_UPPER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_ITEM_ENG_LOWER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_ITEM_ENG_MIXED_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SUM_DATE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SECONDARY_CANVAS_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="SECONDARY_WIN_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="TAB_CANVAS_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="TXT_ITEM_HEB_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="TXT_ITEM_ENG_UPPER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="TXT_ITEM_ENG_LOWER_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="TXT_ITEM_ENG_MIXED_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="TXT_DATE_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="YYYY_CAL_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="ICON_PC" SubclassSubObject="true" Type="PropertyClass"/>
         <ObjectGroupChild Name="ICON_SMALL_PC" SubclassSubObject="true" Type="PropertyClass"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_WINDOWS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_WINDOWS">
         <ObjectGroupChild Name="IVR_PHON" SubclassSubObject="true" Type="Window"/>
         <ObjectGroupChild Name="WINDOW1" SubclassSubObject="true" Type="Window"/>
         <ObjectGroupChild Name="HELP_WIN" SubclassSubObject="true" Type="Window"/>
      </ObjectGroup>
      <ObjectGroup Name="OBJ_BLOCKS" DirtyInfo="true" ParentType="23" ParentFilename="METRO10.olb" ParentModule="METRO10" ParentModuleType="25" ParentName="OBJ_BLOCKS">
         <ObjectGroupChild Name="IVR_RM_PHON" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="TOOLBAR" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="P_IVR_CURSER_ITEM" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="P_IVR_AREA_CODE_PHON" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="P_IVR_PHON" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="TITLE" SubclassSubObject="true" Type="Block"/>
         <ObjectGroupChild Name="PAR_BLOCK_NAME" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="PAR_STR_GENERAL_MENU" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="PAR_STR_PRIVATE_MENU" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="P_FLAG_SEARCH_C" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="P_MUNI_SEARCH_C" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="PAR_QUERY_BLK" SubclassSubObject="true" Type="ModuleParameter"/>
         <ObjectGroupChild Name="HELP_BLK" SubclassSubObject="true" Type="Block"/>
      </ObjectGroup>
   </FormModule>
</Module>
